{"name":"s3-thumb-server","version":"2.3.5","description":"Serve thumbnails of images stored on S3 over HTTP","license":"MIT","main":"lib","files":["lib"],"scripts":{"test":"npm run lint","lint":"eslint modules","build":"rimraf lib && babel ./modules -d lib","release":"node ./scripts/release.js","prepublish":"npm run build"},"dependencies":{"aws-sdk":"^2.2.37","invariant":"^2.2.0","sharp":"^0.15.0"},"devDependencies":{"babel-cli":"^6.5.1","babel-core":"^6.5.2","babel-eslint":"^6.0.0","babel-preset-es2015":"^6.5.0","eslint":"^2.5.1","eslint-plugin-import":"^1.7.0","readline-sync":"^1.4.1","rimraf":"^2.5.2"},"babel":{"presets":["es2015"]},"gitHead":"f40f393ed9b1f189a42964fed46b3358c9d4f126","versions":[{"number":"1.0.0","date":"2016-02-19T21:38:21.782Z"},{"number":"1.0.1","date":"2016-02-19T23:46:47.102Z"},{"number":"1.0.2","date":"2016-02-20T00:00:03.730Z"},{"number":"1.0.3","date":"2016-02-20T00:42:40.246Z"},{"number":"1.0.4","date":"2016-02-20T00:44:12.670Z"},{"number":"2.0.0","date":"2016-02-21T00:22:00.702Z"},{"number":"2.1.0","date":"2016-02-22T03:12:03.219Z"},{"number":"2.2.0","date":"2016-02-25T23:01:20.479Z"},{"number":"2.3.0","date":"2016-03-06T04:47:45.698Z"},{"number":"2.3.1","date":"2016-03-13T23:03:38.407Z"},{"number":"2.3.2","date":"2016-03-18T19:43:14.111Z"},{"number":"2.3.3","date":"2016-04-21T15:52:06.195Z"},{"number":"2.3.4","date":"2016-06-11T19:13:01.372Z"},{"number":"2.3.5","date":"2016-06-11T19:18:18.916Z"}],"readme":"# s3-thumb-server [![Travis][build-badge]][build] [![npm package][npm-badge]][npm]\n\n[build-badge]: https://img.shields.io/travis/mjackson/s3-thumb-server/master.svg?style=flat-square\n[build]: https://travis-ci.org/mjackson/s3-thumb-server\n\n[npm-badge]: https://img.shields.io/npm/v/s3-thumb-server.svg?style=flat-square\n[npm]: https://www.npmjs.org/package/s3-thumb-server\n\ns3-thumb-server is an HTTP server that serves thumbnails of images stored on S3.\n\n## Installation\n\nUsing [npm](https://www.npmjs.com/):\n\n    $ npm install --save s3-thumb-server\n\nThen, use as you would anything else:\n\n```js\n// using ES6 modules\nimport { createServer } from 's3-thumb-server'\n\n// using CommonJS modules\nvar createServer = require('s3-thumb-server').createServer\n```\n\n## Configuration and Usage\n\nUse `createServer` to create a server instance, passing it all the information it needs to connect to S3:\n\n```js\nimport { createServer } from 's3-thumb-server'\n\nconst server = createServer({\n  accessKeyId: '...',         // Your AWS access key ID, required\n  secretAccessKey: '...',     // Your AWS secret access key, required\n  region: 'us-west-1',        // The AWS region of your S3 bucket, defaults to \"us-west-1\"\n  s3Bucket: '...'             // The name of your S3 bucket, required\n})\n\nserver.listen(8080)\n```\n\n`server` is a standard [node HTTP server](https://nodejs.org/api/http.html#http_class_http_server).\n\nIf you'd like to use s3-thumb-server as part of a larger site, using e.g. a framework like [express](http://expressjs.com/), you can use the `createRequestHandler` function directly. As its name suggests, this function returns another function that can be used as the request handler in a standard node HTTP server. This function accepts the same options as `createServer`.\n\n```js\nimport express from 'express'\nimport { createRequestHandler } from 's3-thumb-server'\n\nconst app = express()\napp.use(express.static('public'))\napp.use(createRequestHandler())\n\n// ...\n```\n\n## URL Format\n\nIn s3-thumb-server, the URL is the API. The server recognizes URLs in the format `/size/key` where:\n\n    size            A string in the format WxH, e.g. 120x100\n    key             The key of the image in S3\n\nYou may omit either the width or the height to constrain the resize operation by only one dimension. For example, `200x` will constrain the width to 200 pixels and automatically calculate the height preserving the aspect ratio of the original. Likewise, `x200` will constrain by height.\n\n## Signing URLs\n\nThe server has the ability to automatically reject requests that have not been signed using a cryptographically secure key. To use this feature, pass a `secretKey` option to `createServer`:\n\n```js\nimport { createServer } from 's3-thumb-server'\n\nconst server = createServer({\n  // ...\n  secretKey: 'something secret'\n})\n```\n\nThis server will recognize URLs like `/signature/size/key`, where `signature` is a signed value that may be generated using the secret key and the S3 key for a given object.\n\n```js\nimport { generateSignature } from 's3-thumb-server'\nconst signature = generateSignature(secretKey, key)\n```\n","created":"2016-02-19T21:38:21.782Z","modified":"2016-06-11T19:18:18.916Z","lastPublisher":{"name":"mjackson","email":"mjijackson@gmail.com"},"owners":[{"name":"mjackson","email":"mjijackson@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"s3-thumb-server","_nodeVersion":"6.0.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/s3-thumb-server-2.3.5.tgz_1465672694937_0.5846278325188905"},"_npmUser":{"name":"mjackson","email":"mjijackson@gmail.com"},"_npmVersion":"3.8.6","_rev":"1-007dfa79af76e96ece9455689ab66297","_shasum":"079d1f83c1bad35012a3cec17ee8ea11361f064c","author":{"name":"Michael Jackson"},"directories":{},"dist-tags":{"latest":"2.3.5"},"dist":{"shasum":"079d1f83c1bad35012a3cec17ee8ea11361f064c","tarball":"http://registry.npmjs.org/s3-thumb-server/-/s3-thumb-server-2.3.5.tgz"},"maintainers":[{"name":"mjackson","email":"mjijackson@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-06-11T19:18:18.916Z","created":"2016-02-19T21:38:21.782Z","1.0.0":"2016-02-19T21:38:21.782Z","1.0.1":"2016-02-19T23:46:47.102Z","1.0.2":"2016-02-20T00:00:03.730Z","1.0.3":"2016-02-20T00:42:40.246Z","1.0.4":"2016-02-20T00:44:12.670Z","2.0.0":"2016-02-21T00:22:00.702Z","2.1.0":"2016-02-22T03:12:03.219Z","2.2.0":"2016-02-25T23:01:20.479Z","2.3.0":"2016-03-06T04:47:45.698Z","2.3.1":"2016-03-13T23:03:38.407Z","2.3.2":"2016-03-18T19:43:14.111Z","2.3.3":"2016-04-21T15:52:06.195Z","2.3.4":"2016-06-11T19:13:01.372Z","2.3.5":"2016-06-11T19:18:18.916Z"}}}