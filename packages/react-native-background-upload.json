{"name":"react-native-background-upload","version":"3.0.0-beta","description":"Cross platform http post file uploader with android and iOS background support","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/Vydia/react-native-background-upload","keywords":["NSURLSession","UploadService","background","upload","react-native"],"peerDependencies":{"react":"*","react-native":">=0.40.0"},"license":"BSD-3-Clause","homepage":"https://github.com/Vydia/react-native-background-upload#readme","gitHead":"a46db1d77ba33660341c536592ea46c80c83d606","versions":[{"number":"0.0.1","date":"2016-12-13T01:37:43.815Z"},{"number":"0.0.2","date":"2016-12-16T14:29:43.195Z"},{"number":"0.0.3","date":"2016-12-16T17:17:37.345Z"},{"number":"0.1.0","date":"2017-01-24T16:13:15.327Z"},{"number":"0.1.2","date":"2017-02-09T03:20:50.456Z"},{"number":"0.1.3","date":"2017-02-27T22:48:32.480Z"},{"number":"0.1.4","date":"2017-03-02T22:31:48.257Z"},{"number":"1.0.0","date":"2017-03-27T19:58:57.176Z"},{"number":"1.1.0","date":"2017-04-27T14:29:04.226Z"},{"number":"2.0.0","date":"2017-04-28T15:29:08.956Z"},{"number":"2.1.0","date":"2017-05-08T17:53:04.247Z"},{"number":"2.1.1","date":"2017-05-08T18:59:14.098Z"},{"number":"3.0.0-beta","date":"2017-05-09T13:57:18.185Z"}],"readme":"# react-native-background-upload [![npm version](https://badge.fury.io/js/react-native-background-upload.svg)](https://badge.fury.io/js/react-native-background-upload)\nThe only React Native http post file uploader with android and iOS background support.  If you are uploading large files like videos, use this so your users can background your app during a long upload.\n\n## Installation\n\n`npm install react-native-background-upload`\n\n### Automatic Native Library Linking\n\n`react-native link react-native-background-upload`\n\n### Manual Native Library Linking\n\n#### iOS\n\n1. In the XCode's \"Project navigator\", right click on your project's Libraries folder ➜ `Add Files to <...>`\n2. Go to `node_modules` ➜ `react-native-background-upload` ➜ `ios` ➜ select `VydiaRNFileUploader.xcodeproj`\n3. Add `VydiaRNFileUploader.a` to `Build Phases -> Link Binary With Libraries`\n\n#### Android\n1. Add the following lines to `android/settings.gradle`:\n\n    ```gradle\n    include ':react-native-background-upload'\n    project(':react-native-background-upload').projectDir = new File(settingsDir, '../node_modules/react-native-background-upload/android')\n    ```\n2. Add the compile and resolutionStrategy line to the dependencies in `android/app/build.gradle`:\n\n    ```gradle\n    configurations.all { resolutionStrategy.force 'com.squareup.okhttp3:okhttp:3.4.1' } // required by react-native-background-upload until React Native supports okhttp >= okhttp 3.5\n\n    dependencies {\n        compile project(':react-native-background-upload')\n    }\n    ```\n\n\n3. Add the import and link the package in `MainApplication.java`:\n\n    ```java\n    import com.vydia.RNUploader.UploaderReactPackage;  <-- add this import\n\n    public class MainApplication extends Application implements ReactApplication {\n        @Override\n        protected List<ReactPackage> getPackages() {\n            return Arrays.<ReactPackage>asList(\n                new MainReactPackage(),\n                new UploaderReactPackage() // <-- add this line\n            );\n        }\n    }\n    ```\n\n4. Ensure Android SDK versions.  Open your app's `android/app/build.gradle` file.  Ensure `compileSdkVersion` and `targetSdkVersion` are 25.  Otherwise you'll get compilation errors.\n\n\n## Usage\n\n```js\nimport Upload from 'react-native-background-upload'\n\nconst options {\n  url: 'https://myservice.com/path/to/post',\n  path: 'file://path/to/file/on/device',\n  method: 'POST',\n  headers: {\n    'my-custom-header': 's3headervalueorwhateveryouneed'\n  },\n  // Below are options only supported on Android\n  notification: {\n    enabled: true\n  }\n}\n\nUpload.startUpload(options).then((uploadId) => {\n  console.log('Upload started')\n  Upload.addListener('progress',uploadId, (data) => {\n    console.log(`Progress: ${data.progress}%`)\n  })\n  Upload.addListener('error',uploadId, (data) => {\n    console.log(`Error: ${data.error}%`)\n  })\n  Upload.addListener('completed',uploadId, (data) => {\n    console.log(`Completed!`)\n  })\n}).catch(function(err) {\n  console.log('Upload error!',err)\n});\n```\n\n## FAQs\n\nDoes it support iOS camera roll assets?\n\n> No, they must be converted to a file asset.  The easist way to tell is that the url should always start with 'file://'.  If not, it won't work.  Things like [react-native-image-picker](https://github.com/marcshilling/react-native-image-picker) provide you with both.  PRs are welcome for this.\n\nDoes it support multiple file uploads?\n\n> Yes and No.  It supports multiple concurrent uploads, but only a single upload per request.  That should be fine for 90%+ of cases.\n\nWhy should I use this file uploader instead of others that I've Googled like [react-native-uploader](https://github.com/aroth/react-native-uploader)?\n\n> This package has two killer features not found anywhere else (as of 12/16/2016).  First, it works on both iOS and Android.  Others are iOS only.  Second, it supports background uploading.  This means that users can background your app and the upload will continue.  This does not happen with other uploaders.\n\n\n## BREAKING CHANGE IN 3.0\nIn 3.0, you need to add \n```gradle\n    configurations.all { resolutionStrategy.force 'com.squareup.okhttp3:okhttp:3.4.1' }\n```\nto your app's app's `android/app/build.gradle` file.\n\nJust add it above (not within) `dependencies` and you'll be fine.\n\n\n## BREAKING CHANGE IN 2.0\nTwo big things happened in version 2.0.  First, thehe Android package name had to be changed, as it conflicted with our own internal app.  My bad.  Second, we updated the android upload service dependency to the latest, but that requires the app have a compileSdkVersion and targetSdkVersion or 25.\n\nTo upgrade:\nIn `MainApplication.java`:\n\nChange\n\n    ```java\n    import com.vydia.UploaderReactPackage;\n    ```\n\nto\n\n    ```java\n    import com.vydia.RNUploader.UploaderReactPackage;\n    ```\n    \nThen open your app's `android/app/build.gradle` file.\nEnsure `compileSdkVersion` and `targetSdkVersion` are 25.\n\nDone!\n\n\n## Gratitude\n\nThanks to:\n- [android-upload-service](https://github.com/gotev/android-upload-service)  It made Android dead simple to support.  \n\n- [MIME type from path on iOS](http://stackoverflow.com/questions/2439020/wheres-the-iphone-mime-type-database)  Thanks for the answer!\n\n","created":"2016-12-13T01:37:43.815Z","modified":"2017-05-09T13:57:18.185Z","lastPublisher":{"name":"stevepotter","email":"me@stevepotter.me"},"owners":[{"name":"kenleland","email":"ken.leland@gmail.com"},{"name":"stevepotter","email":"me@stevepotter.me"}],"other":{"_attachments":{},"_from":".","_id":"react-native-background-upload","_nodeVersion":"7.6.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/react-native-background-upload-3.0.0-beta.tgz_1494338237492_0.8361046686768532"},"_npmUser":{"name":"stevepotter","email":"me@stevepotter.me"},"_npmVersion":"4.1.2","_rev":"14-cc94a212720e3d1bcfc137749accefa4","_shasum":"2696a23ed9890ba40aae568c2abdbe10d96b0e86","author":{"name":"Steve Potter"},"bugs":{"url":"https://github.com/Vydia/react-native-background-upload/issues"},"directories":{},"dist-tags":{"latest":"3.0.0-beta"},"dist":{"shasum":"2696a23ed9890ba40aae568c2abdbe10d96b0e86","tarball":"https://registry.npmjs.org/react-native-background-upload/-/react-native-background-upload-3.0.0-beta.tgz"},"maintainers":[{"name":"kenleland","email":"ken.leland@gmail.com"},{"name":"stevepotter","email":"me@stevepotter.me"}],"readmeFilename":"README.md","time":{"modified":"2017-05-09T13:57:18.185Z","created":"2016-12-13T01:37:43.815Z","0.0.1":"2016-12-13T01:37:43.815Z","0.0.2":"2016-12-16T14:29:43.195Z","0.0.3":"2016-12-16T17:17:37.345Z","0.1.0":"2017-01-24T16:13:15.327Z","0.1.2":"2017-02-09T03:20:50.456Z","0.1.3":"2017-02-27T22:48:32.480Z","0.1.4":"2017-03-02T22:31:48.257Z","1.0.0":"2017-03-27T19:58:57.176Z","1.1.0":"2017-04-27T14:29:04.226Z","2.0.0":"2017-04-28T15:29:08.956Z","2.1.0":"2017-05-08T17:53:04.247Z","2.1.1":"2017-05-08T18:59:14.098Z","3.0.0-beta":"2017-05-09T13:57:18.185Z"}}}