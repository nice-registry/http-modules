{"name":"express-res","version":"0.2.1","description":"Http Response middleware for Express","repository":"https://github.com/perzy/express-res","license":"MIT","dependencies":{"lodash":"~3.9.3","glob":"~5.0.10","async":"~1.2.1","debug":"2.2.0"},"devDependencies":{},"files":["lib/","README.md","LICENSE","index.js"],"engines":{"node":">= 0.8.0"},"scripts":{},"homepage":"https://github.com/perzy/express-res","versions":[{"number":"0.1.0","date":"2015-07-12T17:14:26.850Z"},{"number":"0.2.0","date":"2015-09-12T13:32:02.317Z"},{"number":"0.2.1","date":"2015-09-12T13:45:36.940Z"}],"readme":"# express-res\n\n[![NPM Version][npm-image]][npm-url]\n[![NPM Downloads][downloads-image]][downloads-url]\n\n## Installation\n\n```bash\n$ npm install express-res\n```\n\n## API\n\n```js\nvar responses = require('express-res');\n```\n\n### responses(options)\n\nCreate a express response middleware with the given `options`.\n\n\n\n## Examples\n\n### express middleware init\n\nThe default custom express mvc response middleware path is ./app/responses/\n\n\n```js\nvar express = require('express')\nvar responses = require('express-res');\n\nvar app = express()\n\napp.use(responses());\n\n```\n\n### how to define a response middleware then use it\n\nCreate a file in ./app/responses folder,this call ok.js.\n\nThe content is like:\n\n```js\nvar _ = require('lodash');\n\nmodule.exports = function ok (data, options) {\n\n  var req = this.req;\n  var res = this.res;\n  var defaultOptions = {\n    keepEmptyData:false\n  };\n  options = _.assign(defaultOptions,options);\n\n  var json = {\n    code:200,\n    msg:'ok',\n    data:data\n  };\n\n  if(!options.keepEmptyData && _.isEmpty(json.data)){\n    delete json.data;\n  }\n\n  res.json(json);\n};\n```\n\nSo when express mvc app start.The responses middleware setup auto.\nThen, you can use custom method on res you define.\n\n```js\nrouter.get('/test/ok',function(req,res){\n  res.ok({name:\"jerry wu\"});\n});\n```\n\n\n## License\n\n[MIT](LICENSE)","created":"2015-07-12T17:14:26.850Z","modified":"2015-09-12T13:45:36.940Z","lastPublisher":{"name":"jerrywu","email":"perzy_wu@163.com"},"owners":[{"name":"jerrywu","email":"perzy_wu@163.com"}],"other":{"_attachments":{},"_from":".","_id":"express-res","_nodeVersion":"0.12.3","_npmUser":{"name":"jerrywu","email":"perzy_wu@163.com"},"_npmVersion":"2.9.1","_rev":"1-2ec49c091e54df8c829ebd81d895851b","_shasum":"465ccf20e0c3a3d852a67098661d5f9e32210385","author":{"name":"Jerry Wu","email":"perzy_wu@163.com","url":"https://github.com/perzy"},"bugs":{"url":"https://github.com/perzy/express-res/issues"},"contributors":[{"name":"jerrywu","email":"perzy_wu@163.com"}],"directories":{},"dist-tags":{"latest":"0.2.1"},"dist":{"shasum":"465ccf20e0c3a3d852a67098661d5f9e32210385","tarball":"http://registry.npmjs.org/express-res/-/express-res-0.2.1.tgz"},"maintainers":[{"name":"jerrywu","email":"perzy_wu@163.com"}],"readmeFilename":"README.md","time":{"modified":"2015-09-12T13:45:36.940Z","created":"2015-07-12T17:14:26.850Z","0.1.0":"2015-07-12T17:14:26.850Z","0.2.0":"2015-09-12T13:32:02.317Z","0.2.1":"2015-09-12T13:45:36.940Z"}}}