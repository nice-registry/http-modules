{"name":"scramjet-http-uristream","version":"1.1.2","description":"A simple stateless http server that emits all uris as a stream","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"homepage":"https://michalcz.github.io/scramjet/","repository":"https://github.com/signicode/scramjet-http-uristream","engines":{"node":">=6"},"license":"MIT","dependencies":{"scramjet":">=2"},"gitHead":"b5251a927634b9ffc367d8100beb2cfe2fad4851","versions":[{"number":"0.11.0","date":"2016-10-21T12:44:18.120Z"},{"number":"1.0.0","date":"2016-11-30T19:32:39.006Z"},{"number":"1.1.1","date":"2017-05-15T19:19:03.965Z"},{"number":"1.1.2","date":"2017-05-15T19:21:14.817Z"}],"readme":"Scramjet HTTP UriStream\r\n-------------------------\r\n\r\nA simple HTTP server providing a stream of HTTP URI's sent to it. Clients always receive a `204 No content` status.\r\n\r\n## API\r\n\r\nThe module exposes the following methods:\r\n\r\n### scHTTP.uri\r\n\r\n`scHTTP.uri([scramjet, ]server)` - a stream of uri strings of all requests made to the server (except for OPTIONS)\r\n\r\nArguments:\r\n\r\n* `server` - your HTTP server\r\n\r\n### scHTTP.request\r\n\r\n`scHTTP.request([scramjet, ]server)` - a stream of all request objects from requests made to the server (except for OPTIONS)\r\n\r\nArguments:\r\n\r\n* `server` - your HTTP server\r\n\r\n## Usage\r\n\r\nA simple http tracking server with separated paths for some requests\r\n\r\n```javascript\r\n    const scramjet = require(\"scramjet\");\r\n    const server = require(\"http\").createServer();\r\n    const scUri = require(\"scramjet-http-uristream\");\r\n\r\n    scHTTP.uri(scramjet, server)\r\n        .map((item) => {\r\n            const ret = url.parse(item, true);\r\n            ret.ts = Date.now();\r\n        })\r\n        .filter((url) => url.pathname.indexOf(\"/track\") >= 0)\r\n        .map((item) => item.query)\r\n        .tee(\r\n            (stream) => stream\r\n                .filter((item) => item.t === \"imp\")\r\n                .on(\"data\", (item) => console.log(\"IMP\", item))\r\n        )\r\n        .on(\"data\", (item) => console.log(\"ALL\", item))\r\n        .on(\"error\", (err) => console.log(err && err.stack));\r\n\r\n    server.listen(8080);\r\n```\r\n\r\n## License and contributions\r\n\r\nAs of version 2.0 Scramjet is MIT Licensed and as of 1.0.0 so is this module.\r\n","starsCount":1,"created":"2016-10-21T12:44:18.120Z","modified":"2017-05-23T19:41:24.691Z","lastPublisher":{"name":"michalcz","email":"budleigh.salteron@gmail.com"},"owners":[{"email":"budleigh.salteron@gmail.com","name":"michalcz"},{"email":"kuba@niegowski.pl","name":"niegowski"}],"other":{"_attachments":{},"_from":".","_id":"scramjet-http-uristream","_nodeVersion":"7.10.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/scramjet-http-uristream-1.1.2.tgz_1494876073537_0.949894490884617"},"_npmUser":{"name":"michalcz","email":"budleigh.salteron@gmail.com"},"_npmVersion":"4.2.0","_rev":"6-c83b498c666336405b252e25aed98890","_shasum":"d5dda9943ba01c82288d93c8fb0a4a168068c01b","author":{"name":"Signicode / Micha≈Ç Czapracki","email":"cz@signicode.com"},"bugs":{"url":"https://github.com/signicode/scramjet-http-uristream/issues"},"directories":{},"dist-tags":{"latest":"1.1.2"},"dist":{"shasum":"d5dda9943ba01c82288d93c8fb0a4a168068c01b","tarball":"https://registry.npmjs.org/scramjet-http-uristream/-/scramjet-http-uristream-1.1.2.tgz"},"maintainers":[{"email":"budleigh.salteron@gmail.com","name":"michalcz"},{"email":"kuba@niegowski.pl","name":"niegowski"}],"readmeFilename":"README.md","time":{"modified":"2017-05-23T19:41:24.691Z","created":"2016-10-21T12:44:18.120Z","0.11.0":"2016-10-21T12:44:18.120Z","1.0.0":"2016-11-30T19:32:39.006Z","1.1.1":"2017-05-15T19:19:03.965Z","1.1.2":"2017-05-15T19:21:14.817Z"},"users":{"michalcz":true}}}