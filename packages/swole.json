{"name":"swole","main":"index.js","version":"1.1.2","description":"HTTP request router for Swagger/OpenAPI","license":"MIT","repository":"https://github.com/bendrucker/swole","scripts":{"test":"standard && 100 tape test.js"},"keywords":["swagger","swole","router","http","request","req","api"],"devDependencies":{"assert-100":"~1.1.0","bulk-require":"~1.0.0","nyc":"~7.1.0","send-json":"~2.0.0","shot":"~3.1.0","standard":"^7.1.2","tape":"^4.0.0"},"files":["*.js"],"dependencies":{"ajv":"~4.10.3","ap":"~0.2.0","body-parser":"~1.15.2","delayed-response":"~2.0.0","error":"~7.0.2","fn-unary":"~1.0.0","http-hash-router":"~1.1.0","map-obj":"~1.0.1","run-series":"~1.1.4","safe-json-parse":"~4.0.0","swagger-parameters":"~1.3.0","to-buffer":"~1.0.1","url-join":"~1.1.0","xtend":"~4.0.1"},"gitHead":"ef26c078d8ee8b720691baaf06d009729d329d37","homepage":"https://github.com/bendrucker/swole#readme","versions":[{"number":"0.0.0","date":"2014-07-30T17:24:13.281Z"},{"number":"0.1.0","date":"2016-07-28T23:34:45.890Z"},{"number":"0.1.1","date":"2016-07-29T01:24:41.807Z"},{"number":"0.1.2","date":"2016-07-29T14:56:52.112Z"},{"number":"0.1.3","date":"2016-07-29T14:57:51.080Z"},{"number":"0.2.0","date":"2016-08-02T00:38:47.813Z"},{"number":"0.2.1","date":"2016-08-02T04:11:39.673Z"},{"number":"0.3.0","date":"2016-08-02T06:07:36.081Z"},{"number":"0.4.0","date":"2016-08-02T16:27:19.166Z"},{"number":"0.5.0","date":"2016-08-02T22:15:58.378Z"},{"number":"0.6.0","date":"2016-08-05T03:58:02.819Z"},{"number":"0.7.0","date":"2016-08-05T15:09:27.438Z"},{"number":"0.7.1","date":"2016-08-07T15:46:56.029Z"},{"number":"0.8.0","date":"2016-08-11T15:15:27.594Z"},{"number":"0.9.0","date":"2016-08-11T18:55:51.356Z"},{"number":"0.9.1","date":"2016-08-11T23:10:46.599Z"},{"number":"0.10.0","date":"2016-08-11T23:16:06.223Z"},{"number":"0.11.0","date":"2016-08-12T04:57:49.480Z"},{"number":"0.12.0","date":"2016-08-17T01:53:47.318Z"},{"number":"0.12.1","date":"2016-08-17T02:10:11.217Z"},{"number":"0.13.0","date":"2016-08-19T21:34:16.716Z"},{"number":"0.14.0","date":"2016-09-19T18:57:32.079Z"},{"number":"0.14.1","date":"2016-09-20T21:56:59.189Z"},{"number":"0.15.0","date":"2016-10-25T15:39:23.807Z"},{"number":"0.16.0","date":"2016-11-03T16:08:51.737Z"},{"number":"1.0.0","date":"2016-11-08T20:12:00.030Z"},{"number":"1.1.0","date":"2016-12-21T21:44:57.634Z"},{"number":"1.1.1","date":"2017-01-04T22:29:16.254Z"},{"number":"1.1.2","date":"2017-03-01T23:40:01.031Z"}],"readme":"# swole [![Build Status](https://travis-ci.org/bendrucker/swole.svg?branch=master)](https://travis-ci.org/bendrucker/swole)\n\n> HTTP request router for [Swagger/OpenAPI](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md)\n\nSwole is a configuration oriented router that glues your [Swagger API](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md) definition to request handlers without any framework dependencies. Swole uses your API definition to handle parsing/validation of user inputs and can even validate responses.\n\n## Install\n\n```\n$ npm install --save swole\n```\n\n\n## Usage\n\n```js\nvar Swole = require('swole')\nvar api = {\n  swagger: '2.0',\n  info: {\n    title: 'API'\n  },\n  paths: {\n    '/beep': {\n      get: {\n        'x-handler': 'beep',\n        responses: {\n          200: {\n            schema: {\n              type: 'string',\n              enum: ['boop']\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nvar swole = Swole(api, {\n  handlers: {\n    beep: (req, res, callback) => res.end('boop', callback)\n  }  \n})\n\nserver.on('request', function (req, res) {\n  swole(req, res, function (err) {\n    if (err) {\n      res.statusCode = err.statusCode || 500\n      return res.end(JSON.stringify(err))\n    }\n  })\n})\n```\n\nAnd make a request:\n\n```\nGET /beep\n#=> 200 boop\n```\n\n## API\n\n#### `Swole(swagger, options)` -> `function`\n\nCreates a new Swole API handler using a [Swagger](https://github.com/OAI/OpenAPI-Specification) definition and options.\n\nReturns a `req, res, callback` middleware function. Swole will append the matched path and operation values as `req.swole` as a `{path, operation}` object.\n\n##### swagger\n\n*Required*  \nType: `object`\n\nA Swagger API definition object.\n\n##### options\n\n###### handlers\n\n*Required*  \nType: `object{function}`\n\nAn object containing `req, res, callback` handler functions that match to `x-handler` keys in your [operations objects](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#operationObject).\n\n###### hooks\n\nType: `array[function]`\n\nAn array of `req, res, callback` handler functions that will be called in series before executing handlers. These functions are run after the parameters for the request have been parsed and validated. \n\n###### accepts\n\nType: `array[string]`  \nDefault: `['json']`\n\nA list of [body parsers](https://github.com/expressjs/body-parser) to use for parsing request streams.\n\n###### strict\n\nType: `boolean`  \nDefault: `false`\n\nIn `strict` mode, swole will validate *outgoing* payloads in addition to incoming data. This is slow and expensive and should only be used for development/debugging.\n\n###### lowercase\n\nType: `boolean`  \nDefault: `true`\n\nBy default, Swole coerces paths into lowercase for simplicity. In practice, this makes everything but your path parameters case insensitive. To make routing case sensitive, set this to `false`.\n\n\n## License\n\nMIT Â© [Ben Drucker](http://bendrucker.me)\n","created":"2014-07-30T17:24:13.281Z","modified":"2017-05-22T10:02:30.091Z","lastPublisher":{"name":"bendrucker","email":"bvdrucker@gmail.com"},"owners":[{"email":"bvdrucker@gmail.com","name":"bendrucker"}],"other":{"_attachments":{},"_from":".","_id":"swole","_nodeVersion":"6.8.1","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/swole-1.1.2.tgz_1488411600804_0.4145468052010983"},"_npmUser":{"name":"bendrucker","email":"bvdrucker@gmail.com"},"_npmVersion":"4.1.2","_rev":"8-09b058cae4a7b9787eb192eea2515b3d","_shasum":"9afafd2d9528d1396766b98840ebb462bdf48944","author":{"name":"Ben Drucker","email":"bvdrucker@gmail.com","url":"bendrucker.me"},"bugs":{"url":"https://github.com/bendrucker/swole/issues"},"directories":{},"dist-tags":{"latest":"1.1.2"},"dist":{"shasum":"9afafd2d9528d1396766b98840ebb462bdf48944","tarball":"https://registry.npmjs.org/swole/-/swole-1.1.2.tgz"},"maintainers":[{"email":"bvdrucker@gmail.com","name":"bendrucker"}],"readmeFilename":"readme.md","time":{"modified":"2017-05-22T10:02:30.091Z","created":"2014-07-30T17:24:13.281Z","0.0.0":"2014-07-30T17:24:13.281Z","0.1.0":"2016-07-28T23:34:45.890Z","0.1.1":"2016-07-29T01:24:41.807Z","0.1.2":"2016-07-29T14:56:52.112Z","0.1.3":"2016-07-29T14:57:51.080Z","0.2.0":"2016-08-02T00:38:47.813Z","0.2.1":"2016-08-02T04:11:39.673Z","0.3.0":"2016-08-02T06:07:36.081Z","0.4.0":"2016-08-02T16:27:19.166Z","0.5.0":"2016-08-02T22:15:58.378Z","0.6.0":"2016-08-05T03:58:02.819Z","0.7.0":"2016-08-05T15:09:27.438Z","0.7.1":"2016-08-07T15:46:56.029Z","0.8.0":"2016-08-11T15:15:27.594Z","0.9.0":"2016-08-11T18:55:51.356Z","0.9.1":"2016-08-11T23:10:46.599Z","0.10.0":"2016-08-11T23:16:06.223Z","0.11.0":"2016-08-12T04:57:49.480Z","0.12.0":"2016-08-17T01:53:47.318Z","0.12.1":"2016-08-17T02:10:11.217Z","0.13.0":"2016-08-19T21:34:16.716Z","0.14.0":"2016-09-19T18:57:32.079Z","0.14.1":"2016-09-20T21:56:59.189Z","0.15.0":"2016-10-25T15:39:23.807Z","0.16.0":"2016-11-03T16:08:51.737Z","1.0.0":"2016-11-08T20:12:00.030Z","1.1.0":"2016-12-21T21:44:57.634Z","1.1.1":"2017-01-04T22:29:16.254Z","1.1.2":"2017-03-01T23:40:01.031Z"}}}