{"name":"http-services","version":"1.2.5","description":"A set of tools for the http service ...","main":"./lib/index.js","scripts":{"compile":"babel src -d lib","test":"nyc --report-dir=\"coverage/src\" mocha --reporter spec --bail --check-leaks test/{,**/}*.test.js","test-ci":"nyc --report-dir=\"coverage/src\" mocha --reporter spec --check-leaks test/{,**/}*.test.js","report-coverage":"nyc report --reporter=lcov > coverage.lcov && codecov"},"keywords":["fetch","promise"],"repository":"https://github.com/thondery/http-services","license":"MIT","homepage":"https://github.com/thondery/http-services#readme","dependencies":{"isomorphic-fetch":"^2.2.1","lodash":"^4.17.4","query-string":"^4.3.2"},"devDependencies":{"babel-core":"^6.24.1","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.24.1","babel-preset-stage-0":"^6.24.1","chai":"^3.5.0","codecov":"^2.1.0","mocha":"^3.2.0","nyc":"^10.1.2"},"gitHead":"7e077bf248eb209ca1806734942a05e4b49510b7","versions":[{"number":"1.0.0","date":"2017-03-18T17:56:09.091Z"},{"number":"1.0.1","date":"2017-03-19T04:19:21.235Z"},{"number":"1.1.0","date":"2017-03-19T15:18:35.613Z"},{"number":"1.1.1","date":"2017-03-20T06:06:17.680Z"},{"number":"1.2.0","date":"2017-04-05T07:51:46.612Z"},{"number":"1.2.1","date":"2017-04-06T03:55:49.037Z"},{"number":"1.2.2","date":"2017-05-09T03:01:22.751Z"},{"number":"1.2.3","date":"2017-05-09T08:06:46.126Z"},{"number":"1.2.4","date":"2017-05-09T08:18:11.901Z"},{"number":"1.2.5","date":"2017-06-05T06:36:59.792Z"}],"readme":"# http-services\n\n### A set of tools for the http service ...\n\n[![NPM Version][npm-image]][npm-url]\n[![NPM Downloads][downloads-image]][downloads-url]\n[![Build Status][travis-image]][travis-url]\n[![Codecov Status][codecov-image]][codecov-url]\n[![dependencies Status][dependencies-image]][dependencies-url]\n[![Gratipay][licensed-image]][licensed-url]\n\n\n[npm-image]: https://img.shields.io/npm/v/http-services.svg\n[npm-url]: https://www.npmjs.org/package/http-services\n[downloads-image]: https://img.shields.io/npm/dm/http-services.svg\n[downloads-url]: https://npmjs.org/package/http-services\n[travis-image]: https://travis-ci.org/thondery/http-services.svg?branch=master\n[travis-url]: https://travis-ci.org/thondery/http-services\n[codecov-image]: https://img.shields.io/codecov/c/github/thondery/http-services/master.svg\n[codecov-url]:   https://codecov.io/github/thondery/http-services?branch=master\n[dependencies-image]: https://david-dm.org/thondery/http-services/status.svg\n[dependencies-url]: https://david-dm.org/thondery/http-services\n[licensed-image]: https://img.shields.io/badge/license-MIT-blue.svg\n[licensed-url]: https://github.com/thondery/http-services/blob/master/LICENSE\n\n## Install\n\n```bash\nnpm install --save http-services\n```\n\n### SETTING\n\n```javascript\nconst { httpServices } = require('http-services')\nconst HttpServices = new httpServices()\n\n// set domain\nHttpServices.domain = 'http://localhost:4000'\n\n// set apiPath\nHttpServices.apiPath = '/api/v1'\n\n// set statusMessage\nHttpServices.statusMessage = 'Request Success!'\n```\n\n\n### GET / POST\n\n```javascript\n// Promise/A+\n\nHttpServices.GET('notes/list', { tag: 'javascript' })\n  .then( ret => {\n    console.log(ret)\n  })\n  .catch( err => {\n    console.log(err)\n  })\n\nHttpServices.POST('sign-in', { username: 'admin', password: 'password' })\n  .then( ret => {\n    console.log(ret)\n  })\n  .catch( err => {\n    console.log(err)\n  })\n\n// Async/Await\n\nasync () => {\n  try {\n    let ret = await HttpServices.GET('notes/list', { tag: 'javascript' })\n    console.log(ret)\n  }\n  catch (error) {\n    console.log(error)\n  }\n}\n\nasync () => {\n  try {\n    let ret = await HttpServices.POST('sign-in', { username: 'admin', password: 'password' })\n    console.log(ret)\n  }\n  catch (error) {\n    console.log(error)\n  }\n}\n```\n\n### Other Method\n\n```javascript\nconst { createAction, createReducer, statusToError, getStatusError } = require('http-services')\n\n// createAction\n\nconst FETCH_SIGNIN_SUCCESS = 'FETCH_SIGNIN_SUCCESS'\nconst FETCH_SIGNIN_FAILURE = 'FETCH_SIGNIN_FAILURE'\nconst Response = {\n  data: {\n    id: 1,\n    username: 'admin'\n  },\n  status: {\n    code: 0,\n    message: 'Request Success!'\n  }\n}\ncreateAction(FETCH_SIGNIN_SUCCESS, Response)\n/*\n{\n  type: 'FETCH_SIGNIN_SUCCESS',\n  payload: {\n    data: {\n      id: 1,\n      username: 'admin'\n    },\n    status: {\n      code: 0,\n      message: 'Request Success!'\n    }\n  },\n  error: null\n}\n*/\ncreateAction(FETCH_SIGNIN_FAILURE, Response)\n/*\n{\n  type: 'FETCH_SIGNIN_FAILURE',\n  payload: null,\n  error: Error\n}\n*/\n\n// createReducer\n\nconst ROOT_INITIAL_SUCCESS = 'ROOT_INITIAL_SUCCESS'\nconst initialState = {\n  initial: false\n}\nconst action = createAction(ROOT_INITIAL_SUCCESS, null)\nconst handlers = {\n  [ROOT_INITIAL_SUCCESS]: function (state, action) {\n    return Object.assign(state, { initial: true })\n  }\n}\ncreateReducer(state, action, handlers)\n/*\n{\n  initial: true\n}\n*/\n\n// statusToError\n\nconst Response = {\n  data: null,\n  status: {\n    code: 1024,\n    message: 'Wraning Message!'\n  }\n}\nstatusToError(Response, 'loginError')\n/*\n{\n  loginError: {\n    code: 1024,\n    message: 'Wraning Message!'\n  }\n}\n*/\nstatusToError(Response, 'loginError', 'loginMessage')\n/*\n{\n  loginError: 1024,\n  loginMessage: 'Wraning Message!'\n}\n*/\n\n// getStatusError\n\nconst error = new Error()\ngetStatusError(error)\n/*\n{\n  code: 1000,\n  message: 'Abnormal error'\n}\n*/\nconst error = new Error('Unexpected token < in JSON at position 0')\ngetStatusError(error)\n/*\n{\n  code: 1000,\n  message: 'Unexpected token < in JSON at position 0'\n}\n*/\nconst error = new Error()\nerror.response = { status: 404, statusText: 'Not Found' }\ngetStatusError(error)\n/*\n{\n  code: 404,\n  message: 'Not Found'\n}\n*/\n```\n\n## License\n\nthis repo is released under the [MIT License](https://github.com/thondery/http-services/blob/master/LICENSE).","created":"2017-03-18T17:56:09.091Z","modified":"2017-06-05T06:36:59.792Z","lastPublisher":{"name":"thondery","email":"thondery@163.com"},"owners":[{"name":"thondery","email":"thondery@163.com"}],"other":{"_attachments":{},"_from":".","_id":"http-services","_nodeVersion":"6.9.5","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/http-services-1.2.5.tgz_1496644619678_0.8831630519125611"},"_npmUser":{"name":"thondery","email":"thondery@163.com"},"_npmVersion":"3.10.10","_rev":"10-4acd0b682677590dbb680501214e6fee","_shasum":"a92afdd7710a5aefaf88a5f846cec74059cb0fab","author":{"name":"thondery","email":"thondery@163.com"},"bugs":{"url":"https://github.com/thondery/http-services/issues"},"directories":{},"dist-tags":{"latest":"1.2.5"},"dist":{"shasum":"a92afdd7710a5aefaf88a5f846cec74059cb0fab","tarball":"https://registry.npmjs.org/http-services/-/http-services-1.2.5.tgz"},"maintainers":[{"name":"thondery","email":"thondery@163.com"}],"readmeFilename":"README.md","time":{"modified":"2017-06-05T06:36:59.792Z","created":"2017-03-18T17:56:09.091Z","1.0.0":"2017-03-18T17:56:09.091Z","1.0.1":"2017-03-19T04:19:21.235Z","1.1.0":"2017-03-19T15:18:35.613Z","1.1.1":"2017-03-20T06:06:17.680Z","1.2.0":"2017-04-05T07:51:46.612Z","1.2.1":"2017-04-06T03:55:49.037Z","1.2.2":"2017-05-09T03:01:22.751Z","1.2.3":"2017-05-09T08:06:46.126Z","1.2.4":"2017-05-09T08:18:11.901Z","1.2.5":"2017-06-05T06:36:59.792Z"}}}