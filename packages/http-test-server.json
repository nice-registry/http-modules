{"name":"http-test-server","version":"2.0.1","description":"Create a simple http server for tests","main":"dist/index.js","scripts":{"test":"xo && babel-tape-runner test.js","build":"rm -rf dist && mkdir -p dist && babel lib --out-dir dist","watch":"rm -rf dist && mkdir -p dist && babel -w lib --out-dir dist","prepublish":"npm run build","posttest":"readme package.json > readme.md"},"repository":"https://github.com/kesla/http-test-server","license":"MIT","homepage":"https://github.com/kesla/http-test-server#readme","devDependencies":{"babel-cli":"^6.10.1","babel-core":"^6.10.4","babel-preset-es2015-node4":"2.1.0","babel-tape-runner":"^2.0.1","got":"^6.3.0","package-json-to-readme":"^1.5.1","tapava":"^2.2.0","xo":"^0.16.0"},"dependencies":{"http-shutdown":"^1.0.3","stream-to-promise":"^2.1.1"},"xo":{"esnext":true,"space":true},"gitHead":"fb4e2f713d26970206d3d44b2f585a5eccd55d5a","versions":[{"number":"1.0.0","date":"2016-07-14T23:13:05.971Z"},{"number":"1.0.1","date":"2016-07-16T10:03:59.399Z"},{"number":"2.0.0","date":"2016-11-03T22:37:15.865Z"},{"number":"2.0.1","date":"2016-12-26T15:58:47.258Z"}],"readme":"# http-test-server \n\nCreate a simple http server for tests\n\n## Installation\n\nDownload node at [nodejs.org](http://nodejs.org) and install it, if you haven't already.\n\n```sh\nnpm install http-test-server --save\n```\n\n## Usage\n\n```js\n/* eslint-disable import/no-extraneous-dependencies */\n\nimport test from 'tapava';\nimport got from 'got';\n\nimport httpTestServer from 'http-test-server';\n\ntest('simple GET', t =>\n  httpTestServer((req, res) => {\n    t.is(req.url, '/foo');\n    t.is(req.method, 'GET');\n    res.end('beep boop');\n  })\n    .then(({shutdown, baseUrl}) =>\n      got(`${baseUrl}/foo`)\n      .then(({body}) => {\n        t.is(body, 'beep boop');\n\n        return shutdown();\n      })\n    )\n);\n\ntest('simple POST', t =>\n  httpTestServer((req, res) => {\n    t.is(req.url, '/foo');\n    t.is(req.method, 'POST');\n    t.is(req.body.toString(), 'heja');\n    res.statusCode = 201;\n    res.end('beep boop');\n  })\n    .then(({shutdown, baseUrl}) =>\n      got(`${baseUrl}/foo`, {\n        body: 'heja',\n        method: 'post'\n      })\n      .then(({body, statusCode}) => {\n        t.is(body, 'beep boop');\n        t.is(statusCode, 201);\n\n        return shutdown();\n      })\n    )\n);\n\n```\n\n## Tests\n\n```sh\nnpm install\nnpm test\n```\n\n## Dependencies\n\n- [http-shutdown](): Gracefully shutdown a running HTTP server.\n- [stream-to-promise](https://github.com/bendrucker/stream-to-promise): Convert streams (readable or writable) to promises\n\n## Dev Dependencies\n\n- [babel-cli](https://github.com/babel/babel/tree/master/packages): Babel command line.\n- [babel-core](https://github.com/babel/babel/tree/master/packages): Babel compiler core.\n- [babel-preset-es2015-node4](https://github.com/jbach/babel-preset-es2015-node4): Babel preset to make node@4 ES2015 compatible.\n- [babel-tape-runner](https://github.com/wavded/babel-tape-runner): Babel + Tape for running your ES Next tests\n- [got](): Simplified HTTP requests\n- [package-json-to-readme](https://github.com/zeke/package-json-to-readme): Generate a README.md from package.json contents\n- [tapava](https://github.com/kesla/tapava): the syntax of ava, run through tape\n- [xo](https://github.com/sindresorhus/xo): JavaScript happiness style linter ❤️\n\n\n## License\n\nMIT\n\n_Generated by [package-json-to-readme](https://github.com/zeke/package-json-to-readme)_\n","created":"2016-07-14T23:13:05.971Z","modified":"2016-12-26T15:58:47.258Z","lastPublisher":{"name":"kesla","email":"david.bjorklund@gmail.com"},"owners":[{"name":"kesla","email":"david.bjorklund@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"http-test-server","_nodeVersion":"6.9.1","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/http-test-server-2.0.1.tgz_1482767925254_0.06522409454919398"},"_npmUser":{"name":"kesla","email":"david.bjorklund@gmail.com"},"_npmVersion":"3.10.8","_rev":"3-9071aafd41b561b13892a0fb48ba4ba6","_shasum":"a341f64e400f78072e3f39494e796b022ec99cb5","author":{"name":"David Björklund","email":"david.bjorklund@gmail.com"},"bugs":{"url":"https://github.com/kesla/http-test-server/issues"},"directories":{},"dist-tags":{"latest":"2.0.1"},"dist":{"shasum":"a341f64e400f78072e3f39494e796b022ec99cb5","tarball":"http://registry.npmjs.org/http-test-server/-/http-test-server-2.0.1.tgz"},"maintainers":[{"name":"kesla","email":"david.bjorklund@gmail.com"}],"readmeFilename":"readme.md","time":{"modified":"2016-12-26T15:58:47.258Z","created":"2016-07-14T23:13:05.971Z","1.0.0":"2016-07-14T23:13:05.971Z","1.0.1":"2016-07-16T10:03:59.399Z","2.0.0":"2016-11-03T22:37:15.865Z","2.0.1":"2016-12-26T15:58:47.258Z"}}}