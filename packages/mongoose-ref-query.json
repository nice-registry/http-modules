{"name":"mongoose-ref-query","version":"0.3.1","description":"http queries & queries on reference properties","keywords":["API","ref","mongoose","search","parameters"],"scripts":{"test":"mocha --reporter list --require test/testing.js test/*/tests.js"},"devDependencies":{"expect.js":"*","express":"3.3.x","glob":"^4.0.3","mongoose":"3.6.x","mocha":"*","request":"^2.37.0","mongoose-q":"0.0.10"},"dependencies":{"q":"^1.0.1"},"homepage":"http://github.com/fghibellini/mongoose-api-query","gitHead":"5d0327c169c8221371a96f0b0a3262052e36f312","versions":[{"number":"0.1.0","date":"2014-08-25T23:02:42.834Z"},{"number":"0.1.1","date":"2014-09-11T19:14:03.314Z"},{"number":"0.2.0","date":"2014-11-09T21:16:20.871Z"},{"number":"0.2.1","date":"2014-11-09T21:20:46.310Z"},{"number":"0.2.2","date":"2014-12-01T18:58:11.750Z"},{"number":"0.3.0","date":"2015-05-07T16:14:29.943Z"},{"number":"0.3.1","date":"2015-05-17T11:30:27.372Z"}],"readme":"# MONGOOSE-REF-QUERY\n\n## Overview\n\n- Provides a mongoose model method that transforms http request objects into mongo query expressions. e.g. `/monsters?name=joe&age={gt}20`\n- Adds support for query expressions on referenced fields. e.g. `/employee?manager.manager.name=herkules`\n- It can check that the query matches the schema and if not throw an error ( disabled by default ).\n\n## Usage\n\nApply the plugin to any schema in the usual Mongoose fashion:\n\n```\nmonsterSchema.plugin(mongooseRefQuery[, options]);\n```\n\n### options\n\n|  option     | type    | default | description                                                  |\n|-------------|---------|---------|--------------------------------------------------------------|\n| throwErrors | Boolean | false   | will throw errors if the expression doesn't match the schema |\n| debug       | Boolean | false   | will print debug info (the final mongo query)                |\n\n### For the http interface\n\n```\nMonster.refQuery(req.query)()\n```\n\nreturns a promise.\n\nThe refQuery call will throw an error if **throwErrors** is set in the options.\n\n### For the advanced mongo query interface\n\n```\n// .refQueryPrepare(expression[, config])\nvar trigger = Employee.refQueryPrepare({ \"manager.manager.name\" : \"herkules\" });\nvar promise = trigger();\n```\n\nThe refQueryPrepare throws an error if set in the options,\nif not the invalid part of the expression will simply be ignored.\n\nThe config parameter is a query config object with the folowing options:\n\n|  option  | type          | default | description                                       |\n|----------|---------------|---------|---------------------------------------------------|\n| ids_only | Boolean       | false   | will return only the \\_id field                   |\n| per_page | Number        | 10      | max number of records returned (0 means unlimited |\n| page     | Number        | 1       | page number                                       |\n| sort     | Object        | false   | sorting parameter e.g. { field_name : -1 }        |\n| populate | Array:String  | []      | list of populated fields                          |\n\n## Http interface syntax\n\nsee [http-interface](docs/http-interface.md)\n\n## To run tests\n\nSee [dev](docs/dev.md)\n\n## License\n\nMIT [mit-license.org](http://mit-license.org/)\n","created":"2014-08-25T23:02:42.834Z","modified":"2015-05-17T11:30:27.372Z","lastPublisher":{"name":"fghibellini","email":"f.ghibellini@gmail.com"},"owners":[{"name":"fghibellini","email":"f.ghibellini@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"mongoose-ref-query","_nodeVersion":"0.12.0","_npmUser":{"name":"fghibellini","email":"f.ghibellini@gmail.com"},"_npmVersion":"2.5.1","_rev":"1-471f04142605234b0017e23e1d2a9d6f","_shasum":"ffeff18b6f8d036597f536e12f9eb3b735ead773","author":{"name":"Filippo Ghibellini","email":"http://github.com/fghibellini"},"directories":{},"dist-tags":{"latest":"0.3.1"},"dist":{"shasum":"ffeff18b6f8d036597f536e12f9eb3b735ead773","tarball":"http://registry.npmjs.org/mongoose-ref-query/-/mongoose-ref-query-0.3.1.tgz"},"maintainers":[{"name":"fghibellini","email":"f.ghibellini@gmail.com"}],"readmeFilename":"readme.md","time":{"modified":"2015-05-17T11:30:27.372Z","created":"2014-08-25T23:02:42.834Z","0.1.0":"2014-08-25T23:02:42.834Z","0.1.1":"2014-09-11T19:14:03.314Z","0.2.0":"2014-11-09T21:16:20.871Z","0.2.1":"2014-11-09T21:20:46.310Z","0.2.2":"2014-12-01T18:58:11.750Z","0.3.0":"2015-05-07T16:14:29.943Z","0.3.1":"2015-05-17T11:30:27.372Z"}}}