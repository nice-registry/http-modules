{"version":"2.1.0","devDependencies":{"babel":"^6.5.2","babel-core":"^6.18.2","babel-register":"^6.18.0","chai":"^3.5.0","codacy-coverage":"^2.0.0","mocha":"^3.1.2","browserify":"^13.1.1"},"dependencies":{"big-integer":"^1.6.16","chai-things":"^0.2.0","hashmap":"^2.0.6","lz-string":"^1.4.4","mocha":"^3.2.0","node-rsa":"^0.4.2","zaes-js":"^2.0.0"},"name":"sttp","description":"STTP - new generation Secure TBM Transfer Protocol. STTP works over HTTP and it very similar to TLS. It is a kind of poor copy of HTTPS.","main":"index.js","scripts":{"test":"mocha --compilers js:babel-core/register","lint":"eslint .","compile":"npm run lint && npm test","analyze-coverage":"istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec ","send-coverage":"cat ./coverage/lcov.info | ./node_modules/.bin/codacy-coverage","coverage":"npm run analyze-coverage && npm run send-coverage","browserify":"browserify index.js --s sttp -o bundle.sttp.js","prepublish":"npm run compile && npm run browserify"},"repository":"https://github.com/alikhil/sttp","keywords":["sttp","encryption","compression","protocol"],"license":"MIT","homepage":"https://github.com/alikhil/sttp#readme","gitHead":"fd556cd2e3485c85bbde42581f2760ede8109eac","versions":[{"number":"1.0.0","date":"2016-11-21T11:15:44.136Z"},{"number":"1.1.0","date":"2016-11-22T13:54:59.051Z"},{"number":"2.0.0","date":"2016-12-30T17:36:15.009Z"},{"number":"2.0.1","date":"2016-12-30T18:13:56.636Z"},{"number":"2.1.0","date":"2016-12-30T18:52:51.268Z"}],"readme":"## STTP -  new generation Secure TBM Transfer Protocol.\r\n[![npm version](https://badge.fury.io/js/sttp.svg)](https://badge.fury.io/js/sttp)\r\n[![Build Status](https://travis-ci.org/alikhil/sttp.svg?branch=master)](https://travis-ci.org/alikhil/sttp)\r\n[![Codacy Badge](https://api.codacy.com/project/badge/Grade/e83c4ca8c0eb4c3cb95673cb2315af2d)](https://www.codacy.com/app/TBM-Team/sttp?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=alikhil/sttp&amp;utm_campaign=Badge_Grade)\r\n[![Codacy Badge](https://api.codacy.com/project/badge/Coverage/e83c4ca8c0eb4c3cb95673cb2315af2d)](https://www.codacy.com/app/TBM-Team/sttp?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=alikhil/sttp&amp;utm_campaign=Badge_Coverage)\r\n[![Code Climate](https://codeclimate.com/github/alikhil/sttp/badges/gpa.svg)](https://codeclimate.com/github/alikhil/sttp)\r\n\r\n\r\nSTTP works over HTTP and it very similar to TLS. It is a kind of poor copy of HTTPS. \r\n![sttp-tls-schema](https://habrastorage.org/files/e52/387/364/e5238736493f41489f5df57f94310962.png)\r\n[Picture taken from](https://habrahabr.ru/post/258285/)\r\n\r\n### Installation\r\n\r\n```sh\r\nnpm install sttp\r\n```\r\n\r\n### Tutorial\r\n\r\n* To use in nodejs backend call `var sttp = require(\"sttp\")`.\r\n\r\n* To use in browser attach `bundle.sttp.js` script from `./node_modules/sttp/` directory. And use `sttp` global variable.\r\n```html\r\n<script src=\"path/to/bundle.sttp.js\"></script>\r\n<script type=\"text/javascript\">\r\n    var AuthKeyPacker = sttp.AuthKeyPacker;\r\n    var rsaKeys = sttp.keys.generateRSAKey();\r\n    var packer = new AuthKeyPacker(rsaKeys.public)\r\n    // ...\r\n</script>\r\n```\r\n\r\n#### AuthDataPacker\r\n`AuthDataPacker` uses on initializing handshake to share AES-key.\r\nUsage:\r\n```js\r\nvar sttp = require(\"sttp\");\r\n\r\n// server:\r\n// create and share somehow RSA public key with client\r\nvar keys = sttp.keys;\r\nvar rsaKeys = keys.generateRSAKey({bits: 512}); // by default 1024\r\n// rsaKeys : { public, private }\r\n// Share rsaKeys.public\r\n\r\n// client:\r\n// get RSA public key from server and \r\n// send encrypted with rsaKeys.public generated aesKey\r\nvar aesKey = keys.generateAESKey(16); // 128 bit key\r\n\r\nvar AuthDataPacker = sttp.AuthDataPacker;\r\n\r\nvar packer = new AuthDataPacker(rsaKeys.public);\r\nvar authData = packer.pack(aesKey);\r\n// transfer authData using some channel to server\r\n\r\n// server:\r\n// get authData from client, decrypt it and save somewhere\r\nvar packer = new AuthDataPacker(rsaKeys.private);\r\nvar data = packer.unpack(authData);\r\n// save aesKey to correspoing user in database\r\n// and start using DataPacker\r\n```\r\n#### DataPacker\r\n`DataPacker` uses for transfering main information it uses AES-128 for encryption(aesKey is transfering `AuthDataPacker`).\r\nUsage:\r\n```js\r\nvar DataPacker = sttp.DataPacker();\r\nvar data = { projectName : \"sttp\", contributors : [\"Alik\", \"Kevin\", \"Sergey\"] };\r\n\r\nvar packer = new DataPacker(aesKey);\r\nvar packedData = packer.pack(data);\r\n\r\n// transfer packedData using some channel\r\n// and on other end do the following:\r\n// P.S. use the same aesKey\r\n\r\nvar packer = new DataPacker(aesKey);\r\nvar data = packer.unpack(packedData);\r\n\r\n// use data...\r\n```\r\n\r\n#### Example\r\n\r\nAlso you can look at [example](https://github.com/Jeaced/node-server) of using `sttp` in nodejs web application. \r\n\r\n\r\n### Contribution\r\nRead [git conventions](https://github.com/alikhil/sttp/wiki/Git-conventions) before.\r\n\r\nMake sure that you are using nodejs 6+\r\n```sh\r\ngit clone https://github.com/alikhil/sttp\r\nnpm install\r\n```\r\n\r\nRun tests:\r\n```sh\r\nnpm test\r\n```\r\n\r\n","starsCount":1,"created":"2016-11-21T11:15:44.136Z","modified":"2016-12-30T18:52:51.268Z","lastPublisher":{"name":"alikhil","email":"alikhil@mail.ru"},"owners":[{"name":"alikhil","email":"alikhil@mail.ru"}],"other":{"_attachments":{},"_from":".","_id":"sttp","_nodeVersion":"6.9.1","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/sttp-2.1.0.tgz_1483123968835_0.5545901758596301"},"_npmUser":{"name":"alikhil","email":"alikhil@mail.ru"},"_npmVersion":"3.10.8","_rev":"6-bd76890ec8b22612877f238498411873","_shasum":"b069f59cdfc71ecd83210034b84cf9e9cca5f2f7","author":{"name":"Alik Khilazhev","email":"alikhil@mail.ru"},"bugs":{"url":"https://github.com/alikhil/sttp/issues"},"contributors":[{"name":"Kevin Khanda","email":"kevin.khanda@gmail.com"},{"name":"Sergey Strokov","email":"Sergey_umnov@mail.ru"}],"directories":{"test":"test"},"dist-tags":{"latest":"2.1.0"},"dist":{"shasum":"b069f59cdfc71ecd83210034b84cf9e9cca5f2f7","tarball":"http://registry.npmjs.org/sttp/-/sttp-2.1.0.tgz"},"maintainers":[{"name":"alikhil","email":"alikhil@mail.ru"}],"readmeFilename":"README.md","time":{"modified":"2016-12-30T18:52:51.268Z","created":"2016-11-21T11:15:44.136Z","1.0.0":"2016-11-21T11:15:44.136Z","1.1.0":"2016-11-22T13:54:59.051Z","2.0.0":"2016-12-30T17:36:15.009Z","2.0.1":"2016-12-30T18:13:56.636Z","2.1.0":"2016-12-30T18:52:51.268Z"},"users":{"alikhil":true}}}