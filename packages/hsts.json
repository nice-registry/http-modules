{"name":"hsts","description":"HTTP Strict Transport Security middleware.","version":"2.0.0","license":"MIT","keywords":["helmet","security","express","connect","hsts","https"],"repository":"https://github.com/helmetjs/hsts","scripts":{"pretest":"standard","test":"mocha"},"devDependencies":{"mocha":"^3.1.2","sinon":"^1.17.6","standard":"^8.5.0"},"dependencies":{"core-util-is":"1.0.2"},"standard":{"globals":["describe","beforeEach","it"]},"gitHead":"8143a36eecf2d16b0b85915b51546da57c6af3cd","homepage":"https://github.com/helmetjs/hsts#readme","versions":[{"number":"0.1.0","date":"2014-10-28T14:18:30.827Z"},{"number":"0.1.1","date":"2015-03-23T15:53:28.188Z"},{"number":"0.1.2","date":"2015-04-22T00:22:50.648Z"},{"number":"0.1.3","date":"2015-06-02T21:52:26.016Z"},{"number":"0.2.0","date":"2015-09-22T19:09:18.621Z"},{"number":"1.0.0","date":"2015-12-18T20:56:18.309Z"},{"number":"2.0.0","date":"2016-10-28T20:31:31.634Z"}],"readme":"HTTP Strict Transport Security middleware\n========================================\n[![Build Status](https://travis-ci.org/helmetjs/hsts.svg?branch=master)](https://travis-ci.org/helmetjs/hsts)\n[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com/)\n\n[_Looking for a changelog?_](https://github.com/helmetjs/helmet/blob/master/HISTORY.md)\n\nThis middleware adds the `Strict-Transport-Security` header to the response. This tells browsers, \"hey, only use HTTPS for the next period of time\". ([See the spec](http://tools.ietf.org/html/rfc6797) for more.)\n\nThis will set the Strict Transport Security header, telling browsers to visit by HTTPS for the next 180 days:\n\n```javascript\nvar hsts = require('hsts')\n\napp.use(hsts({\n  maxAge: 15552000  // 180 days in seconds\n}))\n// Strict-Transport-Security: max-age: 15552000; includeSubDomains\n```\n\nNote that the max age must be in seconds. *This was different in previous versions of this module!*\n\nThe `includeSubDomains` directive is present by default. If this header is set on *example.com*, supported browsers will also use HTTPS on *my-subdomain.example.com*. You can disable this:\n\n```javascript\napp.use(hsts({\n  maxAge: 15552000,\n  includeSubDomains: false\n}))\n```\n\nChrome lets you submit your site for baked-into-Chrome HSTS by adding `preload` to the header. You can add that with the following code, and then submit your site to the Chrome team at [hstspreload.appspot.com](https://hstspreload.appspot.com/).\n\n```javascript\napp.use(hsts({\n  maxAge: 10886400,        // Must be at least 18 weeks to be approved by Google\n  includeSubDomains: true, // Must be enabled to be approved by Google\n  preload: true\n}))\n```\n\nThis header will be set `req.secure` is true, a boolean auto-populated by Express. If you're not using Express, that value won't necessarily be set, so you have two options:\n\n```javascript\n// Set the header based on a condition\napp.use(hsts({\n  maxAge: 1234000,\n  setIf: function (req, res) {\n    return req.secure || (req.headers['x-forwarded-proto'] === 'https')\n  }\n}))\n\n// ALWAYS set the header\napp.use(hsts({\n  maxAge: 1234000,\n  force: true\n}))\n```\n\nThis only works if your site actually has HTTPS. It won't tell users on HTTP to *switch* to HTTPS, it will just tell HTTPS users to stick around. You can enforce this with the [express-enforces-ssl](https://github.com/aredo/express-enforces-ssl) module. This header is [somewhat well-supported by browsers](http://caniuse.com/#feat=stricttransportsecurity).\n","starsCount":3,"created":"2014-10-28T14:18:30.827Z","modified":"2016-11-18T09:52:58.549Z","lastPublisher":{"name":"evanhahn","email":"me@evanhahn.com"},"owners":[{"name":"evanhahn","email":"me@evanhahn.com"}],"other":{"_attachments":{},"_from":".","_id":"hsts","_nodeVersion":"7.0.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/hsts-2.0.0.tgz_1477686688850_0.04222502280026674"},"_npmUser":{"name":"evanhahn","email":"me@evanhahn.com"},"_npmVersion":"4.0.1","_rev":"3-05bbf71c0ddd1e89fe02453e540b3a12","_shasum":"a52234c6070decf214b2b6b70bb144d07e4776c7","author":{"name":"Adam Baldwin","email":"baldwin@andyet.net","url":"http://andyet.net/team/baldwin"},"bugs":{"url":"https://github.com/helmetjs/hsts/issues"},"contributors":[{"name":"Evan Hahn","email":"me@evanhahn.com","url":"http://evanhahn.com"}],"directories":{},"dist-tags":{"latest":"2.0.0"},"dist":{"shasum":"a52234c6070decf214b2b6b70bb144d07e4776c7","tarball":"http://registry.npmjs.org/hsts/-/hsts-2.0.0.tgz"},"maintainers":[{"name":"evanhahn","email":"me@evanhahn.com"}],"readmeFilename":"README.md","time":{"modified":"2016-11-18T09:52:58.549Z","created":"2014-10-28T14:18:30.827Z","0.1.0":"2014-10-28T14:18:30.827Z","0.1.1":"2015-03-23T15:53:28.188Z","0.1.2":"2015-04-22T00:22:50.648Z","0.1.3":"2015-06-02T21:52:26.016Z","0.2.0":"2015-09-22T19:09:18.621Z","1.0.0":"2015-12-18T20:56:18.309Z","2.0.0":"2016-10-28T20:31:31.634Z"},"users":{"vbv":true,"max_devjs":true,"martinspinks":true}}}