{"name":"create-servers","version":"2.3.0","description":"Create an http AND/OR an https server and call the same request handler.","main":"index.js","scripts":{"test":"node test/create-servers-test.js"},"repository":"https://github.com/indexzero/create-servers","keywords":["http","https","utility"],"license":"MIT","homepage":"https://github.com/indexzero/create-servers","dependencies":{"connected":"~0.0.2","errs":"~0.3.0","object-assign":"^4.1.0"},"devDependencies":{"sinon":"^1.17.4","tape":"~4.6.0"},"gitHead":"07b22456bb65cdfc9ee1c8f16e64df691cf2bc7f","versions":[{"number":"1.0.0","date":"2014-01-20T04:03:16.743Z"},{"number":"1.1.0","date":"2014-01-20T04:06:18.572Z"},{"number":"1.2.0","date":"2014-01-20T04:18:29.907Z"},{"number":"1.2.1","date":"2014-08-19T06:45:50.246Z"},{"number":"1.3.0","date":"2014-09-11T08:15:06.596Z"},{"number":"1.3.1","date":"2015-03-28T14:57:55.226Z"},{"number":"1.3.2","date":"2015-04-28T19:14:27.538Z"},{"number":"1.4.0","date":"2015-05-02T06:17:24.605Z"},{"number":"1.5.0","date":"2015-05-07T23:34:27.250Z"},{"number":"2.0.0","date":"2015-12-04T13:52:14.870Z"},{"number":"2.0.1","date":"2016-02-16T00:07:37.559Z"},{"number":"2.1.0","date":"2016-05-13T18:48:12.103Z"},{"number":"2.2.0","date":"2016-05-13T21:52:23.095Z"},{"number":"2.2.1","date":"2016-07-14T19:53:34.475Z"},{"number":"2.3.0","date":"2016-11-16T19:07:25.593Z"}],"readme":"create-servers\n==============\n\nCreate an http AND/OR an https server and call the same request handler.\n\n*NOTE on Security*\nInspired by [`iojs`][iojs] and a well written [article][article], we have defaulted\nour [ciphers][ciphers] to support \"perfect-forward-security\" as well as removing insecure\ncipher suites from being a possible choice. With this in mind,\nbe aware that we will no longer support ie6 on windows XP by default. \n\n**http**\n``` js\nvar createServers = require('create-servers');\n\nvar servers = createServers(\n  {\n    http: 80,\n    handler: function (req, res) {\n      res.end('http only');\n    }\n  },\n  function (errs) {\n    if (errs) {\n      return console.log(errs.http);\n    }\n\n    console.log('Listening on 80');\n  }\n);\n```\n\n**https**\n``` js\nvar servers = createServers(\n  {\n    https: {\n      port: 443,\n      root: '/path/to/ssl/files',\n      key: 'your-key.pem',\n      cert: 'your-cert.pem',\n      ca: 'your-ca.pem' // Can be an Array of CAs\n    },\n    handler: function (req, res) {\n      res.end('https only');\n    }\n  },\n  function (errs) {\n    if (errs) {\n      return console.log(errs.https);\n    }\n\n    console.log('Listening on 443');\n  }\n);\n```\n\n**http && https**\n``` js\nvar servers = createServers(\n  {\n    http: 80,\n    https: {\n      port: 443,\n      root: '/path/to/ssl/files',\n      key: 'your-key.pem',\n      cert: 'your-cert.pem',\n      ca: 'your-ca.pem' // Can be an Array of CAs\n    },\n    handler: function (req, res) {\n      res.end('http AND https');\n    }\n  },\n  function (errs, servers) {\n    if (errs) {\n      return Object.keys(errs).forEach(function (key) {\n        console.log('Error ' + key + ': ' + errs[key]);\n        if (servers[key]) {\n          servers[key].close();\n        }\n      });\n    }\n\n    console.log('Listening on 80 and 443');\n  }\n);\n```\n\n**http && https (different handlers)**\n``` js\nvar servers = createServers(\n  {\n    http: {\n      port: 80,\n      handler: function (req, res) {\n        res.end('http');\n      }\n    },\n    https: {\n      port: 443,\n      root: '/path/to/ssl/files',\n      key: 'your-key.pem',\n      cert: 'your-cert.pem',\n      ca: 'your-ca.pem', // Can be an Array of CAs\n      handler: function (req, res) {\n        res.end('https');\n      }\n    }\n  },\n  function (errs, servers) {\n    if (errs) {\n      return Object.keys(errs).forEach(function (key) {\n        console.log('Error ' + key + ': ' + errs[key]);\n        if (servers[key]) {\n          servers[key].close();\n        }\n      });\n    }\n\n    console.log('Listening on 80 and 443');\n  }\n);\n```\n\n### Author: [Charlie Robbins](https://github.com/indexzero)\n### License: MIT\n\n[article]: https://certsimple.com/blog/a-plus-node-js-ssl\n[iojs]: https://github.com/iojs/io.js\n[ciphers]: https://iojs.org/api/tls.html#tls_tls_createserver_options_secureconnectionlistener \n","created":"2014-01-20T04:03:16.743Z","modified":"2016-11-16T19:07:25.593Z","lastPublisher":{"name":"jcrugzz","email":"jcrugzz@gmail.com"},"owners":[{"name":"3rdeden","email":"npm@3rd-Eden.com"},{"name":"bcbailey","email":"brad@memoryleak.org"},{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"jcrugzz","email":"jcrugzz@gmail.com"},{"name":"swaagie","email":"info@martijnswaagman.nl"},{"name":"v1","email":"npm@3rd-Eden.com"}],"other":{"_attachments":{},"_from":".","_id":"create-servers","_nodeVersion":"4.4.3","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/create-servers-2.3.0.tgz_1479323243527_0.710361763369292"},"_npmUser":{"name":"jcrugzz","email":"jcrugzz@gmail.com"},"_npmVersion":"3.9.6","_rev":"2-f4e03b60f5584d5126b032fb42a5dfec","_shasum":"9be66fed3067770a9ae17ba7a1951598234ca370","author":{"name":"Charlie Robbins","email":"charlie.robbins@gmail.com"},"bugs":{"url":"https://github.com/indexzero/create-servers/issues"},"directories":{},"dist-tags":{"latest":"2.3.0"},"dist":{"shasum":"9be66fed3067770a9ae17ba7a1951598234ca370","tarball":"http://registry.npmjs.org/create-servers/-/create-servers-2.3.0.tgz"},"maintainers":[{"name":"3rdeden","email":"npm@3rd-Eden.com"},{"name":"bcbailey","email":"brad@memoryleak.org"},{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"jcrugzz","email":"jcrugzz@gmail.com"},{"name":"swaagie","email":"info@martijnswaagman.nl"},{"name":"v1","email":"npm@3rd-Eden.com"}],"readmeFilename":"README.md","time":{"modified":"2016-11-16T19:07:25.593Z","created":"2014-01-20T04:03:16.743Z","1.0.0":"2014-01-20T04:03:16.743Z","1.1.0":"2014-01-20T04:06:18.572Z","1.2.0":"2014-01-20T04:18:29.907Z","1.2.1":"2014-08-19T06:45:50.246Z","1.3.0":"2014-09-11T08:15:06.596Z","1.3.1":"2015-03-28T14:57:55.226Z","1.3.2":"2015-04-28T19:14:27.538Z","1.4.0":"2015-05-02T06:17:24.605Z","1.5.0":"2015-05-07T23:34:27.250Z","2.0.0":"2015-12-04T13:52:14.870Z","2.0.1":"2016-02-16T00:07:37.559Z","2.1.0":"2016-05-13T18:48:12.103Z","2.2.0":"2016-05-13T21:52:23.095Z","2.2.1":"2016-07-14T19:53:34.475Z","2.3.0":"2016-11-16T19:07:25.593Z"}}}