{"name":"middleware-proxy","version":"2.0.2","description":"A connect-compliant middleware for simple, transparent redirection of HTTP requests.","repository":"https://github.com/yaycmyk/middleware-proxy","keywords":["http","proxy","server","connect","express","middleware"],"license":"MIT","engines":{"node":">= 5"},"dependencies":{"request":"^2.72.0"},"gitHead":"9dd5dd97fcd500e03349d455d06d4ac07454d87c","homepage":"https://github.com/yaycmyk/middleware-proxy#readme","scripts":{},"versions":[{"number":"1.0.0","date":"2016-05-17T14:47:17.931Z"},{"number":"2.0.0","date":"2016-05-20T02:49:14.300Z"},{"number":"2.0.1","date":"2016-05-20T02:50:25.811Z"},{"number":"2.0.2","date":"2016-05-20T13:55:16.638Z"}],"readme":"# middleware-proxy\n\nThis is a simple tool that smooths the difficulties of working on integrated projects where the backend is hosted elsewhere from where you are developing your frontend. The proxy allows you to access your static HTML through a node server and redirect your RESTful calls to the implementing server.\n\n## usage\n\n```js\nconst proxy = require('middleware-proxy');\n\n/**\n * Returns a middleware function that selectively proxies incoming requests to another server.\n *\n * @param  {string|RegExp} matcher - used to detect if the middleware should be applied against the request URL\n * @param  {string} server - a fully qualified server address, e.g. http://localhost:8080\n * @param  {string} [path_to_strip] - (optional) a leading string that should be removed from the request URI\n *\n * @return {function} middleware, suitable for use in express or connect\n */\nproxy('/api/v1', 'http://localhost:8080')`\n```\n\n### basic express example\n\n```js\nconst express = require('express');\nconst app = express();\nconst http = require('http');\nconst proxy = require('middleware-proxy');\n\napp.configure(function() {\n    app.set('port', process.env.PORT || 3000);\n    app.use(express.static(__dirname + '/app'));\n});\n\napp.use(proxy('/service', 'http://localhost:8080'));\n\nhttp.createServer(app).listen(app.get('port'), function() {\n    console.log(`Express server listening on port ${app.get('port')}`);\n});\n```\n\nThis will send all requests starting with `/service` to `http://localhost:8080/service`.\n\n### using [budo](https://www.npmjs.com/package/budo) (a browserify livereload solution)\n\n```js\nconst proxy = require('middleware-proxy');\n\nrequire('budo')('index.js', {\n    browserify: {\n        debug: true,\n    },\n\n    host: '0.0.0.0',\n    live: true,\n    open: true,\n    portfind: true,\n    pushstate: true,\n    serve: 'assets/bundle.js',\n    stream: process.stdout,\n\n    middleware: [proxy('/service', 'http://localhost:8080')],\n});\n\n```\n\n## removing an API prefix\n\nLet's say your integration environment has chosen `/api` as the mount point for communicating with your application's backend APIs. However, you're building your frontend in a separate project and can't easily run a dev server that joins both functionalities. `middleware-proxy` solves this issue by allowing a third optional parameter that defines the part of the request URL to be stripped away when proxying the request to your destination host.\n\nAssuming your remote development API host is at `http://localhost:8080` and has a RESTful collection called `/posts`, you would write your AJAX calls to `GET` from `/api/posts` and use the following configuration:\n\n```js\nproxy('/api/posts', 'http://localhost:8080', '/api');\n```\n\nThe request is transparently redirected behind the scenes:\n\n```\nGET /api/posts -> GET http://localhost:8080/posts\n```\n\n<sub>Based on the work in [rgaskill/dev-rest-proxy](https://github.com/rgaskill/dev-rest-proxy)</sub>\n","created":"2016-05-17T14:47:17.931Z","modified":"2017-03-03T23:56:26.614Z","lastPublisher":{"name":"yaycmyk","email":"evan@yaycmyk.com"},"owners":[{"name":"probablyup","email":"glitterbyte@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"middleware-proxy","_nodeVersion":"6.1.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/middleware-proxy-2.0.2.tgz_1463752514103_0.06776636326685548"},"_npmUser":{"name":"yaycmyk","email":"evan@yaycmyk.com"},"_npmVersion":"3.8.6","_rev":"3-8c479347cd74f81d53747fb1f64e30c0","_shasum":"5e19657eb02e1625d6a2122aecced353f91c8c1b","author":{"name":"Evan Jacobs","email":"evan@yaycmyk.com","url":"http://yaycmyk.com"},"bugs":{"url":"https://github.com/yaycmyk/middleware-proxy/issues"},"directories":{},"dist-tags":{"latest":"2.0.2"},"dist":{"shasum":"5e19657eb02e1625d6a2122aecced353f91c8c1b","tarball":"http://registry.npmjs.org/middleware-proxy/-/middleware-proxy-2.0.2.tgz"},"maintainers":[{"name":"probablyup","email":"glitterbyte@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-03-03T23:56:26.614Z","created":"2016-05-17T14:47:17.931Z","1.0.0":"2016-05-17T14:47:17.931Z","2.0.0":"2016-05-20T02:49:14.300Z","2.0.1":"2016-05-20T02:50:25.811Z","2.0.2":"2016-05-20T13:55:16.638Z"}}}