{"name":"fis3-deploy-http-push-plus","version":"1.2.1","description":"fis3 deploy http-push-plus plugin","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["fis","fis-plus","fis-plus-plus","fis3","deploy"],"license":"BSD","homepage":"https://github.com/maxming2333/fis3-deploy-http-push-plus","repository":"https://github.com/maxming2333/fis3-deploy-http-push-plus","gitHead":"e9a7760dbdf42ca0aa1f2e7bf7b1ce2376596c9a","versions":[{"number":"1.1.0","date":"2016-07-06T07:54:06.866Z"},{"number":"1.2.0","date":"2016-07-07T05:36:34.715Z"},{"number":"1.2.1","date":"2016-07-07T05:38:23.464Z"}],"readme":"# fis3 http 部署插件 (增强版)\n\nFIS 提供本地部署以及远程upload部署能力。\n\n## 安装\n\n全局安装或者本地安装都可以。\n\n```\nnpm install fis3-deploy-http-push-plus\n```\n\n## 使用方法\n\n```javascript\nfis.match('**', {\n    deploy: fis.plugin('http-push-plus', {\n        //如果配置了receiver，fis会把文件逐个post到接收端上\n        receiver: 'http://www.example.com:8080/receiver.php?debug=true',\n        //这个参数会跟随post请求一起发送\n        to: '/home/fis/www',\n        // 附加参数, 后端通过 $_POST['xx'] 获取\n        data: {\n            token : 'abcdefghijk',\n            user : 'maxming',\n            uid : 1\n        }\n    })\n})\n```\n\n## 另类使用方法 ( 比如: 部署时需要 token 输入 )\n\n```javascript\nconst crypto = require('crypto');\nconst readlineSync = require('readline-sync');\nfis.match('**', {\n  deploy: [\n    function (options, modified, total, next) {\n      var token = readlineSync.question('\\r\\n请输入授权token : ', {\n        hideEchoBack: true\n      });\n      if (!token) {\n        return false;\n      }\n      var md5 = crypto.createHash('md5');\n      fis.set('project.token', md5.update(token).digest('hex'));\n      next();\n    },\n    function () {\n      arguments[0] = {\n        //如果配置了receiver，fis会把文件逐个post到接收端上\n        receiver: 'http://maxtt.cc/receiver.php?debug=false',\n        // receiver: 'http://127.0.0.1/receiver.php',\n        //这个参数会跟随post请求一起发送\n        to: '/home/maxming/www/wb',\n        // to: '/Users/maxming/www/wb',\n        // 附加参数, 后端通过 $_POST['xx'] 获取\n        data: {\n          token: fis.get('project.token')\n        }\n      };\n      require('fis3-deploy-http-push-plus').apply(this, arguments);\n    }\n  ]\n});\n```\n","created":"2016-07-06T07:54:06.866Z","modified":"2016-07-07T05:38:23.464Z","lastPublisher":{"name":"maxming2333","email":"maxming2333@gmail.com"},"owners":[{"name":"maxming2333","email":"maxming2333@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"fis3-deploy-http-push-plus","_nodeVersion":"4.4.5","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/fis3-deploy-http-push-plus-1.2.1.tgz_1467869903000_0.8634781169239432"},"_npmUser":{"name":"maxming2333","email":"maxming2333@gmail.com"},"_npmVersion":"2.15.5","_rev":"1-bbb5c5846473d1c10fd17c38e1b13166","_shasum":"300abbae68db53d4bc9ea779f091fb87c417496f","author":{"name":"maxming"},"bugs":{"url":"https://github.com/maxming2333/fis3-deploy-http-push-plus/issues"},"directories":{},"dist-tags":{"latest":"1.2.1"},"dist":{"shasum":"300abbae68db53d4bc9ea779f091fb87c417496f","tarball":"http://registry.npmjs.org/fis3-deploy-http-push-plus/-/fis3-deploy-http-push-plus-1.2.1.tgz"},"maintainers":[{"name":"maxming2333","email":"maxming2333@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-07-07T05:38:23.464Z","created":"2016-07-06T07:54:06.866Z","1.1.0":"2016-07-06T07:54:06.866Z","1.2.0":"2016-07-07T05:36:34.715Z","1.2.1":"2016-07-07T05:38:23.464Z"}}}