{"name":"client-builder","version":"0.0.3","description":"Tool for building http api clients","main":"dist/index.js","scripts":{"build":"babel source -d dist","prepublish":"npm run build","test":"jasmine"},"repository":"https://github.com/tal/client-builder","keywords":["api"],"license":"MIT","homepage":"https://github.com/tal/client-builder#readme","dependencies":{"bluebird":"^3.4.1","request":"^2.73.0"},"devDependencies":{"babel":"^6.5.2","babel-cli":"^6.11.4","babel-eslint":"^6.1.2","babel-plugin-transform-flow-strip-types":"^6.8.0","babel-preset-es2015":"^6.9.0","babel-preset-stage-0":"^6.5.0","babel-preset-stage-1":"^6.5.0","babel-preset-stage-2":"^6.11.0","babel-preset-stage-3":"^6.11.0","babel-register":"^6.9.0","eslint":"^3.1.1","eslint-plugin-jasmine":"^1.8.1","flow":"^0.2.3","flow-bin":"^0.30.0","jasmine":"^2.4.1"},"gitHead":"31d45f2c9c343d5b8f0de89bd5306c401cb0455a","versions":[{"number":"0.0.1","date":"2016-08-22T00:27:02.506Z"},{"number":"0.0.2","date":"2016-08-22T00:32:01.144Z"},{"number":"0.0.3","date":"2016-10-03T21:47:50.928Z"}],"readme":"# Client Builder\n\nClient builder is a tool for node that makes it easy to make clients for HTTP\nAPIs.\n\n## Quick Setup\n\n```js\nimport {API, Endpoint} from 'client-builder'\n\nconst api = new API({\n  base: 'https://api.github.com',\n  qsParams: ['access-token'],\n  params: {\n    'access-token': 'my-access-token',\n  },\n  responseTransform: (httpResponse) => JSON.parse(httpResponse.body),\n})\n\nconst editComment = new Endpoint(api, '/repos/:owner/:repo/issues/:number/comments', {\n  method: 'GET',\n  params: {\n    owner: 'tal',\n  }\n})\n\nconst response = endpoint.performAction({\n  repo: 'client-builder',\n  number: '123',\n})\n\nresponse.then((json) => {\n  console.log('first comment', json[0])\n})\n```\n\nThis is a basic way to setup your endpoints. For any method but `GET` all parameters\nother than those specified in `qsParams` are encoded and placed in the body of\nthe request.\n\n## Advanced\n\nThe options passed into both `Endpoint` and `API` are merged before the rquest is made.\n\nBoth classes constructors take the options:\n\n```js\n{\n  params: {},  // string:string object\n  headers: {}, // string:string object\n  responseTransform: function() {}, // helper method to transform the response\n  qsParams: [], // [string]\n}\n```\n\n### Params merging\n\nFor example:\n\n```js\nconst api = new API({\n  base: 'https://test.com',\n  qsParams: ['access-token'],\n  params: {\n    'access-token': 'my-access-token',\n    path_param: 'path',\n    to_override: 'top',\n  },\n  headers: {\n    'User-Agent': 'client builder',\n  },\n})\n\nconst editComment = new Endpoint(api, '/endpoint/:path_param', {\n  method: 'PATCH',\n  params: {\n    owner: 'tal',\n  },\n  headers: {\n    'Accept': 'application/json+fmt',\n  },\n})\n\nconst response = endpoint.performAction({\n  comment: 'This is a comment',\n  to_override: 'overridden',\n})\n```\n\nWill yield the following request:\n\n```\nHOST: https://test.com\nPATH: /endpoint/path?access-token=my-access-token\nHEADERS: User-Agent=client builder;Accept=application/json+fmt;\nBODY:\n{\n  \"comment\": \"This is a comment\",\n  \"owner\": \"tal\",\n  \"to_override\": \"overridden\"\n}\n```\n\n## Todo\n- Easy \"next page\" support\n","created":"2016-08-22T00:27:02.506Z","modified":"2016-10-03T21:47:50.928Z","lastPublisher":{"name":"tal","email":"me@tal.by"},"owners":[{"name":"tal","email":"me@tal.by"}],"other":{"_attachments":{},"_from":".","_id":"client-builder","_nodeVersion":"5.8.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/client-builder-0.0.3.tgz_1475531269481_0.5805031105410308"},"_npmUser":{"name":"tal","email":"me@tal.by"},"_npmVersion":"3.7.3","_rev":"1-271816b111727c3b8b3a46150350eeb6","_shasum":"ba28bc4162841985d40093492901f9f649da73bf","author":{"name":"Tal Atlas"},"bugs":{"url":"https://github.com/tal/client-builder/issues"},"directories":{},"dist-tags":{"latest":"0.0.3"},"dist":{"shasum":"ba28bc4162841985d40093492901f9f649da73bf","tarball":"http://registry.npmjs.org/client-builder/-/client-builder-0.0.3.tgz"},"maintainers":[{"name":"tal","email":"me@tal.by"}],"readmeFilename":"README.md","time":{"modified":"2016-10-03T21:47:50.928Z","created":"2016-08-22T00:27:02.506Z","0.0.1":"2016-08-22T00:27:02.506Z","0.0.2":"2016-08-22T00:32:01.144Z","0.0.3":"2016-10-03T21:47:50.928Z"}}}