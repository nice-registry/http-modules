{"name":"git-push-server","description":"Make it easy to build an HTTP stateless git-push server","main":"lib/index.js","version":"0.0.3","dependencies":{"q":"1.0.1","lodash":"2.4.1","tmp":"0.0.23","wrench":"1.5.8","crc":"0.2.1"},"devDependencies":{"express":"4.1.2"},"homepage":"https://github.com/SamyPesse/git-push-server","license":"Apache 2","repository":"https://github.com/SamyPesse/git-push-server","versions":[{"number":"0.0.1","date":"2014-05-10T17:37:35.898Z"},{"number":"0.0.2","date":"2014-05-10T19:15:28.758Z"},{"number":"0.0.3","date":"2014-05-16T22:51:25.412Z"}],"readme":"GIT-Push Server\n==================\n\nThis node module makes it easy to build an HTTP stateless git-push server, to build stuff like Heroku or GitBook.io without keeping the repositories content.\n\n### Installation\n\n```\n$ npm install git-push-server\n```\n\n### Example\n\n```js\nvar GitPush = require(\"git-push-server\");\nvar express = require(\"express\");\nvar path = require(\"path\");\n\n// Create the http application\nvar app = express();\n\n// Create the git-push server\nvar git = new GitPush();\n\n// Create a router for the git-push server\nvar router = express.Router();\n\n// Start the git server on the router\ngit.start(router);\n\n// Bind the router to the app\napp.use('/:author/:repo.git', function(req, res, next) {\n    // Needed to identify the repository\n    req.repoId = [req.params.author, req.params.repo].join(\"/\");\n    next();\n});\napp.use('/:author/:repo.git', router);\n\n// Start the http server\nvar server = app.listen(3000, function() {\n    console.log('Listening on port %d', server.address().port);\n});\n```\n\nYou can now run from a git repository:\n\n```\n$ git push http://localhost:3000/test/test.git master\n```\n\n### Run an operation on each push\n\nIf you need to run an operation on the folder resulting from the push, you need to override ```push```. For async operaiton, this method can return a **promise**.\n\n```js\ngit.push = function(pushInfos) {\n    // pushInfos.repoId\n    // pushInfos.auth.username\n    // pushInfos.auth.password\n    // pushInfos.content\n    // pushInfos.bare\n\n    // do some build or deployment operation\n};\n```\n\n### Authentication\n\nYou need to override ```authenticate``` to make authentication work. It should return a **boolean** or a **promise** for async authentication.\n\n```js\ngit.authenticate = function(infos) {\n    // infos.repoId -> repository id set with in req.repoID\n    // infos.username\n    // infos.password\n\n    return doSomethingWithDatabase(infos.username, infos.password, infos.repoId);\n};\n```\n\n### Options\n\n```js\nvar git = new GitPush(options);\n```\n\n`options.debug`: enable log messages (default false)\n`options.root`: root directory for the repositories (default os.tmpdir)\n\n","starsCount":1,"created":"2014-05-10T17:37:35.898Z","modified":"2014-05-16T22:51:25.412Z","lastPublisher":{"name":"samypesse","email":"samypesse@gmail.com"},"owners":[{"name":"samypesse","email":"samypesse@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"git-push-server","_npmUser":{"name":"samypesse","email":"samypesse@gmail.com"},"_npmVersion":"1.4.3","_rev":"1-9352d3ea8dc7cc42a11bbb8d79e1f37a","author":{"name":"Samy Pess√©","email":"samypesse@gmail.com"},"bugs":{"url":"https://github.com/SamyPesse/git-push-server/issues"},"directories":{},"dist-tags":{"latest":"0.0.3"},"dist":{"shasum":"e58d6eb41d333a0293d4ca32e074d2dbb19a5e7d","tarball":"http://registry.npmjs.org/git-push-server/-/git-push-server-0.0.3.tgz"},"maintainers":[{"name":"samypesse","email":"samypesse@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2014-05-16T22:51:25.412Z","created":"2014-05-10T17:37:35.898Z","0.0.1":"2014-05-10T17:37:35.898Z","0.0.2":"2014-05-10T19:15:28.758Z","0.0.3":"2014-05-16T22:51:25.412Z"},"users":{"developit":true}}}