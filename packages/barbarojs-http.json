{"name":"barbarojs-http","version":"1.0.9","description":"fetch wrapper","main":"build/index.js","scripts":{"test":"karma start karma.conf.js --single-run","compile":"babel -d build/ src/"},"repository":"https://github.com/barbarojs/barbarojs-http","license":"MIT","homepage":"https://github.com/barbarojs/barbarojs-http#readme","dependencies":{"whatwg-fetch":"^2.0.2"},"devDependencies":{"babel-cli":"^6.22.2","babel-loader":"^6.2.10","babel-preset-es2015":"^6.22.0","babel-preset-stage-0":"^6.22.0","chai":"^3.5.0","karma":"^1.4.0","karma-babel-preprocessor":"^6.0.1","karma-chai":"^0.1.0","karma-chai-sinon":"^0.1.5","karma-coverage":"^1.1.1","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.2","karma-phantomjs-launcher":"^1.0.2","karma-webpack":"^2.0.1","mocha":"^3.2.0","phantomjs-prebuilt":"^2.1.14","sinon":"^1.17.7","sinon-chai":"^2.8.0","webpack":"^1.14.0"},"gitHead":"d2550d16229bc8898daecbf107e76f2c50066d49","versions":[{"number":"1.0.0","date":"2017-01-20T15:57:55.615Z"},{"number":"1.0.1","date":"2017-01-21T21:09:47.043Z"},{"number":"1.0.2","date":"2017-01-21T21:36:18.109Z"},{"number":"1.0.3","date":"2017-01-23T22:33:43.578Z"},{"number":"1.0.4","date":"2017-01-25T09:46:41.232Z"},{"number":"1.0.5","date":"2017-01-25T09:51:45.132Z"},{"number":"1.0.6","date":"2017-01-25T09:56:09.727Z"},{"number":"1.0.7","date":"2017-01-25T15:55:46.145Z"},{"number":"1.0.8","date":"2017-01-30T12:43:30.019Z"},{"number":"1.0.9","date":"2017-02-04T19:41:38.183Z"}],"readme":"# barbarojs-http\nWrapper of github fetch lib: https://github.com/github/fetch\nIt uses native Promise to chain Middlewares\n\n# Installation\n\nnpm install barbarojs-http\n\n# Usage\n\n```javascript\nimport {http} from 'barbarojs-http';\n```\n\n## How To\n\nLib interpolates variables as described here below\nSupported verbs are: GET, POST, PUT, PATCH, DELETE\n\n\n```javascript\n// define params to be interpolated\nlet conn = new http('/test/:id');\n\n// send request\nconn.get({id: 123, q: 1}).then(x => console.log(x)); // /test/123?q=1\n\n// post\nconn.post({id: 123, q: 1, name: 'me'}).then(x => console.log(x)); // /test/123 -> body {q:1, name: 'me'}\n```\n\n## Special Features\n\nSet development server\n\n```javascript\nimport {httpProvider} from 'barbarojs-http';\nhttpProvider.setHostname('http://localhost:3000');\n```\n\n### Set JWT Token\n\n```javascript\nimport {httpProvider} from 'barbarojs-http';\n...\n...\n// set\nhttpProvider.setJwtToken(tokenHere);\n// remove \nhttpProvider.removeJwtToken();\n```\n\n### Middlewares\n\n```javascript\nimport {httpProvider} from 'barbarojs-http';\n...\n...\n// set middleware, always return a promise in order to chain other middlewares \n// or your promise\nhttpProvider.use((req) => {\n\tif (req.status === 403) {\n\t\t// redirect to home\n\t\treturn Promise.reject(req);\n\t} else if (req.status >= 400) {\n\t\treturn Promise.reject(req);\n\t} else {\n\t\treturn Promise.resolve(req);\n\t}\n});\n\n// myClass.js\n...\n...\nlet conn = new http('/test/:id');\nconn.get({id: 345})\n.then( // this will happen after middlewares\n    x => console.log(x), // all good here\n    err => console.log(err) // rejection can come from middleware\n);\n...\n...\n```\n\n### Options\n\n```javascript\nimport {httpProvider} from 'barbarojs-http';\n...\n...\n// set custom options\nhttpProvider.setOptions({\n    headers:{\n        'x-Auth....': 'mytoken'\n        }\n    }\n);\n\n```","created":"2017-01-20T15:57:55.615Z","modified":"2017-02-04T19:41:38.183Z","lastPublisher":{"name":"sangallimarco","email":"sangalli.marco@gmail.com"},"owners":[{"name":"sangallimarco","email":"sangalli.marco@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"barbarojs-http","_nodeVersion":"6.9.4","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/barbarojs-http-1.0.9.tgz_1486237295890_0.5834521553479135"},"_npmUser":{"name":"sangallimarco","email":"sangalli.marco@gmail.com"},"_npmVersion":"3.10.10","_rev":"10-51cd368cefb6b4a681d30b30c25cba9c","_shasum":"99bf9d42e20b8780c92f720330b065466abd4e92","author":{"name":"Marco Sangalli","email":"sangalli.marco@gmail.com"},"bugs":{"url":"https://github.com/barbarojs/barbarojs-http/issues"},"directories":{},"dist-tags":{"latest":"1.0.9"},"dist":{"shasum":"99bf9d42e20b8780c92f720330b065466abd4e92","tarball":"https://registry.npmjs.org/barbarojs-http/-/barbarojs-http-1.0.9.tgz"},"maintainers":[{"name":"sangallimarco","email":"sangalli.marco@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-02-04T19:41:38.183Z","created":"2017-01-20T15:57:55.615Z","1.0.0":"2017-01-20T15:57:55.615Z","1.0.1":"2017-01-21T21:09:47.043Z","1.0.2":"2017-01-21T21:36:18.109Z","1.0.3":"2017-01-23T22:33:43.578Z","1.0.4":"2017-01-25T09:46:41.232Z","1.0.5":"2017-01-25T09:51:45.132Z","1.0.6":"2017-01-25T09:56:09.727Z","1.0.7":"2017-01-25T15:55:46.145Z","1.0.8":"2017-01-30T12:43:30.019Z","1.0.9":"2017-02-04T19:41:38.183Z"}}}