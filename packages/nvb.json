{"name":"nvb","version":"0.1.0","description":"a frugal utility and library for awaiting HTTP callbacks from builds etc.","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1","listen":"bin/nvb package.json","notify":"bin/nvb-client package.json"},"bin":{"nvb":"./bin/nvb","nvb-client":"./bin/nvb-client"},"repository":"https://github.com/rkaw92/nvb","keywords":["http","callback","minimal","build","await","sync"],"license":"MIT","homepage":"https://github.com/rkaw92/nvb#readme","gitHead":"e52d26fad63a8aa4feef951dc8c34e0588efa74a","versions":[{"number":"0.1.0","date":"2016-07-14T22:30:06.631Z"}],"readme":"# nvb\nThis utility lets you write or launch a process that will wait for a given set of clients to connect to it. **HTTP-based Promise.all() for the console!**\n\nEach client (\"part\") is identified by a name. When all clients have connected, the listener ends its job and yields success (for CLI, this means `exit 0`; for `nvb.listen()` it's a resolved promise).\n\n# Install\n```sh\n# for a global install as root, use:\nnpm install -g nvb\n# or if you prefer a local install for use in your project, with CLI tools in ./node_modules/.bin :\nnpm install nvb --save\n```\n\n# Use from CLI\nIn one terminal:\n```sh\nnvb clientA clientB\n# The process does not exit until you've called both clients\n# Also, on timeout, the exit code will be 2 - you can inspect the last command's exit code by executing the below:\necho $?\n```\nIn another:\n```sh\nnvb-client clientA\nnvb-client clientB\n```\nThe main `nvb` process should exit after you've called both clientA and clientB.\nTry that again, but call the client with the same name twice or a name that has not been declared on the server and observe what happens.\n\nAlso add some auth and configure a custom port, and pass two fancy names to wait for:\n```sh\nexport NVB_PORT=15678\nexport NVB_TOKEN=super-secret-stuff\nexport NVB_TIMEOUT=10000\nnvb mainApp backgroundWorker &\n# Børk børk\nNVB_TOKEN=totally-forgot nvb-client backgroundWorker\n# Only the main app is having a good day today:\nnvb-client mainApp\n# In a sec, you're going to see nvb complain about the background worker missing\n```\n\n# Use from Node\n```js\n// On the server that will listen to the minions waking up:\nrequire('nvb').listen({ parts: [ 'minion1', 'minion2' ] }).then(onFulfilled, onRejected);\n\n// On the clients:\nrequire('nvb').notify({ name: 'minion1' });\n```\n\n## nvb.listen([ options ]) → Promise\nStart listening for all clients to connect.\n\n## nvb.notify([ options ]) → Promise\nConnect to an nvb server and indicate the client's presence.\n\n# Options\n### options.parts : Array.\\<string\\>\nThe set of client names to await. When all of them have connected, the promise resolves. Only used on the server.\n### options.address : string\nThe address to listen on or to connect to. By default, `::` is used on the server (all interfaces) and `::1` on the client (localhost).\n### options.port : number\nThe port to listen on or to connect to. By default, `6786` or whatever is passed in environment variable `NVB_PORT`.\n### options.token : string\nIf passed, uses a string value to authenticate against the server using an `X-NVB-Token`. On the server, this parameter sets the required token. Defaults to env variable `NVB_TOKEN` - unused if empty.\n### options.timeout : number\nSets the timeout (ms) for connecting and listening. By default, 10000 on the client and 60000 on the server.\n\n# License\nMIT\n","created":"2016-07-14T22:30:06.631Z","modified":"2016-07-14T22:30:06.631Z","lastPublisher":{"name":"rkaw92","email":"robert+npm@rkaw.pl"},"owners":[{"name":"rkaw92","email":"robert+npm@rkaw.pl"}],"other":{"_attachments":{},"_from":".","_id":"nvb","_nodeVersion":"6.0.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/nvb-0.1.0.tgz_1468535404436_0.7919742225203663"},"_npmUser":{"name":"rkaw92","email":"robert+npm@rkaw.pl"},"_npmVersion":"3.8.8","_rev":"1-a09757849f971d55c7c2560ba58cfcea","_shasum":"475a255178f8db85db35100c3d0c1d78ea6f6963","author":{"name":"Robert Kawecki","email":"robert+npm@rkaw.pl"},"bugs":{"url":"https://github.com/rkaw92/nvb/issues"},"directories":{},"dist-tags":{"latest":"0.1.0"},"dist":{"shasum":"475a255178f8db85db35100c3d0c1d78ea6f6963","tarball":"http://registry.npmjs.org/nvb/-/nvb-0.1.0.tgz"},"maintainers":[{"name":"rkaw92","email":"robert+npm@rkaw.pl"}],"readmeFilename":"README.md","time":{"modified":"2016-07-14T22:30:06.631Z","created":"2016-07-14T22:30:06.631Z","0.1.0":"2016-07-14T22:30:06.631Z"}}}