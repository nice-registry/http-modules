{"name":"testosterone","description":"Virile testing for http servers or any nodejs application","version":"1.3.1","repository":"https://github.com/masylum/testosterone","dependencies":{"colors":">=0.3.0","underscore":"1.1.7"},"devDependencies":{"express":"2.5.6","gently":"0.9.1"},"main":"index","engines":{"node":"*"},"optionalDependencies":{},"_engineSupported":true,"_defaultsLoaded":true,"versions":[{"number":"0.0.1","date":"2010-12-28T23:02:38.760Z"},{"number":"0.0.2","date":"2010-12-28T23:08:54.488Z"},{"number":"0.0.3","date":"2010-12-28T23:12:20.012Z"},{"number":"0.0.4","date":"2010-12-29T21:24:06.027Z"},{"number":"0.0.5","date":"2010-12-29T22:02:14.094Z"},{"number":"0.0.6","date":"2011-01-01T23:36:59.219Z"},{"number":"0.0.7","date":"2011-01-02T16:06:21.308Z"},{"number":"1.0.0","date":"2011-01-30T23:31:27.952Z"},{"number":"1.1.0","date":"2011-03-19T17:27:07.256Z"},{"number":"1.2.0","date":"2011-04-22T17:31:07.095Z"},{"number":"1.3.0","date":"2011-07-21T13:53:06.868Z"},{"number":"1.3.1","date":"2012-01-29T13:43:09.416Z"}],"readme":"# ✿ Testosterone\n\nVirile testing for http servers or any nodejs application.\n\n## Installation\n\n`npm install testosterone`\n\n## WhateverDrivenDevelopment\n\nTestosterone allows you to follow BDD or TDD on any of your projects using\nthe same testing library.\n\n<img src = \"https://github.com/masylum/testosterone/raw/master/testosterone.png\" border = \"0\" />\n\n## Options\n\n  * `host`: Host to do the http calls. *localhost*\n  * `port`: Port to do the http calls. *80*\n  * `output`: Configure the amount of verbosity you want for your tests\n    * `specs`: Print the specs *true*\n    * `ticks`: Print the ✓ and ✗ ticks *true*\n    * `summary`: Prints the summary *true*\n    * `title`: Prints the title *true*\n  * `title`: Test title, it will be printed out. *Testosterone*\n  * `sync`: If set to `true`, you don't need to call `done` to specify when your tests are done. *false*\n\n## API\n\n_testosterone_ API is simple and flexible.\n\n- `get|post|head|put|delete...(url, req, response, cb)`: Does a http call with the given request. If a response is given, testosterone will assert that the real response matches.\n- `add(spec, function(done))`: Adds a test. The test is considered executed when `done` function is called.\n- `before(function)`: Runs before each test.\n- `after(function)`: Runs after each test.\n- `run([cb])`: Runs the tests in serial. `cb` will be called once all the tests are executed.\n- `assert`: You **must** use this assert object instead of the native one.\n\nAll the functions are chainable.\n\n## Show me the code\n\nYou have more examples on the `test` folder:\n\n### HTTP testing example:\n\n``` javascript\nvar testosterone = require('testosterone')({port: 3000})\n  , assert = testosterone.assert;\n\ntestosterone\n  .get('/', function (res) {\n    assert.equal(res.statusCode, 200)\n  })\n\n  .get('/hi', function (res) {\n    assert.equal(res.statusCode, 500);\n    assert.equal(res.body, 'use post instead');\n  })\n\n  .post('/hi', {data: {message: 'hola'}}, {\n    status: 200\n  , body: 'hola'\n  });\n\n// Output\n\n$ node test.js\n\n✿ Testosterone : ✓ ✓ ✓ ✓ ✓\n» 3 responses, 5 asserts\n```\n\n### Asynchronous example:\n\n``` javascript\nvar testosterone = require('testosterone')({post: 3000, title: 'Testing async'})\n  , assert = testosterone.assert;\n\ntestosterone\n\n  .before(function () {\n    console.log('test about to run!');\n  })\n\n  // using done to tell testosterone when the test is done\n  .add('First test', function (done) {\n    setTimeout(function () {\n      assert.ok(true);\n      done();\n    }, 999);\n  })\n\n  // same but currying\n  .add('Second test', function (spec) {\n    assert.ok(true);\n\n    setTimeout(done(function () {\n      assert.ok(true);\n    }), 10);\n  })\n\n  .run(function () {\n    require('sys').print('All tests passed!');\n  });\n\n// Output\n\n$ node test.js\n\n✿ Testing async :\n\nFirst test => ✓\nSecond test => ✓ ✓\n\n» 0 responses, 3 asserts\n```\n\n### Example with [gently](https://github.com/felixge/node-gently.git) stubbing and `sync: true`:\n\n``` javascript\nvar testosterone = require('testosterone')({post: 3000, title: 'Testing with stubs', sync: true})\n  , gently = new (require('gently'))\n  , fs = require('fs')\n  , assert = testosterone.assert;\n\ntestosterone\n  .add('GIVEN foo.txt \\nWHEN its empty \\nTHEN it return null', function (spec) {\n    gently.expect(fs, 'readFile', function (path, encoding, cb) {\n      assert.equal(path, 'foo.txt');\n      cb(null, null);\n    });\n\n    fs.readFile('foo.txt', 'utf-8', function (er, data) {\n      assert.equal(er, null);\n      assert.equal(data, null);\n    });\n  })\n\n  .add('GIVEN foo.txt \\nWHEN it have content \\nTHEN it return that content', function (spec) {\n    gently.expect(fs, 'readFile', function (path, encoding, cb) {\n      assert.equal(path, 'foo.txt');\n      cb(null, 'foo');\n    });\n\n    fs.readFile('foo.txt', 'utf-8', function (er, data) {\n      assert.equal(er, null);\n      assert.equal(data, 'foo');\n    });\n  })\n\n  .run(function () {\n    require('sys').print('done!');\n  });\n\n// Output\n\n$ node test.js\n\n✿ Testing with stubs :\n\nGIVEN foo.txt\nWHEN its empty\nTHEN it return null => ✓ ✓ ✓\n\nGIVEN foo.txt\nWHEN it have content\nTHEN it return that content => ✓ ✓ ✓\n\n» 6 asserts\n```\n\n## Test\n\nIn order to run the tests type:\n\n``` bash\nnpm install\nmake test_app\nmake\n```\n\n## Credits\n\nThe *_call* function of this library is a shameless copy from [expresso](https://github.com/visionmedia/expresso) response assert done by TJ Holowaychuk ([visionmedia](http://github.com/visionmedia))\n","created":"2010-12-28T23:02:38.234Z","modified":"2012-01-29T13:43:09.416Z","lastPublisher":{"name":"masylum","email":"masylum@gmail.com"},"owners":[{"name":"masylum","email":"masylum@gmail.com"}],"other":{"_attachments":{},"_id":"testosterone","_nodeVersion":"v0.6.5","_npmUser":{"name":"masylum","email":"masylum@gmail.com"},"_npmVersion":"1.1.0-2","_rev":"1-4d4ac9507193f605495101b935fdb7c1","author":{"name":"Pau Ramon Revilla","email":"masylum@gmail.com"},"directories":{"lib":"lib"},"dist-tags":{"latest":"1.3.1"},"dist":{"shasum":"769c324e2232a487c90ba4063636bbcfe2b2f87e","tarball":"http://registry.npmjs.org/testosterone/-/testosterone-1.3.1.tgz"},"maintainers":[{"name":"masylum","email":"masylum@gmail.com"}],"readmeFilename":"","time":{"modified":"2012-01-29T13:43:09.416Z","created":"2010-12-28T23:02:38.234Z","0.0.1":"2010-12-28T23:02:38.760Z","0.0.2":"2010-12-28T23:08:54.488Z","0.0.3":"2010-12-28T23:12:20.012Z","0.0.4":"2010-12-29T21:24:06.027Z","0.0.5":"2010-12-29T22:02:14.094Z","0.0.6":"2011-01-01T23:36:59.219Z","0.0.7":"2011-01-02T16:06:21.308Z","1.0.0":"2011-01-30T23:31:27.952Z","1.1.0":"2011-03-19T17:27:07.256Z","1.2.0":"2011-04-22T17:31:07.095Z","1.3.0":"2011-07-21T13:53:06.868Z","1.3.1":"2012-01-29T13:43:09.416Z"}}}