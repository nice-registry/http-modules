{"name":"allow-request","version":"0.1.4","description":"whitelist certain http routes","main":"allow-request.js","scripts":{"test":"mocha"},"repository":"https://github.com/xat/allow-request.js","keywords":["request","filter","allow","deny"],"license":"MIT","homepage":"https://github.com/xat/allow-request.js","devDependencies":{"expect.js":"~0.3.1"},"dependencies":{"path-to-regexp":"~0.1.2","methods":"~0.1.0"},"versions":[{"number":"0.1.0","date":"2014-04-13T09:39:18.142Z"},{"number":"0.1.1","date":"2014-04-19T20:24:52.597Z"},{"number":"0.1.2","date":"2014-05-07T21:02:00.685Z"},{"number":"0.1.3","date":"2014-07-09T20:43:00.604Z"},{"number":"0.1.4","date":"2014-07-09T21:05:34.794Z"}],"readme":"## allow-request\n\nWith allow-request you can build a whitelist of routes which you want to allow. This\ncan be handy if your building an HTTP proxy and only want to allow certain routes\non the target machine to get called.\n\n### Installation\n\n```\nnpm install allow-request\n```\n\n### Sample\n\n```javascript\n\nvar allowRequest = require('allow-request'),\n    http = require('http'),\n    whitelist = allowRequest();\n\n// Allow GET requests to /blog\nwhitelist.get('/blog');\n\n// Allow POST requests to /blob/comment\nwhitelist.post('/blog/comment');\n\n// Allow GET requests to the Users 3, 7 and 8\n// Notice that you are able to use any routes that you would\n// also be able to use in express (including RegEX) since\n// we are using the same route-to-regex converter.\nwhitelist.get('/user/:id', function(pass, req, pathname, id) {\n    // Handing 'true' in as first parameter to 'pass' says\n    // that the route is allow.\n    pass([3, 7, 8].indexOf(id) !== -1);\n});\n\nvar proxy = http.createServer(function (req, res) {\n\n    // This will check if the request is permitted.\n    whitelist.check(req, function(allowed) {\n\n        if (allowed) {\n            res.writeHead(200, {'Content-Type': 'text/plain'});\n            res.end('you are allowed to pass');\n        } else {\n            res.writeHead(403, {'Content-Type': 'text/plain'});\n            res.end('you do not have permissions to access this resource');\n        }\n\n    });\n\n});\n\nproxy.listen(5000);\n\n```","created":"2014-04-13T09:39:16.194Z","modified":"2014-07-09T21:05:34.794Z","lastPublisher":{"name":"xat","email":"simon@soped.com"},"owners":[{"name":"xat","email":"simon@soped.com"}],"other":{"_attachments":{},"_from":".","_id":"allow-request","_npmUser":{"name":"xat","email":"simon@soped.com"},"_npmVersion":"1.4.3","_rev":"1-5e4f5f517980ca0ec87bd73d67239a71","author":{"name":"Simon Kusterer","email":"simon@sope.io","url":"http://sope.io"},"bugs":{"url":"https://github.com/xat/allow-request.js/issues"},"directories":{"test":"test"},"dist-tags":{"latest":"0.1.4"},"dist":{"shasum":"af1ac29beb22988f804bd0c3d618d808c1d4827d","tarball":"http://registry.npmjs.org/allow-request/-/allow-request-0.1.4.tgz"},"maintainers":[{"name":"xat","email":"simon@soped.com"}],"readmeFilename":"README.md","time":{"modified":"2014-07-09T21:05:34.794Z","created":"2014-04-13T09:39:16.194Z","0.1.0":"2014-04-13T09:39:18.142Z","0.1.1":"2014-04-19T20:24:52.597Z","0.1.2":"2014-05-07T21:02:00.685Z","0.1.3":"2014-07-09T20:43:00.604Z","0.1.4":"2014-07-09T21:05:34.794Z"}}}