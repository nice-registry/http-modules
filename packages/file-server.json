{"name":"file-server","version":"1.0.5","description":"Simple http file server that supports files and directories","main":"index.js","scripts":{"test":"node ./tests"},"repository":"https://github.com/MauriceButler/file-server","keywords":["file","server","serve","static","cache","gzip","http","directory"],"license":"MIT","homepage":"https://github.com/MauriceButler/file-server","dependencies":{"chokidar":"^0.12.5","graceful-fs":"^3.0.5","hashr":"^1.0.2","kgo":"^1.3.0","stream-catcher":"^1.0.3"},"devDependencies":{"fraudster":"^1.0.0","tape":"^3.0.3"},"gitHead":"bd627b755231f603e597460d53aaa3fb6459f4ab","versions":[{"number":"0.0.1","date":"2014-11-27T00:50:50.644Z"},{"number":"1.0.0","date":"2014-12-10T03:07:18.414Z"},{"number":"1.0.1","date":"2014-12-10T06:02:05.702Z"},{"number":"1.0.2","date":"2014-12-11T02:30:45.991Z"},{"number":"1.0.3","date":"2015-01-13T00:09:04.820Z"},{"number":"1.0.4","date":"2015-04-14T02:05:39.916Z"},{"number":"1.0.5","date":"2015-04-15T05:36:58.664Z"}],"readme":"#file-server\n\nSimple http file server that supports files and directories\n\n\n## Example\n\n    var FileServer = require('file-server'),\n        fileServer = new FileServer(function(error, request, response){\n            response.statusCode = error.code || 500;\n            response.end(error);\n        }),\n        serveRobots = fileServer.serveFile('./robots.txt', 'text/plain');\n\n    require('http').createServer(serveRobots(request, response)).listen(8080);\n\n\n### new FileServer(errorCallback, [cacheSize])\n\nThe FileServer constructor takes 2 arguments `errorCallback` and an optional `cacheSize` (bytes).\n\nThe callback gets 3 arguments `(error, request, response)`\n\n`cacheSize` will defaults to 1024 * 1000\n\nIf the error argument was the result of a missing file the error will have a `code` of 404. Other codes may be added in the future.\n\n    var FileServer = require('file-server'),\n        fileServer = new FileServer(function(error, request, response){\n            response.statusCode = error.code || 500;\n            response.end(error);\n        });\n\n\n### fileServer.serveFile(fileName, mimeType, [maxAge])\n\nThe `serveFile` method takes 3 arguments `fileName`, `mimeType` and an optional `maxAge`.\n\n`fileName` is the name of the file to serve.\n\n`mimeType` is a string, defining which mime type should be used.\n\n`maxAge` will defaults to 0 (rely on ETags)\n\nThis will return a function that takes a `request` and a `response` and will stream the file to the response, or in the case of an error, call the error callback passed in at construction.\n\n    serveRobots = fileServer.serveFile('./robots.txt', 'text/plain');\n    serveRobots(request, response);\n\n\n### fileServer.serveDirectory(rootDirectory, mimeTypes, [maxAge])\n\nThe `serveDirectory` method takes 3 arguments `rootDirectory`, `mimeTypes` and an optional `maxAge`.\n\n`rootDirectory` is the base directory to serve files from. If a file above this directory is asked for the request will error with a 404.\n\n`mimeTypes` is an object keyed by extension, defining which mime type should be used for the extension. If a file is asked for with an extension that is not defined the request will error with a 404.\n\n`maxAge` will defaults to 0 (rely on ETags)\n\nThis will return a function that takes a `request`, `response` and a `filename` and will stream the file to the response, or in the case of an error, call the error callback passed in at construction.\n\n    serveImagesDirectory = fileServer.serveDirectory('./images', {\n        '.gif': 'image/gif',\n        '.png': 'image/png',\n        '.jpg': 'image/jpeg'\n    });\n\n    serveImagesDirectory(request, response, '/kittens.jpg');\n","created":"2014-11-27T00:50:50.644Z","modified":"2015-07-29T06:07:52.821Z","lastPublisher":{"name":"mauricebutler","email":"maurice.butler@gmail.com"},"owners":[{"name":"mauricebutler","email":"maurice.butler@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"file-server","_nodeVersion":"1.4.2","_npmUser":{"name":"mauricebutler","email":"maurice.butler@gmail.com"},"_npmVersion":"2.6.1","_rev":"1-065a72f9aa85d51419531de3bce43baf","_shasum":"e3abe5042d8d901ceab15a7857eed986b3622534","author":{"name":"Maurice Butler","email":"maurice.butler@gmail.com"},"bugs":{"url":"https://github.com/MauriceButler/file-server/issues"},"directories":{},"dist-tags":{"latest":"1.0.5"},"dist":{"shasum":"e3abe5042d8d901ceab15a7857eed986b3622534","tarball":"http://registry.npmjs.org/file-server/-/file-server-1.0.5.tgz"},"maintainers":[{"name":"mauricebutler","email":"maurice.butler@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-07-29T06:07:52.821Z","created":"2014-11-27T00:50:50.644Z","0.0.1":"2014-11-27T00:50:50.644Z","1.0.0":"2014-12-10T03:07:18.414Z","1.0.1":"2014-12-10T06:02:05.702Z","1.0.2":"2014-12-11T02:30:45.991Z","1.0.3":"2015-01-13T00:09:04.820Z","1.0.4":"2015-04-14T02:05:39.916Z","1.0.5":"2015-04-15T05:36:58.664Z"}}}