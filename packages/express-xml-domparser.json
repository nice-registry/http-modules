{"name":"express-xml-domparser","version":"0.0.3","description":"Express middleware to read in the body of an XML http request into a DOM","main":"index.js","repository":"https://github.com/jonathana/express-xml-domparser","keywords":["expressjs","express","xml","middleware"],"license":"MIT","homepage":"https://github.com/jonathana/express-xml-domparser","dependencies":{"libxmljs":"~0.18.0"},"devDependencies":{"chai":"^3.5.0","highland":"^2.8.1","mocha":"^2.5.3"},"scripts":{"test":"mocha"},"gitHead":"67c88629e1111639c93e197cc20e5a643696e82a","versions":[{"number":"0.0.1","date":"2014-03-05T18:35:39.905Z"},{"number":"0.0.2","date":"2014-03-05T19:20:31.517Z"},{"number":"0.0.3","date":"2016-06-06T22:56:59.985Z"}],"readme":"# express-xml-domparser\n\nFor those rare cases when you want to make a DOM out of incoming raw xml-body requests. This middleware works with any connect- or express-based nodejs application.\n\n## Description\n\nAdmittedly, having to deal with XML data has become less common in recent years. Still,  there are services and APIs using this format. The middleware is based on the [xml-dom-bodyparser middleware] (https://github.com/macedigital/express-xml-bodyparser) as a blueprint.\n\nThere were several features that express-xml-bodyparser calls out and here is how express-xml-domparser deals with  them:\n\n* REMOVED: custom configuration options how to deal with xml data, since it was almost all related to xml->json   conversion\n* KEPT: Attempt to parse data only once, even if middleware is called multiple times.\n* KEPT: Skip data parsing immediately if no req-body has been sent.\n* KEPT: Accept any XML-based content-type, e.g. `application/rss+xml`\n* KEPT: No dependency on coffeescript keeping dependencies to a minimum.\n\n\n## Installation\n\nUtilize [npm](http://npmjs.org/) by typing `npm install express-xml-domparser --save` in your projects root folder   and you are good to go.\n\n## Dependencies\n\nUses the [libxmljs npm package](https://www.npmjs.org/package/libxmljs) as its XML parser.\n\n## Usage\n\nYou can either use express-xml-domparser at application level, or for specific routes only.\n\nHere is an example of an express application with default settings:\n\n````\nvar express = require('express'),\n    app = express(),\n    http = require('http'),\n    server = http.createServer(app),\n    xmldomparser = require('express-xml-domparser');\n\n// .. other middleware ...\napp.use(express.json());\napp.use(express.urlencoded());\napp.use(xmldomparser());\n// ... other middleware ...\n\napp.post('/receive-xml', function(req, res, next) {\n\n  // req.rawData contains the parsed xml\n  // req.xmlDom contains the DOM\n\n});\n\nserver.listen(1337);\n\n````\n\nIf you wanted to use express-xml-bodyparser for specific routes only, you would do something like this:\n\n````\napp.post('/receive-xml', xmldomparser(), function(req, res, next) {\n  // check req.body\n});\n````\n\n## Extensions to the http.ClientRequest (req) Object\n\nThis middleware adds 2 properties to the request object:\n\n* req.rawBody: contains the raw data read in from the request, without any processing done to it\n* req.xmlDom: the libxmljs XML DOM Document returned by parsing the raw data read from the request\n\n## Usage Warnings\n\nAs this is processing the data events 'on' and 'end', it may conflict with other middleware (connect.bodyParser for\nexample) that also process the same data events.  Be careful if you try to use 2 body parsers.  Also note that several\ndifferent connect/express middleware attempts to expose req.rawBody as well in an attempt to reproduce early express\nbehavior.\n","created":"2014-03-05T18:35:39.905Z","modified":"2016-06-06T22:56:59.985Z","lastPublisher":{"name":"async_io","email":"jonathan.a@gmail.com"},"owners":[{"name":"async_io","email":"jonathan.a@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"express-xml-domparser","_nodeVersion":"6.2.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/express-xml-domparser-0.0.3.tgz_1465253817613_0.7344051185064018"},"_npmUser":{"name":"async_io","email":"jonathan.a@gmail.com"},"_npmVersion":"3.8.9","_rev":"1-08881505600b2ceb634696bffa4e9e58","_shasum":"b6c9c0a51010d1e220652765b3bb5986f9e308a7","author":{"name":"Jonathan M. Altman"},"bugs":{"url":"https://github.com/jonathana/express-xml-domparser/issues"},"directories":{},"dist-tags":{"latest":"0.0.3"},"dist":{"shasum":"b6c9c0a51010d1e220652765b3bb5986f9e308a7","tarball":"http://registry.npmjs.org/express-xml-domparser/-/express-xml-domparser-0.0.3.tgz"},"maintainers":[{"name":"async_io","email":"jonathan.a@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-06-06T22:56:59.985Z","created":"2014-03-05T18:35:39.905Z","0.0.1":"2014-03-05T18:35:39.905Z","0.0.2":"2014-03-05T19:20:31.517Z","0.0.3":"2016-06-06T22:56:59.985Z"}}}