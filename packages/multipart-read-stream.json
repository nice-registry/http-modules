{"name":"multipart-read-stream","version":"3.0.1","description":"Read a multipart stream over HTTP","main":"index.js","scripts":{"deps":"dependency-check . && dependency-check . --extra --no-dev","test":"standard && npm run deps && NODE_ENV=test node test","test:cov":"standard && npm run deps && NODE_ENV=test istanbul cover test.js"},"repository":"https://github.com/yoshuawuyts/multipart-read-stream","keywords":["http","multipart","stream"],"license":"MIT","dependencies":{"content":"^3.0.3","pez":"^2.1.4","xtend":"^4.0.1"},"devDependencies":{"concat-stream":"^1.5.2","dependency-check":"^2.6.0","form-data":"^2.1.1","get-server-port":"^1.0.0","istanbul":"^0.4.5","pump":"^1.0.1","standard":"^8.4.0","tape":"^4.6.2"},"gitHead":"6c0064ecfa4fb415e7e5b27f9bb807e6380394d8","homepage":"https://github.com/yoshuawuyts/multipart-read-stream#readme","versions":[{"number":"1.0.0","date":"2016-10-20T14:17:08.737Z"},{"number":"1.0.1","date":"2016-10-31T23:27:02.238Z"},{"number":"2.0.0","date":"2016-12-20T10:57:39.350Z"},{"number":"3.0.0","date":"2017-02-16T14:44:04.959Z"},{"number":"3.0.1","date":"2017-06-05T21:44:26.903Z"}],"readme":"# multipart-read-stream [![stability][0]][1]\n[![npm version][2]][3] [![build status][4]][5] [![test coverage][6]][7]\n[![downloads][8]][9] [![js-standard-style][10]][11]\n\nRead a multipart stream over HTTP. Built on top of [pez][pez].\n\n## Usage\n```js\nvar multipart = require('multipart-read-stream')\nvar pump = require('pump')\nvar http = require('http')\n\nhttp.createServer(function (req, res) {\n  var multipartStream = multipart(req.headers, handler)\n\n  pump(req, multipartStream, function (err) {\n    if (err) res.end('server error')\n    res.end()\n  })\n\n  function handler (fieldname, file, filename) {\n    console.log('reading file ' + filename + ' from field ' + fieldname)\n    var fileStream = fs.createWriteStream(path.join('/tmp', filename))\n    pump(file, fileStream)\n  }\n}).listen(8080)\n```\n\n## API\n### readableStream = multipart(headers, [options], fileHandler)\nCreate a new multipart stream handler. Takes the following arguments:\n- __headers:__ an object containing request headers (typically: `req.headers`)\n- __options:__ an object that is passed directly to [pez][pez]\n- __filehandler(fieldname, file, filename, encoding, mimetype):__ handle a\n  file. Each `file` is a `readableStream`\n\n### Events\nmultipart-read-stream returns an instance (from `pez.Dispenser`) which\nemits a number of multipart specific events:\n\n#### readableStream.on('part', cb(stream))\nThe `part` event drives the `fileHandler` callback for the main API.\nThe difference is it supplies a single parameter, the read stream of the\nfile data of a multipart section.\n\n#### readableStream.on('field', cb(name, value))\nA field event is emitted for partitions containing key-value data\n(instead of file data).\n\n#### readableStream.on('preamble', cb(str))\nMultipart data *may* have a preamble section, which is typically\nignored by parsers. However it's sometimes used as an area to\ncontain hints/meta information.\n\n#### readableStream.on('epilogue', cb(str))\nAs with the preamble section, the epilogue section essentially\nhas the same role (ignored, but can be used for meta data), except\nit will be parsed after the body rather than before.\n\n## Installation\n```sh\n$ npm install --save multipart-read-stream\n```\n\n## License\n[MIT](https://tldrlegal.com/license/mit-license)\n\n[0]: https://img.shields.io/badge/stability-experimental-orange.svg?style=flat-square\n[1]: https://nodejs.org/api/documentation.html#documentation_stability_index\n[2]: https://img.shields.io/npm/v/multipart-read-stream.svg?style=flat-square\n[3]: https://npmjs.org/package/multipart-read-stream\n[4]: https://img.shields.io/travis/yoshuawuyts/multipart-read-stream/master.svg?style=flat-square\n[5]: https://travis-ci.org/yoshuawuyts/multipart-read-stream\n[6]: https://img.shields.io/codecov/c/github/yoshuawuyts/multipart-read-stream/master.svg?style=flat-square\n[7]: https://codecov.io/github/yoshuawuyts/multipart-read-stream\n[8]: http://img.shields.io/npm/dm/multipart-read-stream.svg?style=flat-square\n[9]: https://npmjs.org/package/multipart-read-stream\n[10]: https://img.shields.io/badge/code%20style-standard-brightgreen.svg?style=flat-square\n[11]: https://github.com/feross/standard\n[pez]: https://github.com/hapijs/pez\n","created":"2016-10-20T14:17:08.737Z","modified":"2017-06-05T21:44:26.903Z","lastPublisher":{"name":"davidmarkclements","email":"huperekchuno@googlemail.com"},"owners":[{"name":"davidmarkclements","email":"huperekchuno@googlemail.com"},{"name":"yoshuawuyts","email":"i@yoshuawuyts.com"}],"other":{"_attachments":{},"_from":".","_id":"multipart-read-stream","_nodeVersion":"6.10.3","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/multipart-read-stream-3.0.1.tgz_1496699065776_0.5881451305467635"},"_npmUser":{"name":"davidmarkclements","email":"huperekchuno@googlemail.com"},"_npmVersion":"3.10.10","_rev":"6-8ab05ceca8bd73880a17b147e1ab7284","_shasum":"3132b668d78957f9a43db8707da4312a4ce25fc7","bugs":{"url":"https://github.com/yoshuawuyts/multipart-read-stream/issues"},"directories":{},"dist-tags":{"latest":"3.0.1"},"dist":{"shasum":"3132b668d78957f9a43db8707da4312a4ce25fc7","tarball":"https://registry.npmjs.org/multipart-read-stream/-/multipart-read-stream-3.0.1.tgz"},"maintainers":[{"name":"davidmarkclements","email":"huperekchuno@googlemail.com"},{"name":"yoshuawuyts","email":"i@yoshuawuyts.com"}],"readmeFilename":"README.md","time":{"modified":"2017-06-05T21:44:26.903Z","created":"2016-10-20T14:17:08.737Z","1.0.0":"2016-10-20T14:17:08.737Z","1.0.1":"2016-10-31T23:27:02.238Z","2.0.0":"2016-12-20T10:57:39.350Z","3.0.0":"2017-02-16T14:44:04.959Z","3.0.1":"2017-06-05T21:44:26.903Z"}}}