{"name":"homebridge-minimal-http-blinds","description":"Minimalistic HTTP blinds management *that supports percentages* for diy-ish projects.","version":"0.0.15","repository":"https://github.com/Nicnl/homebridge-minimal-http-blinds","license":"ISC","keywords":["homebridge-plugin"],"engines":{"node":">=0.12.0","homebridge":">=0.2.5"},"dependencies":{"request":"^2.81.0"},"gitHead":"848c0c67001a7f48916d5d17c26a8a806dc749c0","homepage":"https://github.com/Nicnl/homebridge-minimal-http-blinds#readme","scripts":{},"versions":[{"number":"0.0.1","date":"2017-05-24T23:38:42.366Z"},{"number":"0.0.2","date":"2017-05-24T23:58:40.855Z"},{"number":"0.0.3","date":"2017-06-24T11:04:14.558Z"},{"number":"0.0.4","date":"2017-06-24T11:11:00.385Z"},{"number":"0.0.5","date":"2017-06-24T11:25:08.021Z"},{"number":"0.0.6","date":"2017-06-24T14:41:01.449Z"},{"number":"0.0.7","date":"2017-06-24T14:47:28.567Z"},{"number":"0.0.8","date":"2017-06-24T14:56:41.482Z"},{"number":"0.0.9","date":"2017-06-24T14:57:47.383Z"},{"number":"0.0.10","date":"2017-06-24T15:04:29.313Z"},{"number":"0.0.11","date":"2017-06-24T15:13:46.052Z"},{"number":"0.0.12","date":"2017-06-24T15:19:57.925Z"},{"number":"0.0.13","date":"2017-06-24T15:30:07.719Z"},{"number":"0.0.14","date":"2017-06-24T15:33:53.077Z"},{"number":"0.0.15","date":"2017-06-24T15:42:07.907Z"}],"readme":"# homebridge-minimal-http-blinds\n\n### What is it?\n\n**homebridge-minimal-http-blinds** is a minimalistic HTTP blinds or roller shutters management plugin for homebridge.\n\nThe features:\n- You can control your own blinds/roller shutters apparatus with three minimalistic HTTP requests.\n- The control is not a simple binary open/close: **it support percentages**. You can open your blinds at 50% or 65% for instance.\n- Your blinds can still be manually operated. As long at the `get_current_position_url` returns the right value, this plugin will update iOS Home app in real time.\n\n### Who is it for?\n\nAnyone who, just like me, don't know much about homebridge\nbut still want a straightforward way to communicate with your own home-made Raspberry Pi blinds/roller shutters controller.\n\n### How to use it\n\n#### 1] Install it into your homebridge instance\n\nThe installation instructions differs depending on how you installed homebridge.\n\nUsually, it's something like _\"add this to your homebridge's `install.sh`\"_\n````bash\nnpm install -g homebridge-minimal-http-blinds\n````\n\n#### 2] Minimal configuration\n\nHere is an homebridge's `config.json` with the minimal valid configuration:\n\n````json\n{\n    \"bridge\": {\n        \"name\": \"DemoMinimalisticHttpBlinds\",\n        \"username\": \"AA:BB:CC:DD:EE:FF\",\n        \"port\": 51826,\n        \"pin\": \"123-45-678\"\n    },\n  \n    \"description\": \"DEV NODEJS MACBOOK\",\n  \n    \"accessories\": [\n        {\n            \"name\": \"Kitchen Blinds\",\n            \"accessory\": \"MinimalisticHttpBlinds\",\n  \n            \"get_current_position_url\": \"http://192.168.1.55/get/current_position/\",\n            \"set_target_position_url\": \"http://192.168.1.55/set/%position%\",\n            \"get_current_state_url\": \"http://192.168.1.55/get/current_state/\"\n        }\n  \n    ],\n  \n    \"platforms\": []\n}\n````\n\nBeware, I'm a lazy ass!  \nThese three parameters are not checked!  \n(`get_current_position_url`, `set_target_position_url`, `get_current_state_url`)  \nIf you forgot to write them in your accessory, the module will crash.\n\nAlso, in the `set_target_position_url` parameter, the placeholder `%position%` will be replaced by the value selected in the iPhone's Home App. \n\n#### 3] More configuration\n\nThere are more configuration options.  \nThe names are self-descriptive.  \nHere are them all with their default values.\n\n````\n{\n    \"get_current_position_method\": \"GET\",\n    \"set_target_position_method\": \"POST\",\n    \"get_current_state_method\": \"GET\",\n    \n    \"get_current_position_expected_response_code\": \"200\",\n    \"set_target_position_expected_response_code\": \"204\",\n    \"get_current_state_expected_response_code\": \"200\",\n    \n    \"get_current_position_polling_millis\": \"500\",\n    \"get_current_state_polling_millis\": \"500\"\n}\n````\n\n#### 4] Protocol requirements\n\nThe three URLs specified in the accessory configuration must have the following data formats:\n\n##### 4.1] `get_current_position_url`\n\nThis URL must return the current blinds position **in plaintext**, from 0 to 100.  \n(0 being closed and 100 opened)\n\n##### 4.2] `set_target_position_url`\n\nThis URL must trigger the blinds movement.  \n(That's the part you've done with your Raspberry Pi)  \nThe requested opening position is, once again, an integer from 0 to 100.\nPlease note that is passed **directly in the URL**. (It's the `%position%` placeholder)  \n\nYep, that's it.  \nNot a single trace of json.  \nAre we barbarians or are we not?    \n\n\n##### 4.3] `get_current_state_url`\n\nThis is the trickiest URL.  \nIt must return one of these three integers **in plaintext**:\n- 0 if the blinds are closing\n- 1 if the blinds are opening\n- 2 if the blinds are idling\n\nOnce again, that's your part of the job, the one you're supposed to implement in your blind manager thingymagic.\n\n________________________________________\n\n# That's all\n\n## Enjoy\n","created":"2017-05-24T23:38:42.366Z","modified":"2017-06-24T15:42:07.907Z","lastPublisher":{"name":"nicnl","email":"nicnl25@gmail.com"},"owners":[{"name":"nicnl","email":"nicnl25@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"homebridge-minimal-http-blinds","_nodeVersion":"6.10.1","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/homebridge-minimal-http-blinds-0.0.15.tgz_1498318926824_0.585285768378526"},"_npmUser":{"name":"nicnl","email":"nicnl25@gmail.com"},"_npmVersion":"3.10.10","_rev":"15-9afdee3418b3526c9d8a7245ffabee5a","_shasum":"4dbd65d56380ae565a3cbdfad43b3ae902d55faa","bugs":{"url":"https://github.com/Nicnl/homebridge-minimal-http-blinds/issues"},"directories":{},"dist-tags":{"latest":"0.0.15"},"dist":{"shasum":"4dbd65d56380ae565a3cbdfad43b3ae902d55faa","tarball":"https://registry.npmjs.org/homebridge-minimal-http-blinds/-/homebridge-minimal-http-blinds-0.0.15.tgz"},"maintainers":[{"name":"nicnl","email":"nicnl25@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-06-24T15:42:07.907Z","created":"2017-05-24T23:38:42.366Z","0.0.1":"2017-05-24T23:38:42.366Z","0.0.2":"2017-05-24T23:58:40.855Z","0.0.3":"2017-06-24T11:04:14.558Z","0.0.4":"2017-06-24T11:11:00.385Z","0.0.5":"2017-06-24T11:25:08.021Z","0.0.6":"2017-06-24T14:41:01.449Z","0.0.7":"2017-06-24T14:47:28.567Z","0.0.8":"2017-06-24T14:56:41.482Z","0.0.9":"2017-06-24T14:57:47.383Z","0.0.10":"2017-06-24T15:04:29.313Z","0.0.11":"2017-06-24T15:13:46.052Z","0.0.12":"2017-06-24T15:19:57.925Z","0.0.13":"2017-06-24T15:30:07.719Z","0.0.14":"2017-06-24T15:33:53.077Z","0.0.15":"2017-06-24T15:42:07.907Z"}}}