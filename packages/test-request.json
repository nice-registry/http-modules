{"name":"test-request","version":"1.0.0","description":"Helper to test HTTP requests","main":"index.js","license":"MIT","gitHead":"ca72450e26103a3058460239586f181c47825a15","scripts":{},"versions":[{"number":"1.0.0","date":"2015-09-23T23:01:26.577Z"}],"readme":"# test-request\n\nHelper to test HTTP requests.\n\n## Why?\n\nI found myself writing a lot of boilerplate when testing interactions with HTTP servers. `test-request` is that boilerplate extracted into a module so I can easily use it in my projects.\n\n## What?\n\n`test-request` provides boilerplate to register `req.on('response')` callback and automatically closes the servers being tested when response 'end' event is triggered.\n\n## Usage\n\nExamples below use [nodeunit](https://github.com/caolan/nodeunit) test framework convention, but `nodeunit` is not a dependency.\n\nSingle server being tested:\n\n```javascript\nvar http = require('http');\nvar testRequest = require('test-request');\n\nvar tests = module.exports = {};\n\n// using nodeunit here\ntests[\"single server usage\"] = function(test)\n{\n    var server = http.createServer(SERVER_OPTIONS);\n    /* server setup and .listen() code */\n    var req = http.request(REQUEST_OPTIONS);\n    testRequest(test.done, server, req, function(res)\n    {\n        test.equal(res.statusCode, 200, 'expected 200 status code');\n    });\n    req.end();\n}\n```\n\nMultiple servers being tested:\n\n```javascript\nvar http = require('http');\nvar testRequest = require('test-request');\n\nvar tests = module.exports = {};\n\ntests[\"multiple server usage\"] = function(test)\n{\n    var proxy = http.createServer(PROXY_OPTIONS);\n    var server = http.createServer(SERVER_OPTIONS);\n    /* proxy and server setup and .listen() code */\n    var req = http.request(REQUEST_OPTIONS);\n    testRequest(test.done, [server, proxy], req, function(res)\n    {\n        test.equal(res.statusCode, 200, 'expected 200 status code');\n    });\n    req.end();\n}\n```\n","created":"2015-09-23T23:01:26.577Z","modified":"2015-09-23T23:01:26.577Z","lastPublisher":{"name":"tristanls","email":"tristan.slominski@gmail.com"},"owners":[{"name":"tristanls","email":"tristan.slominski@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"test-request","_nodeVersion":"4.1.0","_npmUser":{"name":"tristanls","email":"tristan.slominski@gmail.com"},"_npmVersion":"2.14.3","_rev":"1-e5a99f52b6893fa5e6cebf1b6b8c2195","_shasum":"cd6dec304ab9f354ac67ba5cec6d7a5d2f7ce625","contributors":[{"name":"Tristan Slominski","email":"tristan.slominski@gmail.com"}],"directories":{},"dist-tags":{"latest":"1.0.0"},"dist":{"shasum":"cd6dec304ab9f354ac67ba5cec6d7a5d2f7ce625","tarball":"http://registry.npmjs.org/test-request/-/test-request-1.0.0.tgz"},"maintainers":[{"name":"tristanls","email":"tristan.slominski@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-09-23T23:01:26.577Z","created":"2015-09-23T23:01:26.577Z","1.0.0":"2015-09-23T23:01:26.577Z"}}}