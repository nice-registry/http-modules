{"name":"jdf-http-upload","version":"0.1.2","description":"jdf http upload server side","main":"server.js","scripts":{"start":"node server.js","release":"npm version patch && npm publish && git push --follow-tags"},"homepage":"https://github.com/jdf2e/httpupload","repository":"https://github.com/jdf2e/httpupload","engines":{"node":">= 4.4.0"},"license":"MIT","dependencies":{"busboy":"^0.2.13","fs-extra":"^1.0.0"},"gitHead":"8095155e1d053f2d5fb8e334cf33243f686119fb","versions":[{"number":"0.1.0","date":"2016-11-14T07:23:36.547Z"},{"number":"0.1.1","date":"2016-12-14T03:14:27.088Z"},{"number":"0.1.2","date":"2016-12-14T03:27:33.961Z"}],"readme":"# httpupload\n\njdf http方式上传代码的服务器接收端\n\n# 部署和使用\n\n先clone代码，然后到目录下`npm i`安装依赖，用pm2或者nodemon启动。\npm2下先关闭当前的实例\n```\n$ pm2 delete instance-name\n$ kill -9 pm2-pid\n```\n修改pm2的启动用户方式\n```\n$ vi  /etc/init.d/pm2-init.sh\n```\n修改 USER=xxxx 和 export PM2_HOME=\"/var/www/html/.pm2\"为你自己的配置，切换到有权限的用户\n```\n$ su xxxx \n```\n启动 pm2，如果需要修改路径和监听端口的话，到server.js里面去修改，可以配合nginx做反向代理\n```\n$ pm2 startup centos\n$ pm2 start server.js\n```\n\n一定要注意启动选择的用户，要想和ftp sftp方式无缝切换的话，要配置上传目录的权限，不要使用nologin用户，最好是所有用户都在一个分组中，然后上传路径直接chmod 777。\n\n客户端上传时可以直接\n```\n$ jdf output        // 默认上传方式为 http\n$ jdf output -t ftp // 指定上传方式为ftp\n$ jdf output -t scp // 指定上传方式为scp\n```\n","created":"2016-11-14T07:23:36.547Z","modified":"2017-01-03T07:08:10.900Z","lastPublisher":{"name":"catalsdevelop","email":"catalsdevelop@gmail.com"},"owners":[{"name":"catalsdevelop","email":"catalsdevelop@gmail.com"},{"name":"chenxiaochun","email":"sjzchenxiaochun@126.com"}],"other":{"_attachments":{},"_from":".","_id":"jdf-http-upload","_nodeVersion":"4.4.4","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/jdf-http-upload-0.1.2.tgz_1481686053341_0.881937098223716"},"_npmUser":{"name":"catalsdevelop","email":"catalsdevelop@gmail.com"},"_npmVersion":"2.15.1","_rev":"4-cca5c1f934a8508e25f90c9e728d9ba2","_shasum":"140042fdae0bff7512f29a0cf92c499adfde9b72","author":{"name":"catalsdevelop@gmail.com"},"bugs":{"url":"https://github.com/jdf2e/httpupload/issues"},"directories":{},"dist-tags":{"latest":"0.1.2"},"dist":{"shasum":"140042fdae0bff7512f29a0cf92c499adfde9b72","tarball":"http://registry.npmjs.org/jdf-http-upload/-/jdf-http-upload-0.1.2.tgz"},"maintainers":[{"name":"catalsdevelop","email":"catalsdevelop@gmail.com"},{"name":"chenxiaochun","email":"sjzchenxiaochun@126.com"}],"readmeFilename":"README.md","time":{"modified":"2017-01-03T07:08:10.900Z","created":"2016-11-14T07:23:36.547Z","0.1.0":"2016-11-14T07:23:36.547Z","0.1.1":"2016-12-14T03:14:27.088Z","0.1.2":"2016-12-14T03:27:33.961Z"}}}