{"name":"loadbalance-client","version":"0.0.17","description":"An http client by request with loadbalance.","main":"build/LoadBalanceClient.js","scripts":{"build":"babel src -d build","test":"NODE_ENV=development nyc ava ./test","report":"nyc report --reporter=html"},"ava":{"require":["babel-register"]},"repository":"https://github.com/miaowing/loadbalance-client","keywords":["loadbalance","http-client"],"license":"MIT","homepage":"https://github.com/miaowing/loadbalance-client#readme","dependencies":{"blueimp-md5":"^2.7.0","loadbalance":"git+https://github.com/node-cloud/node-loadbalance.git","lodash":"^4.17.4","request":"^2.81.0","request-promise":"^4.2.0","uri-params":"^0.1.2"},"devDependencies":{"ava":"^0.19.1","babel-cli":"^6.24.1","babel-plugin-add-module-exports":"^0.2.1","babel-preset-env":"^1.4.0","consul":"^0.28.0","nyc":"^10.2.0"},"gitHead":"15b2ab5bbe6900cdc368ad558577259ff0d69197","versions":[{"number":"0.0.1","date":"2017-04-24T06:09:19.404Z"},{"number":"0.0.2","date":"2017-04-24T06:11:59.727Z"},{"number":"0.0.3","date":"2017-04-24T06:25:44.616Z"},{"number":"0.0.4","date":"2017-04-24T07:38:52.345Z"},{"number":"0.0.5","date":"2017-04-25T04:44:57.121Z"},{"number":"0.0.6","date":"2017-04-25T04:54:21.766Z"},{"number":"0.0.7","date":"2017-04-26T07:19:29.727Z"},{"number":"0.0.8","date":"2017-04-26T07:51:21.700Z"},{"number":"0.0.9","date":"2017-04-26T08:13:37.418Z"},{"number":"0.0.10","date":"2017-04-26T09:12:30.801Z"},{"number":"0.0.11","date":"2017-04-26T09:25:58.654Z"},{"number":"0.0.12","date":"2017-04-27T06:57:56.904Z"},{"number":"0.0.13","date":"2017-04-27T07:05:56.236Z"},{"number":"0.0.14","date":"2017-04-28T08:07:09.198Z"},{"number":"0.0.15","date":"2017-04-28T08:16:00.523Z"},{"number":"0.0.16","date":"2017-04-28T08:19:24.202Z"},{"number":"0.0.17","date":"2017-05-02T11:15:22.480Z"}],"readme":"# loadbalance-client\n\n## Usage\n``` javascript\nimport LoadBalanceClient from 'loadbalance-client';\nimport Consul from 'consul';\n\nconst SERVICE_NAME = 'a-service';\n\nconst consul = new Consul(/* ignore */);\nconst lbClient = new LoadBalanceClient(SERVICE_NAME, consul);\n\nexport function getResource(id) {\n    return lbClient.get({\n        url: `/${SERVICE_NAME}/v1/resources/:id`,\n        params: {id: id},\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n}\n```\n\n## API\n\n### new LoadBalanceClient(serviceName, consul, options)\n\n#### serviceName\n\nThe service name.\n\n#### consul\n\nThe consul client instance. you can see [node-consul](https://github.com/node-cloud/node-consul) for detail.\n\n#### options\n\n* strategy: Default is random. Others are 'round_robin_engine', 'priority_engine'.\n* request: You can see [request](https://github.com/request/request) for detail.\n* Other options you can see [node-consul](https://github.com/node-cloud/node-consul) for detail.\n\n### lbClient.get(options)\n### lbClient.post(options)\n### lbClient.delete(options)\n### lbClient.put(options)\n### lbClient.send(options)\n\nIf you use send function, you must specific the options.method param. \nYou can see [request](https://github.com/request/request) for detail.\nThis options have a higher priority than global options.\n\n## Event\nsupport events:\n\n* refreshing-services\n\n\nlbClient.on(eventName, callback);\n\nlbClient.off(eventName, callback);\n","created":"2017-04-24T06:09:19.404Z","modified":"2017-05-02T11:15:22.480Z","lastPublisher":{"name":"zfeng","email":"i@zfeng.net"},"owners":[{"name":"zfeng","email":"i@zfeng.net"}],"other":{"_attachments":{},"_from":".","_id":"loadbalance-client","_nodeVersion":"7.8.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/loadbalance-client-0.0.17.tgz_1493723720670_0.8502284297719598"},"_npmUser":{"name":"zfeng","email":"i@zfeng.net"},"_npmVersion":"4.2.0","_rev":"16-171b11bd69f6797d544f20769ee9f4c1","_shasum":"f84e5312380825f12a4b2c8ae6994a00859aeadd","author":{"name":"miaowing","email":"i@zfeng.net"},"bugs":{"url":"https://github.com/miaowing/loadbalance-client/issues"},"directories":{},"dist-tags":{"latest":"0.0.17"},"dist":{"shasum":"f84e5312380825f12a4b2c8ae6994a00859aeadd","tarball":"https://registry.npmjs.org/loadbalance-client/-/loadbalance-client-0.0.17.tgz"},"maintainers":[{"name":"zfeng","email":"i@zfeng.net"}],"readmeFilename":"README.md","time":{"modified":"2017-05-02T11:15:22.480Z","created":"2017-04-24T06:09:19.404Z","0.0.1":"2017-04-24T06:09:19.404Z","0.0.2":"2017-04-24T06:11:59.727Z","0.0.3":"2017-04-24T06:25:44.616Z","0.0.4":"2017-04-24T07:38:52.345Z","0.0.5":"2017-04-25T04:44:57.121Z","0.0.6":"2017-04-25T04:54:21.766Z","0.0.7":"2017-04-26T07:19:29.727Z","0.0.8":"2017-04-26T07:51:21.700Z","0.0.9":"2017-04-26T08:13:37.418Z","0.0.10":"2017-04-26T09:12:30.801Z","0.0.11":"2017-04-26T09:25:58.654Z","0.0.12":"2017-04-27T06:57:56.904Z","0.0.13":"2017-04-27T07:05:56.236Z","0.0.14":"2017-04-28T08:07:09.198Z","0.0.15":"2017-04-28T08:16:00.523Z","0.0.16":"2017-04-28T08:19:24.202Z","0.0.17":"2017-05-02T11:15:22.480Z"}}}