{"name":"mimosa-server-reload","version":"1.1.0","homepage":"https://github.com/dbashford/mimosa-server-reload","description":"A Mimosa module for restarting node http servers being used with Mimosa's watch command.","repository":"https://github.com/dbashford/mimosa-server-reload","keywords":["mimosa","mmodule","reload","server","express"],"dependencies":{"chokidar":"1.0.1"},"license":"MIT","engines":{"node":">=0.8"},"main":"./lib/index","scripts":{"prepublish":"mimosa build"},"gitHead":"9ceba3c085054f1906a03ff11a51e2c25f132b10","versions":[{"number":"0.1.0","date":"2012-11-22T04:25:23.284Z"},{"number":"0.2.0","date":"2012-12-02T14:12:07.204Z"},{"number":"0.3.0","date":"2012-12-07T22:25:39.067Z"},{"number":"0.3.1","date":"2013-01-04T16:19:34.663Z"},{"number":"0.4.0","date":"2013-01-10T14:27:05.196Z"},{"number":"0.4.1","date":"2013-01-12T02:49:45.911Z"},{"number":"0.4.2","date":"2013-02-01T04:03:41.858Z"},{"number":"0.5.0","date":"2013-02-23T21:25:08.696Z"},{"number":"0.5.1","date":"2013-03-15T00:46:16.746Z"},{"number":"0.6.0","date":"2013-05-08T15:04:15.804Z"},{"number":"0.7.0","date":"2013-06-20T12:04:42.759Z"},{"number":"0.7.1","date":"2013-12-29T21:24:30.513Z"},{"number":"0.8.0","date":"2014-02-13T02:22:06.840Z"},{"number":"0.8.1","date":"2014-03-01T18:45:06.449Z"},{"number":"0.8.2","date":"2014-05-08T14:22:40.338Z"},{"number":"0.9.0","date":"2014-06-23T19:11:33.391Z"},{"number":"1.0.0","date":"2014-08-30T01:16:30.576Z"},{"number":"1.1.0","date":"2015-04-20T12:18:50.277Z"}],"readme":"mimosa-server-reload\n===========\n\n## Overview\n\nThis is a Mimosa module for restarting a node server when server-bound assets (like routes, general lib files) change.\n\nFor more information regarding Mimosa, see http://mimosajs.com\n\nNote: Version `0.7.0` requires mimosa `0.13.3` or above.\n\n## Usage\n\nInstall `'mimosa-server-reload'` using the `mimosa mod:install mimosa-server-reload` command.  The `mimosa-server` module is a prereq.\n\n## Functionality\n\nThe `mimosa-server-reload` module will point itself at a list of configurable files/folders and when the contents (recursive) of those change, it will work with both the `mimosa-server` and `mimosa-live-reload` modules to restart the user's server.\n\nIf you are using `mimosa-server-reload`, as part of restarting your server, this module shuts down the web socket connections that enable live reload so that the server can be closed.  It restarts the server-side of the web socket connection, but does not reconnect with the client.  So after the server is restarted, you need to refresh the browser to reconnect live reload.\n\nSome prerequisites for this module are:\n\n* Must be installed inside Mimosa, where `mimosa-server` is located\n* You must be using `mimosa-server`\n* You must start Mimosa using the `--server` or `-s` flag\n* You must not being using Mimosa's hosted server.  Your `server.defaultServer.enabled` value should be set to false.\n\n`mimosa-live-reload` is not a prereq, but this module will work with that one if it is present to shut down socket connections.\n\n### Pre-restart Hook\n\nAs of version `2.2.14` of Mimosa and `0.9.0` of this module, if your server file (same location as `startServer` function) has a `preMimosaRestart` function that has been exported, mimosa-server-restart will call it before it restarts your server.  This gives you an opportunity to clean up any resources like connections to databases, etc.\n\n`preMimosaRestart` will be passed a callback.  When everything that needs cleaning up is finished, execute the callback.  This module will then execute the restart.\n\n```javascript\nexports.preMimosaRestart = function (callback) {\n  // Clean stuff up here\n  callback();\n}\n```\n\n## Default Config\n\n```\nserverReload:\n  watch:[\"server.coffee\", \"server.js\", \"server.ls\", \"server.iced\", \"routes\", \"src\", \"lib\"]\n  exclude:[]\n  validate:true\n```\n\n* `watch`: an array of strings, folders and files whose contents will trigger a server restart when changed.  By default all the possible server names generated by `mimosa new` are included as well as the routes folder, which is also delivered by `mimosa new`. Also considered defaults are typical source colde libraries: `src` and `lib`.  Paths can be relative to the root of your project or absolute.\n* `exclude`: an array of strings and/or regexs, the list of files and file patterns to exclude from restarting the server. Can be a mix of regexes and strings.  ex: `ex: [/\\.txt$/, \"vendor/jqueryui.js\"]`. Can be left off or made null if not needed. Can be relative to the root of your project or absolute.\n* `validate`: a boolean, whether or not to validate changed files. When true, the default, `mimosa-server-reload` will `require()` the changed file.  If the require fails, because it is invalid CoffeeScript/JavaScript for instance, Mimosa will not attempt to restart the server since the restart will likely fail. `validate: true` will cause problems if you point `watch` at non JavaScript files, for instance, server views.  If you include your `views` folder in `watch`, you will want to turn `validate` off.","created":"2012-11-22T04:25:22.461Z","modified":"2015-04-20T12:18:50.277Z","lastPublisher":{"name":"dbashford","email":"dbashford@hotmail.com"},"owners":[{"name":"dbashford","email":"dbashford@hotmail.com"}],"other":{"_attachments":{},"_from":".","_id":"mimosa-server-reload","_nodeVersion":"0.10.33","_npmUser":{"name":"dbashford","email":"dbashford@hotmail.com"},"_npmVersion":"2.7.3","_rev":"1-5191bb8364e42484e474b92db27d7914","_shasum":"391340a1b09d83754c5a211d20dba4fa4dda51c0","author":{"name":"David Bashford"},"bugs":{"url":"https://github.com/dbashford/mimosa-server-reload/issues"},"contributors":[{"name":"David Bashford","email":"dbashford@hotmail.com"}],"directories":{},"dist-tags":{"latest":"1.1.0"},"dist":{"shasum":"391340a1b09d83754c5a211d20dba4fa4dda51c0","tarball":"http://registry.npmjs.org/mimosa-server-reload/-/mimosa-server-reload-1.1.0.tgz"},"maintainers":[{"name":"dbashford","email":"dbashford@hotmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-04-20T12:18:50.277Z","created":"2012-11-22T04:25:22.461Z","0.1.0":"2012-11-22T04:25:23.284Z","0.2.0":"2012-12-02T14:12:07.204Z","0.3.0":"2012-12-07T22:25:39.067Z","0.3.1":"2013-01-04T16:19:34.663Z","0.4.0":"2013-01-10T14:27:05.196Z","0.4.1":"2013-01-12T02:49:45.911Z","0.4.2":"2013-02-01T04:03:41.858Z","0.5.0":"2013-02-23T21:25:08.696Z","0.5.1":"2013-03-15T00:46:16.746Z","0.6.0":"2013-05-08T15:04:15.804Z","0.7.0":"2013-06-20T12:04:42.759Z","0.7.1":"2013-12-29T21:24:30.513Z","0.8.0":"2014-02-13T02:22:06.840Z","0.8.1":"2014-03-01T18:45:06.449Z","0.8.2":"2014-05-08T14:22:40.338Z","0.9.0":"2014-06-23T19:11:33.391Z","1.0.0":"2014-08-30T01:16:30.576Z","1.1.0":"2015-04-20T12:18:50.277Z"}}}