{"name":"httpbackendext","version":"1.2.3","description":"Module for mock http request (http backend) with protractor for testing angular app","main":"lib/httpbackend.js","repository":"https://github.com/Gamereclaim/httpbackend","scripts":{"test":"grunt test"},"license":"MIT","dependencies":{"protractor":"~0.23.1","lodash":"~2.4.1","grunt-mocha-test":"~0.10.2","mocha":"~1.19.0","grunt-contrib-connect":"~0.7.1"},"devDependencies":{"mocha":"~1.19.0","chai":"~1.9.1","grunt-mocha-test":"~0.10.2","grunt":"~0.4.5","grunt-protractor-webdriver":"~0.1.8","grunt-protractor-runner":"~1.0.0","grunt-contrib-connect":"~0.7.1"},"gitHead":"1d548c0719abdfdb7fd35c76a616bd19a777cb17","homepage":"https://github.com/Gamereclaim/httpbackend","versions":[{"number":"1.2.1","date":"2015-07-27T12:19:15.680Z"},{"number":"1.2.2","date":"2015-07-27T14:49:16.554Z"},{"number":"1.2.3","date":"2015-07-27T14:56:16.587Z"}],"readme":"# Http Backend Ext\r\n\r\n[![Build Status](https://travis-ci.org/Gamereclaim/httpbackendext.svg?branch=master)](https://travis-ci.org/Gamereclaim/httpbackendext)\r\n\r\nHttp backend mock module for protractor\r\n\r\n## Installation\r\n\r\n```shell\r\nnpm install httpbackendext\r\n```\r\n\r\ninclude angular mock script\r\nhttps://github.com/angular/bower-angular-mocks\r\n\r\n## Usage\r\n\r\n```\r\njavascript\r\nvar HttpBackend = require('httpbackend');\r\nvar backend = null;\r\n\r\ndescribe('Test Http backend methods', function() {\r\n\r\n    beforeEach(function() {\r\n        backend = new HttpBackend(browser);\r\n    });\r\n\r\n    afterEach(function() {\r\n        backend.verifyNoOutstandingExpectation();\r\n        backend.clear();\r\n    });\r\n\r\n    it('Test when (POST) with function as response', function() {\r\n        backend.when('POST', /result/).respond(function(method, url, data) {\r\n            return [200, 'abuga'];\r\n        });\r\n\r\n        browser.get('/');\r\n\r\n        element(by.css('#buttonPOST')).click();\r\n\r\n        var result = element(by.binding('result'));\r\n        expect(result.getText()).toEqual('abuga');\r\n    });\r\n\r\n    it('Test expect function', function() {\r\n        backend.expect('POST', /result/);\r\n        browser.get('/');\r\n        element(by.css('#buttonPOST')).click();\r\n    });\r\n\r\n    it('Test expectGET function', function() {\r\n        backend.expectGET(/result/);\r\n        browser.get('/');\r\n        element(by.css('#buttonGET')).click();\r\n    });\r\n\r\n    it('Test expectPOST function', function() {\r\n        backend.expectPOST(/result/);\r\n        browser.get('/');\r\n        element(by.css('#buttonPOST')).click();\r\n    });\r\n\r\n    it('Test expectPOST and expectGET functions', function() {\r\n        backend.expectPOST(/result/);\r\n        backend.expectGET(/result/);\r\n        browser.get('/');\r\n        element(by.css('#buttonPOST')).click();\r\n        element(by.css('#buttonGET')).click();\r\n    });\r\n\r\n    it('Test combined when and expect functions', function() {\r\n        backend.expectPOST(/result/);\r\n        backend.expectGET(/result/);\r\n        backend.whenPOST(/result/).respond('raoulPOST');\r\n        backend.whenGET(/result/).respond('raoulGET');\r\n        browser.get('/');\r\n\r\n        element(by.css('#buttonPOST')).click();\r\n        var result = element(by.binding('result'));\r\n        expect(result.getText()).toEqual('raoulPOST');\r\n\r\n        element(by.css('#buttonGET')).click();\r\n        result = element(by.binding('result'));\r\n        expect(result.getText()).toEqual('raoulGET');\r\n\r\n    });\r\n\r\n\tit('Test whenGET with string response', function() {\r\n\t\tbackend.whenGET(/result/).respond('raoul');\r\n\r\n\t\tbrowser.get('http://127.0.0.1:8080');\r\n\r\n\t\tvar result = element(by.binding('result'));\r\n\t\texpect(result.getText()).toEqual('raoul');\r\n  \t});\r\n\r\n  \tit('Test whenPOST with function as response', function() {\r\n        backend.whenPOST(/result/).respond(function(method, url, data) {\r\n            return [200, data];\r\n        });\r\n\r\n        browser.get('http://127.0.0.1:8080');\r\n\r\n        element(by.css('#buttonPOST')).click();\r\n\r\n        var result = element(by.binding('result'));\r\n        expect(result.getText()).toEqual('postedData');\r\n    });\r\n});\r\n\r\n```\r\n\r\n\r\n### Workflow\r\n\r\nHttpBackend workflow is quite simple:\r\n\r\n* On browser.get()` a mock module is injected to your angularjs application\r\n* On `when*`or when you call manually `backend.sync()`, fixtures is synchronised with your angularjs app.\r\n\r\n### Increase perfomance\r\n\r\nFor perfomance issue you can disable auto sync:\r\n\r\n```javascript\r\n    var backend = new HttpBackend(brower, {autoSync: false});\r\n\r\n    //Then you should manually call sync function\r\n    backend.whenGET(/results/).respond('raoul');\r\n    backend.whenGET(/responses/).respond('raoul');\r\n    backend.sync();\r\n\r\n```\r\n\r\n### Httpbackend Methods\r\n\r\n* `when GET, POST, HEAD, PUT, JSONP` add a fixtures, accept literal object, or a callback\r\n* `expect GET, POST, HEAD, PUT, JSONP` add expectation. verify expectations with backend.verifyNoOutstandingExpectation()\r\n* `sync`, manualy sync fixtures\r\n* `clear`, clear http backend module\r\n* `reset`, reset all fixture\r\n\r\n## Development and test\r\n\r\nInit project\r\n```shell\r\nbower install\r\nnpm install\r\n````\r\n\r\nLaunch test\r\n```shell\r\nnpm test\r\n````\r\n\r\n## Licence\r\n\r\nMIT\r\n","created":"2015-07-27T12:19:15.680Z","modified":"2015-07-27T14:56:16.587Z","lastPublisher":{"name":"gamereclaim","email":"buribalazs@gmail.com"},"owners":[{"name":"gamereclaim","email":"buribalazs@gmail.com"},{"name":"nchaulet","email":"n.chaulet@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"httpbackendext","_nodeVersion":"0.12.1","_npmUser":{"name":"gamereclaim","email":"buribalazs@gmail.com"},"_npmVersion":"2.5.1","_rev":"1-4c7befe2ef6ee92b3df0ca1bb8ecc2fd","_shasum":"49161eafd5bf27c1fe11c6b65430af0509458552","author":{"name":"nchaulet"},"bugs":{"url":"https://github.com/Gamereclaim/httpbackend/issues"},"directories":{},"dist-tags":{"latest":"1.2.3"},"dist":{"shasum":"49161eafd5bf27c1fe11c6b65430af0509458552","tarball":"http://registry.npmjs.org/httpbackendext/-/httpbackendext-1.2.3.tgz"},"maintainers":[{"name":"gamereclaim","email":"buribalazs@gmail.com"},{"name":"nchaulet","email":"n.chaulet@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-07-27T14:56:16.587Z","created":"2015-07-27T12:19:15.680Z","1.2.1":"2015-07-27T12:19:15.680Z","1.2.2":"2015-07-27T14:49:16.554Z","1.2.3":"2015-07-27T14:56:16.587Z"}}}