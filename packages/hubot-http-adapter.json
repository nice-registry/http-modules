{"name":"hubot-http-adapter","version":"1.0.1","main":"./index","devDependencies":{},"description":"README.md","dependencies":{"node-fetch":"^1.6.1","string":"1.3.0"},"repository":"https://github.com/bots-squad/hubot-http-adapter","keywords":["hubot","http","adapter","json"],"license":"MIT","gitHead":"4dff1e50d2f7beb1d014e037ea61ece204efe966","homepage":"https://github.com/bots-squad/hubot-http-adapter#readme","scripts":{},"versions":[{"number":"1.0.0","date":"2016-12-27T05:34:22.501Z"},{"number":"1.0.1","date":"2016-12-27T05:48:16.432Z"}],"readme":"# Hubot http adapter\n\nAn adapter (not a plugin) for [Hubot](https://github.com/github/hubot) to work via HTTP using Json as data format.\n\nUseful for headless chat.\n\n> inspiration: https://github.com/wichon/hubot-json-rest\n\n## Setup\n\nSet environment variable:\n\n- `HUBOT_POST_RESPONSES_URL` this is the url to send (`POST` method) Hubot responses.\n\n> you need a webapp \"listening\" on this url, eg:\n```javascript\n// This is an Express application\napp.post(`${process.env.HUBOT_POST_RESPONSES_URL}/:room`, (req, res) => {\n  console.log(req.body, req.params);\n  res.status(201).end();\n});\n```\n\nHubot response is sent in json format, with the following structure:\n\n```javascript\n{\n  from: 'bot name',\n  message: 'Hello üåç'\n}\n```\n\n## Send message to Hubot\n\nTypically messages to Hubot have three parameters: Message, User and Room:\n\n```javascript\n// post: /receive/:room\n{\n  from: 'user name',\n  message: 'Hello ü§ñ'\n}\n```\n\nYou can use `fetch` (https://www.npmjs.com/package/node-fetch):\n\n```javascript\n// POST message to the `general` room\nfetch(`${hubot_protocol}://${hubot_server_name}:${hubot_port}/receive/general`, {\n  method: 'POST',\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify({\n    from: \"@k33g_org\",\n    message: \"bob help me with java\"\n  })\n})\n```\n","created":"2016-12-27T05:34:22.501Z","modified":"2016-12-27T05:48:16.432Z","lastPublisher":{"name":"k33g","email":"ph.charriere@gmail.com"},"owners":[{"name":"k33g","email":"ph.charriere@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"hubot-http-adapter","_nodeVersion":"6.4.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/hubot-http-adapter-1.0.1.tgz_1482817694601_0.03209049208089709"},"_npmUser":{"name":"k33g","email":"ph.charriere@gmail.com"},"_npmVersion":"4.0.5","_rev":"2-e25bdfb6eab08cd183ec5f12e71116af","_shasum":"0cd98384623e4485e6745ac496fa3a10dc27097b","author":{"name":"@k33g_org"},"bugs":{"url":"https://github.com/bots-squad/hubot-http-adapter/issues"},"directories":{},"dist-tags":{"latest":"1.0.1"},"dist":{"shasum":"0cd98384623e4485e6745ac496fa3a10dc27097b","tarball":"http://registry.npmjs.org/hubot-http-adapter/-/hubot-http-adapter-1.0.1.tgz"},"maintainers":[{"name":"k33g","email":"ph.charriere@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-12-27T05:48:16.432Z","created":"2016-12-27T05:34:22.501Z","1.0.0":"2016-12-27T05:34:22.501Z","1.0.1":"2016-12-27T05:48:16.432Z"}}}