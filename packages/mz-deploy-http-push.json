{"name":"mz-deploy-http-push","version":"2.1.2","description":"基于 fis-deploy-http-push 插件修改：","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/mz-team/mz-deploy-http-push","keywords":["mz","fis"],"license":"MIT","homepage":"https://github.com/mz-team/mz-deploy-http-push#readme","gitHead":"573f4e83f5319c442c3c46686538b6a4f32a091c","versions":[{"number":"1.0.0","date":"2015-08-06T04:59:12.247Z"},{"number":"1.0.1","date":"2015-08-06T05:06:58.633Z"},{"number":"1.0.2","date":"2015-08-21T09:44:57.094Z"},{"number":"1.0.3","date":"2015-08-22T09:06:54.294Z"},{"number":"1.0.4","date":"2015-08-24T05:46:20.341Z"},{"number":"1.0.5","date":"2015-08-28T07:36:55.813Z"},{"number":"1.1.0","date":"2016-02-25T08:51:50.967Z"},{"number":"2.0.0","date":"2016-08-03T07:13:03.239Z"},{"number":"2.1.0","date":"2016-08-03T09:50:56.036Z"},{"number":"2.1.1","date":"2016-12-09T06:25:48.847Z"},{"number":"2.1.2","date":"2016-12-13T07:55:34.534Z"}],"readme":"# mz-deploy-http-push\n\n基于 fis-deploy-http-push 插件修改：\n\n* `to`、`receiver` 参数支持 function 传入\n* 增加 `params` 参数传递给后端 receiver 接口，同时可在 `to` function 中动态修改 params 配置\n* 增加 `toLocal` 参数，发布时写入编译后文件到指定目录，用来取代 local-deliver 插件，同时便于支持自动匹配发布模式\n* 增加 `publist` 参数，根据 pulist 指向的文本文件配置需要上传的文件列表，当该文件规则为空时，启用自动匹配发布模式\n\n## publist 文件内容示例\n\n```\n# 可以写注释（#号或;号开头），当规则为空时，则启用自动匹配发布模式，自动判断修改的文件列表并以注释形式回写至本配置文件，文件不存在时不回写\n/*\n/php-simulation-env/mock-data/**\n/plugin/compiler.placeholder.php\n```\n\n## 插件调用示例\n\n```javascript\n\nfis.media('prod')\n  .match('*', {\n    deploy: [\n        fis.plugin('http-push', {\n        receiver: 'http://www.example.com/receiver.php',\n        publist: '_publist.ini',\n        toLocal: __dirname + '/../dist',\n        //写入 local dist 的文件若符合以下 pattern 则重置为空文件\n        emptyFilePattern: '*.{png,jpg,gif,ttf,woff,eot,svg,mp3,mp4,webm,flv}',\n        params:{\n            username: 'kaiye'  \n        },\n        to: function(release, file, params){\n            if(fis.util.filter(release, '/static/**')){\n                params.domain = 'cdn.example.com';\n                return '/static';\n            }else{\n                params.domain = 'www.example.com';\n                return '/www';\n            }\n        }\n    })]\n  });\n  \n```","created":"2015-08-06T04:59:12.247Z","modified":"2016-12-13T07:55:34.534Z","lastPublisher":{"name":"kaiye","email":"catgecn@gmail.com"},"owners":[{"name":"kaiye","email":"catgecn@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"mz-deploy-http-push","_nodeVersion":"6.9.2","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/mz-deploy-http-push-2.1.2.tgz_1481615732813_0.29580940399318933"},"_npmUser":{"name":"kaiye","email":"catgecn@gmail.com"},"_npmVersion":"3.10.9","_rev":"3-918bd3e2f6e45873b468af9929ce9cce","_shasum":"6db673df2b85d9b4406e7b36eb7350adfea45c54","author":{"name":"kaiye"},"bugs":{"url":"https://github.com/mz-team/mz-deploy-http-push/issues"},"directories":{},"dist-tags":{"latest":"2.1.2"},"dist":{"shasum":"6db673df2b85d9b4406e7b36eb7350adfea45c54","tarball":"http://registry.npmjs.org/mz-deploy-http-push/-/mz-deploy-http-push-2.1.2.tgz"},"maintainers":[{"name":"kaiye","email":"catgecn@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-12-13T07:55:34.534Z","created":"2015-08-06T04:59:12.247Z","1.0.0":"2015-08-06T04:59:12.247Z","1.0.1":"2015-08-06T05:06:58.633Z","1.0.2":"2015-08-21T09:44:57.094Z","1.0.3":"2015-08-22T09:06:54.294Z","1.0.4":"2015-08-24T05:46:20.341Z","1.0.5":"2015-08-28T07:36:55.813Z","1.1.0":"2016-02-25T08:51:50.967Z","2.0.0":"2016-08-03T07:13:03.239Z","2.1.0":"2016-08-03T09:50:56.036Z","2.1.1":"2016-12-09T06:25:48.847Z","2.1.2":"2016-12-13T07:55:34.534Z"}}}