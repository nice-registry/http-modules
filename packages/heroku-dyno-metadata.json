{"name":"heroku-dyno-metadata","version":"1.2.0","description":"Expose Heroku Dyno metadata as HTTP headers","main":"dist/index.js","scripts":{"clean":"rimraf dist","lint":"eslint src test --cache","check":"npm run lint -s && dependency-check package.json --entry src","watch":"watch 'npm run build' src test","prebuild":"npm run check -s && npm run clean -s","build":"babel --optional runtime src -d dist","postbuild":"npm run test -s","test":"NODE_ENV=test ava","coverage":"nyc npm test && nyc report --reporter=html","coveralls":"npm run coverage -s && coveralls < coverage/lcov.info","postcoveralls":"rimraf ./coverage","prepublish":"npm run build -s","deploy":"git pull --rebase origin master && git push origin master","patch":"npm version patch && npm publish","minor":"npm version minor && npm publish","major":"npm version major && npm publish","postpublish":"git push origin master --follow-tags","toc":"doctoc --github --title \"# Changelog\" CHANGELOG.md"},"ava":{"failFast":false,"verbose":false,"require":["babel-core/register","./test/_fixtures.js"]},"repository":"https://github.com/gowento/heroku-dyno-metadata","license":"MIT","homepage":"https://github.com/gowento/heroku-dyno-metadata#readme","devDependencies":{"ava":"0.14.0","babel-cli":"6.8.0","babel-core":"6.8.0","babel-eslint":"6.0.4","babel-preset-es2015":"6.6.0","babel-register":"6.8.0","coveralls":"2.11.9","dependency-check":"2.5.1","doctoc":"1.0.0","eslint":"2.9.0","eslint-config-airbnb-base":"3.0.1","eslint-plugin-ava":"2.3.1","eslint-plugin-import":"1.8.0","eslint-plugin-lodash":"1.8.4","express":"4.13.4","nyc":"6.4.4","rimraf":"2.5.2","supertest":"1.2.0","supertest-as-promised":"3.1.0","watch":"0.18.0"},"dependencies":{"lodash":"4.12.0"},"gitHead":"abaf860b4a3578d307187478e76dd43a32e0c172","versions":[{"number":"1.0.0","date":"2016-04-08T09:26:36.861Z"},{"number":"1.0.1","date":"2016-04-08T09:48:29.388Z"},{"number":"1.1.0","date":"2016-04-10T17:35:57.669Z"},{"number":"1.1.1","date":"2016-04-11T08:32:41.594Z"},{"number":"1.2.0","date":"2016-05-12T12:31:32.926Z"}],"readme":"# heroku-dyno-metadata\n\n[![NPM version][npm-image]][npm-url]\n[![Build Status][travis-image]][travis-url]\n[![Coveralls Status][coveralls-image]][coveralls-url]\n[![Dependency Status][depstat-image]][depstat-url]\n[![Downloads][download-badge]][npm-url]\n\n> Access Heroku Dyno metadata in Node.js and expose them as HTTP headers.\n\n## Install\n\n```sh\nnpm i heroku-dyno-metadata\n```\n\n[Dyno Metadata](https://devcenter.heroku.com/articles/dyno-metadata) is an Heroku Labs feature at the moment and have to be enabled this way:\n\n```sh\nheroku labs:enable runtime-dyno-metadata -a <app name>\n```\n\n## Usage with Express 4.x\n\n```js\nimport express from 'express';\nimport { middleware as herokuDynoMetadata } from 'heroku-dyno-metadata';\n\nconst app = express()\n  .use(herokuDynoMetadata());\n\n// Responses will have the following example headers:\n// \n// X-Heroku-App-Id: 2d9a4aaf-1023-4520-8ed1-d6fda6fd86d6\n// X-Heroku-App-Name: heroku-dyno-metadata\n// X-Heroku-Dyno-Id: d1576980-3f3e-4593-b7b9-6c2fbf874e07\n// X-Heroku-Dyno-Name: web.1\n// X-Heroku-Slug-Commit: cbdae5a0cd1f5a0f0a67b3d82844ceb33d0caed7\n// X-Heroku-Slug-Description: Deploy cbdae5a\n// X-Heroku-Release-Created-at: 2016-04-08T06:39:53Z\n// X-Heroku-Release-Version: v832\n\n```\n\n## API\n\n#### metadata\n**`metadata`**\n\n- This function is exposed as the `default` export.\n- Use `import metadata from 'heroku-dyno-metadata'` or `require('heroku-dyno-metadata')`.\n- Returns an object containing Heroku Dyno metadata, keys are camel-cased.\n- Example:\n\n  ```js\n  console.log(metadata.dynoName);\n  // \"web.1\"\n  ```\n\n#### middleware\n**`middleware([keys])`**\n\n- Use `import { middleware } from 'heroku-dyno-metadata'` or `require('heroku-dyno-metadata').middleware`.\n- Returns an Express middleware.\n- The optional `keys` argument allows picking headers exposed. Default is all headers available (listed below).\n- Example:\n\n  ```js\n  middleware(['x-heroku-app-id', 'x-heroku-dyno-id']);\n  ```\n\n## Available headers\n\n| Header        | Description   | Example   |\n| ------------- |---------------|-----------|\n| x-heroku-app-id | The unique identifier for the application | `9daa2797-e49b-4624-932f-ec3f9688e3da` |\n| x-heroku-app-name | The application name | `example-app` |\n| x-heroku-dyno-id | The dyno identifier | `1vac4117-c29f-4312-521e-ba4d8638c1ac` |\n| x-heroku-dyno-name | The dyno name | `web.1` |\n| x-heroku-slug-commit | The commit hash for current release | `2c3a0b24069af49b3de35b8e8c26765c1dba9ff0` |\n| x-heroku-slug-description | The commit description for current release | `Deploy 2c3a0b2` |\n| x-heroku-release-created-at | The time and date the release was created     | `2015/04/02 18:00:42` |\n| x-heroku-release-version | The version of current release | `v42` |\n\nMore information: [Heroku Labs: Dyno Metadata](https://devcenter.heroku.com/articles/dyno-metadata)\n\n## License\n\nMIT Â© [Gowento](https://www.gowento.com)\n\n[npm-url]: https://npmjs.org/package/heroku-dyno-metadata\n[npm-image]: https://img.shields.io/npm/v/heroku-dyno-metadata.svg?style=flat-square\n\n[travis-url]: https://travis-ci.org/gowento/heroku-dyno-metadata\n[travis-image]: https://img.shields.io/travis/gowento/heroku-dyno-metadata.svg?style=flat-square\n\n[coveralls-url]: https://coveralls.io/r/gowento/heroku-dyno-metadata\n[coveralls-image]: https://img.shields.io/coveralls/gowento/heroku-dyno-metadata.svg?style=flat-square\n\n[depstat-url]: https://david-dm.org/gowento/heroku-dyno-metadata\n[depstat-image]: https://david-dm.org/gowento/heroku-dyno-metadata.svg?style=flat-square\n\n[download-badge]: http://img.shields.io/npm/dm/heroku-dyno-metadata.svg?style=flat-square\n","created":"2016-04-08T09:26:36.861Z","modified":"2016-05-12T12:31:32.926Z","lastPublisher":{"name":"loris","email":"loris.guignard@gmail.com"},"owners":[{"name":"loris","email":"loris.guignard@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"heroku-dyno-metadata","_nodeVersion":"6.1.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/heroku-dyno-metadata-1.2.0.tgz_1463056291196_0.02648993395268917"},"_npmUser":{"name":"loris","email":"loris.guignard@gmail.com"},"_npmVersion":"3.8.6","_rev":"1-edd06d98cb0b32d9e5681d71f408d4d3","_shasum":"1e0f2a673b5306ba314b3294bd4a6f5796e66690","bugs":{"url":"https://github.com/gowento/heroku-dyno-metadata/issues"},"contributors":[{"name":"Loris Guignard","email":"loris.guignard@gmail.com"}],"directories":{},"dist-tags":{"latest":"1.2.0"},"dist":{"shasum":"1e0f2a673b5306ba314b3294bd4a6f5796e66690","tarball":"http://registry.npmjs.org/heroku-dyno-metadata/-/heroku-dyno-metadata-1.2.0.tgz"},"maintainers":[{"name":"loris","email":"loris.guignard@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-05-12T12:31:32.926Z","created":"2016-04-08T09:26:36.861Z","1.0.0":"2016-04-08T09:26:36.861Z","1.0.1":"2016-04-08T09:48:29.388Z","1.1.0":"2016-04-10T17:35:57.669Z","1.1.1":"2016-04-11T08:32:41.594Z","1.2.0":"2016-05-12T12:31:32.926Z"}}}