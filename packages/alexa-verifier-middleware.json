{"name":"alexa-verifier-middleware","version":"0.2.2","description":"An expressjs middleware that verifies HTTP requests sent to an Alexa skill are sent from Amazon.","main":"index.js","scripts":{"test":"tap ./test","coverage":"tap ./test -- --cov --coverage-report=lcov"},"repository":"https://github.com/alexa-js/alexa-verifier-middleware","keywords":["alexa","alexa-verifier","alexa-verifier-middleware"],"license":"ISC","homepage":"https://github.com/alexa-js/alexa-verifier-middleware#readme","dependencies":{"alexa-verifier":"^0.3.0"},"devDependencies":{"coveralls":"^2.11.15","node-mocks-http":"^1.5.6","tap":"^10.0.0","supertest":"^3.0.0","express":"^4.14.1","body-parser":"^1.16.1","sinon":"^2.1.0"},"gitHead":"500b27524d8b3e46640b759979f8a171c18e3b75","versions":[{"number":"0.0.1","date":"2016-10-31T07:18:59.473Z"},{"number":"0.0.2","date":"2016-10-31T07:56:26.145Z"},{"number":"0.0.3","date":"2016-10-31T08:22:08.200Z"},{"number":"0.0.4","date":"2016-10-31T08:40:17.711Z"},{"number":"0.0.5","date":"2016-10-31T09:06:05.180Z"},{"number":"0.0.6","date":"2017-01-05T08:05:46.711Z"},{"number":"0.0.7","date":"2017-01-05T08:14:52.931Z"},{"number":"0.1.0","date":"2017-01-05T20:21:02.730Z"},{"number":"0.1.1","date":"2017-01-05T23:09:30.976Z"},{"number":"0.1.2","date":"2017-01-05T23:11:45.514Z"},{"number":"0.1.3","date":"2017-01-13T06:58:18.890Z"},{"number":"0.1.4","date":"2017-01-13T16:03:46.861Z"},{"number":"0.1.5","date":"2017-01-19T06:46:46.466Z"},{"number":"0.1.6","date":"2017-01-29T17:18:12.230Z"},{"number":"0.1.7","date":"2017-01-29T19:40:16.808Z"},{"number":"0.1.8","date":"2017-01-30T17:20:51.041Z"},{"number":"0.1.9","date":"2017-01-31T23:24:45.613Z"},{"number":"0.2.0","date":"2017-02-07T07:43:42.430Z"},{"number":"0.2.1","date":"2017-02-13T03:18:27.427Z"},{"number":"0.2.2","date":"2017-04-03T07:54:00.753Z"}],"readme":"# alexa-verifier-middleware\r\n\r\n[![NPM](https://nodei.co/npm/alexa-verifier-middleware.png)](https://www.npmjs.com/package/alexa-verifier-middleware/)\r\n\r\n![NPM Version](https://img.shields.io/npm/v/alexa-verifier-middleware.svg)\r\n[![Build Status](https://travis-ci.org/alexa-js/alexa-verifier-middleware.svg?branch=master)](https://travis-ci.org/alexa-js/alexa-verifier-middleware)\r\n[![Coverage Status](https://coveralls.io/repos/github/alexa-js/alexa-verifier-middleware/badge.svg)](https://coveralls.io/github/alexa-js/alexa-verifier-middleware)\r\n[![dependencies Status](https://david-dm.org/alexa-js/alexa-verifier-middleware/status.svg)](https://david-dm.org/tejashah88/alexa-verifier-middleware)\r\n\r\nAn [express](https://www.npmjs.com/package/express) middleware that verifies HTTP requests sent to an Alexa skill are sent from Amazon.\r\n\r\n\r\n### Usage\r\n\r\nIt is recommended that you attach all Alexa routes to an express Router.\r\n```javascript\r\nvar express  = require('express')\r\nvar verifier = require('alexa-verifier-middleware')\r\n\r\n\r\nvar app = express()\r\n\r\n// create a router and attach to express before doing anything else\r\nvar alexaRouter = express.Router()\r\napp.use('/alexa', alexaRouter)\r\n\r\n// attach the verifier middleware first because it needs the entire\r\n// request body, and express doesn't expose this on the request object\r\nalexaRouter.use(verifier)\r\n\r\n// Routes that handle alexa traffic are now attached here.\r\n// Since this is attached to a router mounted at /alexa,\r\n// this endpoint will be accessible at /alexa/weather_info\r\nalexaRouter.get('/weather_info', function(req, res) { ... })\r\n\r\napp.listen(3000)\r\n```\r\n\r\n### Common errors\r\n\r\n#### The raw request body has already been parsed.\r\n* This means that you're probably using one of the body-parser middlewares and it is loaded before this one. To fix it, you should load the body-parsers **after** this one.\r\n\r\nBefore:\r\n```javascript\r\nvar alexaRouter = express.Router()\r\napp.use('/alexa', alexaRouter)\r\n\r\n// INCORRECT\r\nalexaRouter.use(bodyParser.json());\r\nalexaRouter.use(verifier)\r\n```\r\n\r\nAfter:\r\n```javascript\r\nvar alexaRouter = express.Router()\r\napp.use('/alexa', alexaRouter)\r\n\r\n// CORRECT\r\nalexaRouter.use(verifier)\r\nalexaRouter.use(bodyParser.json());\r\n```\r\n\r\n### Mentions\r\n* [mreinstein](https://github.com/mreinstein) for his [alexa-verifier](https://github.com/alexa-js/alexa-verifier) module, which allows you to verify any Amazon requests from any web service\r\n\r\n### License\r\nCopyright (c) 2016-2017 Tejas Shah\r\n\r\nMIT License, see [LICENSE](https://tejashah88.mit-license.org/2016-2017) for details.\r\n","starsCount":2,"created":"2016-10-31T07:18:59.473Z","modified":"2017-04-28T13:38:26.120Z","lastPublisher":{"name":"tejashah88","email":"tejashah88@gmail.com"},"owners":[{"name":"dblock","email":"dblock@dblock.org"},{"name":"mkruse","email":"github@mattkruse.com"},{"name":"mreinstein","email":"reinstein.mike@gmail.com"},{"name":"tejashah88","email":"tejashah88@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"alexa-verifier-middleware","_nodeVersion":"7.8.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/alexa-verifier-middleware-0.2.2.tgz_1491206039037_0.4342668275348842"},"_npmUser":{"name":"tejashah88","email":"tejashah88@gmail.com"},"_npmVersion":"3.10.5","_rev":"25-b421d156a15ed80f86dd111be645fa10","_shasum":"9abad8cc6fc387908c8d8e295bfbdcb95950d47a","author":{"name":"tejashah88"},"bugs":{"url":"https://github.com/alexa-js/alexa-verifier-middleware/issues"},"directories":{},"dist-tags":{"latest":"0.2.2"},"dist":{"shasum":"9abad8cc6fc387908c8d8e295bfbdcb95950d47a","tarball":"https://registry.npmjs.org/alexa-verifier-middleware/-/alexa-verifier-middleware-0.2.2.tgz"},"maintainers":[{"name":"dblock","email":"dblock@dblock.org"},{"name":"mkruse","email":"github@mattkruse.com"},{"name":"mreinstein","email":"reinstein.mike@gmail.com"},{"name":"tejashah88","email":"tejashah88@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-04-28T13:38:26.120Z","created":"2016-10-31T07:18:59.473Z","0.0.1":"2016-10-31T07:18:59.473Z","0.0.2":"2016-10-31T07:56:26.145Z","0.0.3":"2016-10-31T08:22:08.200Z","0.0.4":"2016-10-31T08:40:17.711Z","0.0.5":"2016-10-31T09:06:05.180Z","0.0.6":"2017-01-05T08:05:46.711Z","0.0.7":"2017-01-05T08:14:52.931Z","0.1.0":"2017-01-05T20:21:02.730Z","0.1.1":"2017-01-05T23:09:30.976Z","0.1.2":"2017-01-05T23:11:45.514Z","0.1.3":"2017-01-13T06:58:18.890Z","0.1.4":"2017-01-13T16:03:46.861Z","0.1.5":"2017-01-19T06:46:46.466Z","0.1.6":"2017-01-29T17:18:12.230Z","0.1.7":"2017-01-29T19:40:16.808Z","0.1.8":"2017-01-30T17:20:51.041Z","0.1.9":"2017-01-31T23:24:45.613Z","0.2.0":"2017-02-07T07:43:42.430Z","0.2.1":"2017-02-13T03:18:27.427Z","0.2.2":"2017-04-03T07:54:00.753Z"},"users":{"goliatone":true,"rocket0191":true}}}