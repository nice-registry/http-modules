{"name":"localhandler","version":"0.2.0","description":"HTTP server that resolves local html files that use Englishtown handler syntax for blurbs, CCLs, medias and CMS","main":"serv er.js","bin":{"localhandler":"./server.js"},"keywords":["englishtown","dev-server","local"],"license":"ISC","dependencies":{"async-replace":"^1.0.0","bower":"^1.4.1","colors":"^1.1.0","commander":"^2.8.1","express":"^4.12.4","lodash":"^3.9.2","mu-data":"0.0.1","parse-domain":"^0.1.2","poly":"^0.6.1","request":"^2.55.0","request-debug":"^0.2.0","requirejs":"^2.1.18","shelljs":"^0.5.0","url":"^0.10.3","walk":"^2.3.9","when":"^3.7.3"},"scripts":{"start":"node server.js"},"gitHead":"43066b46e2273726366a97ded984ffdf0bdbfe34","versions":[{"number":"0.0.1","date":"2015-05-25T05:25:00.922Z"},{"number":"0.0.2","date":"2015-05-25T05:28:44.566Z"},{"number":"0.0.3","date":"2015-05-25T05:32:39.537Z"},{"number":"0.0.4","date":"2015-06-04T06:51:53.113Z"},{"number":"0.0.5","date":"2015-06-05T03:15:42.395Z"},{"number":"0.0.6","date":"2015-06-05T03:55:21.594Z"},{"number":"0.0.7","date":"2015-06-05T04:25:52.683Z"},{"number":"0.1.0","date":"2015-06-05T07:50:55.277Z"},{"number":"0.2.0","date":"2015-06-09T08:51:54.230Z"}],"readme":"# local handler\n\nA HTTP server that interprets Englishtown handler syntax of blurbs, CCLs, medias and CMSs used in **HTML files**, it is primarily targeted \nto be used in conjunction with a **reverse proxy** that serve local files in front-end dev environment, enabling you to preview changes and make local debugging a lot easier, check the below [Configure Reverse Proxy](#integrate-with-other-reverse-proxies) configurations section to understand how it works.\n\n## Installation\n```bash\nnpm i -g localhandler\n```\n## Basic Usage\n\nStart the localhandler as a local HTTP server in your application working copy:\n\n```bash\n> cd your-app\n> localhandler -b school/e12\nlocalhandler is running on port:3000\n```\n\n## Command Line Options \n\n### '-b, --basepath' : the base URL on which your application is mounted\n\nThis option set the root path of the web application, so local files are resolved relative to this base path. Use this option to make the local handler URL matches with the virtual path configuration of your HTTP server, default to the root path '/'.\n\n### '-f, --processor' : local module implements a custom content processor function  \n\nThis option specified a javascript file that export a function, for custom processing as the tip of the HTML processing pipeline, basically transform the file contents that are supposed to be consumed by the next processor, e.g.\n\n```!js\nmodule.exports = function preProcess(html) {\n  // reinforce \"dev\" environment, and use local static file instead of the CDN version\n  return html.replace(new RegExp('{CCL:myapp.ui.env}', 'gi'), 'dev')\n    .replace(new RegExp('{CCL:configuration.servers.cache}/_shared/myapp/{CCL:myapp.ui.version}/?', 'gi'), '');\n};\n```\n\n### '-p, --port' : specify your custom port to listen for HTTP request, default to '3000'\n\nThis option is just to override the server port to listen for incoming HTTP requests.\n\n## Integrate with other Reverse Proxies\n\nDepending on your HTTP Reverse Proxy of choice, the configuration would vary while here we exemplify the \nApache [mod_proxy](http://httpd.apache.org/docs/2.2/mod/mod_proxy.html#proxypass) configurations \nthat are required to integrate the localhandler server to setup a sample Englishtown UAT dev environment.\n\n```\n# Sample Reverse Proxy for the UAT server environment\n<VirtualHost *:80>\n    DocumentRoot /Users/garry/Stash/labs-school/school-ui\n    ServerName schooluat.dev\n    ServerAlias schooluat.englishtown.local\n    # This delegate all requests for HTML files to the localhandler server\n    ProxyPassMatch ^/(.*\\.html)$ http://localhost:3000/$1\n    ProxyPass / http://schooluat.englishtown.com/\n    ProxyPassReverse / http://schooluat.englishtown.com/\n    ProxyPassReverseCookieDomain schooluat.englishtown.com schooluat.dev\n    ProxyPassReverseCookieDomain schooluat.englishtown.com schooluat.englishtown.local\n</VirtualHost> \n```\n\n```\n# Sample Reverse Proxy for the UAT server environment on Nginx\nhttp {\n    server {\n        listen 80;\n        server_name schooluat.dev schooluat.englishtown.local;\n        root /Users/garry/Stash/labs-school/school-ui;\n        add_header Cache-Control \"public, max-age=0\";\n\n        proxy_set_header Host $proxy_host;\n        proxy_cookie_domain $proxy_host $host;\n\n        location ~* \\.html$ {\n            proxy_pass http://127.0.0.1:3000;\n        }\n\n        location / {\n            resolver 10.128.34.91 10.128.34.94;\n            proxy_pass http://schooluxuat.englishtown.com;\n        }\n    }\n}\n```\n","created":"2015-05-25T05:25:00.922Z","modified":"2015-06-09T08:51:54.230Z","lastPublisher":{"name":"garryyao","email":"yaojun85@gmail.com"},"owners":[{"name":"garryyao","email":"yaojun85@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"localhandler","_nodeVersion":"0.11.13","_npmUser":{"name":"garryyao","email":"yaojun85@gmail.com"},"_npmVersion":"2.11.1","_rev":"1-d31f633822d7ce2243edfe5fbad8a4c2","_shasum":"00b327133ade949148bc002a6aebb85db9bc471d","author":{"name":"yaojun85@gmail.com"},"directories":{},"dist-tags":{"latest":"0.2.0"},"dist":{"shasum":"00b327133ade949148bc002a6aebb85db9bc471d","tarball":"http://registry.npmjs.org/localhandler/-/localhandler-0.2.0.tgz"},"maintainers":[{"name":"garryyao","email":"yaojun85@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-06-09T08:51:54.230Z","created":"2015-05-25T05:25:00.922Z","0.0.1":"2015-05-25T05:25:00.922Z","0.0.2":"2015-05-25T05:28:44.566Z","0.0.3":"2015-05-25T05:32:39.537Z","0.0.4":"2015-06-04T06:51:53.113Z","0.0.5":"2015-06-05T03:15:42.395Z","0.0.6":"2015-06-05T03:55:21.594Z","0.0.7":"2015-06-05T04:25:52.683Z","0.1.0":"2015-06-05T07:50:55.277Z","0.2.0":"2015-06-09T08:51:54.230Z"}}}