{"name":"ng-http-interceptor","version":"3.1.1","scripts":{"build":"node scripts/build.js","check-coverage":"istanbul check-coverage --functions 75 --lines 75 --branches 75 --statements 75","ci":"npm run lint && npm run test:single && npm run check-coverage","commit":"git-cz","lint":"tslint src/**/*.ts","prepublish":"npm run build","test":"karma start","test:single":"npm run test -- --single-run","test:report":"cd coverage && codecov","semantic-release":"semantic-release pre && npm publish && semantic-release post","e2e":"npm-run-all -p -r e2e:server e2e:protractor","e2e:server":"node e2e/demo/server.js","e2e:protractor":"protractor","e2e:update":"webdriver-manager update"},"repository":"https://github.com/gund/ng-http-interceptor","keywords":["ng","ng2","angular","angular2","http","interceptor","library"],"license":"MIT","main":"./dist/bundles/ng-http-interceptor.umd.js","module":"./dist/bundles/ng-http-interceptor.es5.js","es2015":"./dist/bundles/ng-http-interceptor.es2015.js","typings":"./dist/ng-http-interceptor.d.ts","peerDependencies":{"@angular/core":"^4.0.0","@angular/http":"^4.0.0","rxjs":"^5.0.0","tslib":"^1.0.0"},"devDependencies":{"@angular/common":"^4.1.3","@angular/compiler":"^4.1.3","@angular/compiler-cli":"^4.1.3","@angular/core":"^4.1.3","@angular/forms":"^4.1.3","@angular/http":"^4.1.3","@angular/platform-browser":"^4.1.3","@angular/platform-browser-dynamic":"^4.1.3","@angular/platform-server":"^4.1.3","@angular/router":"^4.1.3","@types/jasmine":"^2.5.45","angular2-template-loader":"^0.6.2","awesome-typescript-loader":"^3.1.2","codecov":"^1.0.1","codelyzer":"^3.0.0-beta.4","commitizen":"^2.9.6","core-js":"^2.4.1","cz-conventional-changelog":"^2.0.0","express":"^4.15.2","ghooks":"^2.0.0","istanbul":"^0.4.5","jasmine-core":"2.5.2","jasmine-spec-reporter":"^3.2.0","json-loader":"^0.5.4","karma":"^1.5.0","karma-chrome-launcher":"^2.0.0","karma-cli":"^1.0.1","karma-jasmine":"^1.1.0","karma-remap-istanbul":"^0.6.0","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^2.0.2","npm-run-all":"^4.0.2","postcss-loader":"^1.3.3","protractor":"4.0.14","put-cli":"^0.1.0","raw-loader":"^0.5.1","rimraf":"^2.6.1","rollup":"^0.41.6","rollup-globals-regex":"^0.0.1","rollup-plugin-node-resolve":"^2.0.0","rxjs":"^5.3.0","semantic-release":"^6.3.2","source-map":"^0.5.6","source-map-loader":"^0.2.0","sourcemap-istanbul-instrumenter-loader":"^0.2.0","ts-node":"^2.1.0","tslib":"^1.6.0","tslint":"^4.5.1","tslint-loader":"^3.4.3","typescript":"^2.3.4","typings":"^2.1.0","uglifyjs":"^2.4.10","url-loader":"^0.5.8","webpack":"^2.6.1","webpack-dev-server":"^2.4.5","webpack-md5-hash":"^0.0.5","webpack-merge":"^4.1.0","webpack-sources":"^0.2.3","zone.js":"^0.8.11"},"engines":{"node":">=6.0.0"},"config":{"ghooks":{"pre-commit":"echo \"Verifying commit...\" && npm run ci"},"commitizen":{"path":"./node_modules/cz-conventional-changelog"}},"gitHead":"e5a3aeba2bf9ac1d559ee50c33292cd510e37d1c","description":"> Http Interceptor library for Angular","homepage":"https://github.com/gund/ng-http-interceptor#readme","versions":[{"number":"1.0.0","date":"2017-01-08T18:43:53.181Z"},{"number":"1.9.10","date":"2017-01-08T19:42:55.840Z"},{"number":"2.0.0","date":"2017-01-08T19:56:00.530Z"},{"number":"2.0.1","date":"2017-01-09T17:20:44.109Z"},{"number":"3.0.0-beta.0","date":"2017-01-15T23:25:01.711Z"},{"number":"3.0.0-beta.1","date":"2017-01-22T16:47:51.827Z"},{"number":"2.0.2","date":"2017-02-09T16:38:04.203Z"},{"number":"3.0.0-beta.2","date":"2017-02-10T10:44:34.553Z"},{"number":"2.0.3","date":"2017-02-15T22:19:37.070Z"},{"number":"3.0.0-beta.3","date":"2017-02-15T23:02:02.076Z"},{"number":"3.0.0-rc.0","date":"2017-03-13T20:24:07.648Z"},{"number":"3.0.0","date":"2017-03-25T11:41:55.711Z"},{"number":"3.0.1","date":"2017-04-10T08:29:54.942Z"},{"number":"3.1.0","date":"2017-06-02T17:55:18.200Z"},{"number":"3.1.1","date":"2017-06-05T17:58:50.233Z"}],"readme":"# ng-http-interceptor\n\n> Http Interceptor library for Angular\n\n*Previously was called `ng2-http-interceptor`*\n\n[![Travis CI](https://img.shields.io/travis/gund/ng-http-interceptor/master.svg?maxAge=2592000)](https://travis-ci.org/gund/ng-http-interceptor)\n[![Coverage](https://img.shields.io/codecov/c/github/gund/ng-http-interceptor.svg?maxAge=2592000)](https://codecov.io/gh/gund/ng-http-interceptor)\n[![Code Climate](https://img.shields.io/codeclimate/github/gund/ng-http-interceptor.svg?maxAge=2592000)](https://codeclimate.com/github/gund/ng-http-interceptor)\n[![Npm](https://img.shields.io/npm/v/ng-http-interceptor.svg?maxAge=2592000)](https://badge.fury.io/js/ng-http-interceptor)\n[![Npm Downloads](https://img.shields.io/npm/dt/ng2-http-interceptor.svg?maxAge=2592000)](https://www.npmjs.com/package/ng-http-interceptor)\n[![Licence](https://img.shields.io/npm/l/ng-http-interceptor.svg?maxAge=2592000)](https://github.com/gund/ng-http-interceptor/blob/master/LICENSE)\n[![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)](https://github.com/semantic-release/semantic-release)\n\nVersion 3+ is compatible with Angular 4+.    \nIf you are looking for version for Angular 2 install `ng-http-interceptor@^2.0.0`\n\n## Features\n\n* Registering interceptors globally\n* Separate interceptors for requests and responses\n* Attach interceptors for specific urls via strings or RegExp's\n* Remove specific/all interceptor(s)\n* Modify requests (even url) from request interceptors\n* Cancel requests from request interceptors\n* Modify responses from response interceptors\n* Interceptor Service is not coupled with Http Service\n* Choose between overriding original Http Service or keep it and still use interceptors\n* Comprehensive type assistance for your interceptor functions\n* Supports AOT compilation with shipped _*.metadata.json_ files\n* UMD builds in _dist/bundles_ folder ready to use in Browsers\n* Simple http data extraction and manipulation with [Helpers Functions](#helpers-functions-since-v130)\n* Sharing context object between all interceptors\n\n## Table of Contents\n\n* [Features](#features)\n* [Prerequisites](#prerequisites)\n* [Installation](#installation)\n* [Usage](#usage)\n* [Documentation](#documentation)\n* [Development](#development)\n\n## Prerequisites\n\nThis library uses `Proxy` from ES6 spec so if you need to support browsers\nthat are ES5 compatible include [proxy-polyfill](https://github.com/GoogleChrome/proxy-polyfill).  \n  \nLibrary uses `tslib` (standard Typescript runtime library) so please make sure\nyou have this module installed via `npm`.\n\n## Installation\n\nTo install this library, run:\n\n```bash\n$ npm install ng-http-interceptor --save\n```\n\n## Usage\n\n#### Case #1\n\nImport `HttpInterceptorModule` to your application module.  \nThis will override original `Http` Service and all requests will be intercepted.\n\n#### Case #2\n\nImport as `HttpInterceptorModule.noOverrideHttp()` to keep original `Http` Service\nand use `InterceptableHttp` for requests to be intercepted.\n\n### Example use-case\n\nYou can use `InterceptableHttp` for your requests in case #1 and #2  \nand `Http` if you chose to override it (case #1 only):\n```ts\nconstructor(http: Http, httpInterceptor: HttpInterceptorService) {\n    httpInterceptor.request().addInterceptor((data, method) => {\n      console.log(method, data);\n      return data;\n    });\n\n    httpInterceptor.response().addInterceptor((res, method) => {\n      return res.do(r => console.log(method, r));\n    });\n    \n    this.http.get('/')\n          .map(r => r.text())\n          .subscribe(console.log);\n}\n```\n\nIn this setup every request and response will be logged to the console.  \nYou can also cancel request by returning `false` value (that coerce to boolean false)\nfrom one of registered _request_ interceptors.  \nYou can return `Observable` from _request_ interceptors to do some async job.\n\nYou can find in-depth explanation of internal concepts here: https://goo.gl/GU9VWo  \nAlso if you want to play with it check this [repo](https://github.com/gund/angular2-http-interceptor-test).  \nOr check this [plnkr demo](https://plnkr.co/edit/qTTdPl8EggQleTfTSbch).\n\n## Documentation\n\nAll and every interception setup is made by `HttpInterceptorService` service.  \nInject this service in place where you want to manage interceptors.\n  \n### Public API\n\n**HttpInterceptorService**\n```ts\nHttpInterceptorService: {\n    request(url?: string|RegExp): Interceptable,\n    response(url?: string|RegExp): Interceptable\n}\n```\n\n<sub>See [src/http/http-interceptor.ts](./src/http/http-interceptor.ts#L8) for full reference</sub>\n\n_Description_: Methods will determine when to call interceptor - before\nrequest (`request()`) or after response (`response()`).  \nYou can also specify url filtering (`string|RegExp`) which will indicate\nwhen interceptor must be triggered depending on url.  \nBy default all interceptors fall under `'/'` url key which means every\ninterceptor registered that way will be triggered despite of actual url.\n\n**Interceptable**\n```ts\nInterceptable: {\n    addInterceptor(interceptorFn: Interceptor): Interceptable,\n    removeInterceptor(interceptorFn: Interceptor): Interceptable,\n    clearInterceptors(interceptorFns?: Interceptor[]): Interceptable\n}\n```\n\n<sub>See [src/http/interceptable.ts](./src/http/interceptable.ts#L1) for full reference</sub>\n\n_Description_: This object will help you manage interceptors with\nrespect to your selected configuration (url filtering).\n\n**Interceptor**\n```ts\nInterceptor<T, D> {\n  (data: T, method: string, ctx?: any): D;\n}\n```\n\n<sub>See [src/http/interceptable.ts](./src/http/interceptable.ts#L7) for full reference</sub>\n\n_Description_: This is generic type of interceptor - which is a plain old JavaScript function.  \nYou will be dealing with specific one to satisfy it's criteria:\n* `Interceptor<any[], any[]>` - for **request** interceptors  \n    Function will get an array of parameters with which call on `Http`\n    was made + method name as string (`get`, `post`, `delete`...)\n    and should return array of the same structure or `false` to cancel request.\n* `Interceptor<Observable<Response>, Observable<Response>>` - for **response** interceptors  \n    Function will get Observable + method name as string (`get`, `post`, `delete`...)\n    and should return same or new Observable but with type Response\n    (this is made specifically to prevent other code being broken\n    because response was intercepted and structure changed)\n\n#### Helpers Functions (since v1.3.0)\n\nThere are a bunch of helper functions added to simplify some common\nwork with _data_ array (for ex. getting `RequestOptions` or even `Headers`).\n\n**getHttpHeadersOrInit()**\n```ts\nfunction getHttpHeadersOrInit(data: any[], method: string): Headers;\n```\n\n<sub>See [src/http/helpers/getHttpHeadersOrInit.ts](./src/http/helpers/getHttpHeadersOrInit.ts) for full reference</sub>\n\n_Description_: Gets `Headers` from _data_ array.  \nIf no `RequestOptions` found - creates it and updates original _data_ array.  \nIf no `Headers` found - creates it and sets to `RequestOptions`.\n\nExmaple how to add custom headers to requests:\n```ts\nhttpInterceptor.request().addInterceptor((data, method) => {\n  const headers = getHttpHeadersOrInit(data, method);\n  headers.set('X-Custom-Header', 'value');\n  return data;\n});\n```\n\n**getHttpOptionsAndIdx()**\n```ts\nfunction getHttpOptionsAndIdx(\n    data: any[],\n    method: string,\n    alwaysOriginal?: boolean\n): {\n    options: RequestOptions;\n    idx: number;\n};\n```\n\n<sub>See [src/http/helpers/getHttpOptionsAndIdx.ts](./src/http/helpers/getHttpOptionsAndIdx.ts) for full reference</sub>\n\n_Description_: Gets `RequestOptions` and it's index location in _data_ array.  \nIf no options found and `alwaysOriginal = false` - creates new `RequestOptions`\nbut does NOT set it back on _data_ array.\n* Param `alwaysOriginal` is `false` by default.\n\n**getHttpOptions()**\n```ts\nfunction getHttpOptions(\n    data: any[],\n    method: string,\n    alwaysOriginal?: boolean): RequestOptions;\n```\n\n<sub>See [src/http/helpers/getHttpOptions.ts](./src/http/helpers/getHttpOptions.ts) for full reference</sub>\n\n_Description_: Gets http `RequestOptions` from data array.  \nIf no options found and `alwaysOriginal = false` - returns new `RequestOptions`\nbut does NOT set it back on _data_ array.\n* Param `alwaysOriginal` is `false` by default.\n\n**getHttpOptionsIdx()**\n```ts\nfunction getHttpOptionsIdx(method: string): number;\n```\n\n<sub>See [src/http/helpers/getHttpOptionsIdx.ts](./src/http/helpers/getHttpOptionsIdx.ts) for full reference</sub>\n\n_Description_: Gets index of `RequestOptions` in http data array for specified `method`.\n\n\n## Development\n\nTo generate all `*.js`, `*.js.map`, `*.d.ts` and `*.metadata.json` files:\n\n```bash\n$ npm run build\n```\n\nTo lint all `*.ts` files:\n\n```bash\n$ npm run lint\n```\n\nTo run unit tests:\n\n```bash\n$ npm test\n```\n\n## License\n\nMIT © [Alex Malkevich](malkevich.alex@gmail.com)\n","created":"2017-01-08T18:43:53.181Z","modified":"2017-06-05T17:58:50.233Z","lastPublisher":{"name":"gund","email":"lyoha07@ukr.net"},"owners":[{"name":"gund","email":"lyoha07@ukr.net"}],"other":{"_attachments":{},"_id":"ng-http-interceptor","_nodeVersion":"8.0.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/ng-http-interceptor-3.1.1.tgz_1496685528517_0.7291935430839658"},"_npmUser":{"name":"gund","email":"lyoha07@ukr.net"},"_npmVersion":"5.0.0","_rev":"15-6e75a0e47f37a940e8a1300f7b786a7d","author":{"name":"Alex Malkevich","email":"malkevich.alex@gmail.com"},"bugs":{"url":"https://github.com/gund/ng-http-interceptor/issues"},"directories":{},"dist-tags":{"latest":"3.1.1","beta":"3.0.0-rc.0"},"dist":{"integrity":"sha512-LCh8jiCeQj9i9QndnBS9krD0T5EsF7gjLCVpy55aXHspwXTP/jq/dvNjibBe7l78vK6W3p3zvscpeQ81S0FRPg==","shasum":"609d7c90315abf834ca5a9a997752ab3c3ce397d","tarball":"https://registry.npmjs.org/ng-http-interceptor/-/ng-http-interceptor-3.1.1.tgz"},"maintainers":[{"name":"gund","email":"lyoha07@ukr.net"}],"readmeFilename":"README.MD","time":{"modified":"2017-06-05T17:58:50.233Z","created":"2017-01-08T18:43:53.181Z","1.0.0":"2017-01-08T18:43:53.181Z","1.9.10":"2017-01-08T19:42:55.840Z","2.0.0":"2017-01-08T19:56:00.530Z","2.0.1":"2017-01-09T17:20:44.109Z","3.0.0-beta.0":"2017-01-15T23:25:01.711Z","3.0.0-beta.1":"2017-01-22T16:47:51.827Z","2.0.2":"2017-02-09T16:38:04.203Z","3.0.0-beta.2":"2017-02-10T10:44:34.553Z","2.0.3":"2017-02-15T22:19:37.070Z","3.0.0-beta.3":"2017-02-15T23:02:02.076Z","3.0.0-rc.0":"2017-03-13T20:24:07.648Z","3.0.0":"2017-03-25T11:41:55.711Z","3.0.1":"2017-04-10T08:29:54.942Z","3.1.0":"2017-06-02T17:55:18.200Z","3.1.1":"2017-06-05T17:58:50.233Z"}}}