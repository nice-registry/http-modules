{"name":"express-correlation-id","version":"1.0.2","description":"Express middleware to correlate requests across http calls","main":"index.js","files":["index.js","test","examples"],"scripts":{"test":"ava","coverage":"nyc --check-coverage --lines 100 npm test","lint":"eslint index.js test/*.js examples/*.js","coveralls":"nyc report --reporter=text-lcov | coveralls"},"repository":"https://github.com/toboid/express-correlation-id","keywords":["express","logging","correlation","debug"],"license":"MIT","homepage":"https://github.com/toboid/express-correlation-id#readme","dependencies":{"correlation-id":"^2.0.0"},"devDependencies":{"ava":"^0.17.0","coveralls":"^2.11.14","eslint":"^3.7.1","eslint-config-toboid":"^1.1.0","express":"^4.14.0","nyc":"^10.0.0","supertest":"^2.0.1"},"gitHead":"cd9113a3f85d79d1feb35e2ad46db8f0271c00a5","versions":[{"number":"0.0.1","date":"2016-12-07T19:54:25.618Z"},{"number":"1.0.0","date":"2017-01-04T20:33:44.305Z"},{"number":"1.0.1","date":"2017-01-04T20:37:43.723Z"},{"number":"1.0.2","date":"2017-01-04T20:41:01.077Z"}],"readme":"[![Build Status](https://travis-ci.org/toboid/express-correlation-id.svg?branch=master)](https://travis-ci.org/toboid/express-correlation-id)\n[![Coverage Status](https://coveralls.io/repos/github/toboid/express-correlation-id/badge.svg?branch=master)](https://coveralls.io/github/toboid/express-correlation-id?branch=master)\n[![Dependencies](https://david-dm.org/toboid/express-correlation-id.svg)](https://github.com/toboid/express-correlation-id/blob/master/package.json)\n[![npm version](https://badge.fury.io/js/express-correlation-id.svg)](https://badge.fury.io/js/express-correlation-id)\n\n# Express correlation id\nExpress middleware to set a [correlation id](https://github.com/toboid/correlation-id) per route in express. The correlation id will be consistent across async calls within the handling of a request.\n\n## Installation\n```shell\nnpm i express-correlation-id --save\n```\n\n## Middleware usage example\nAll middleware and route handlers following the `correlator()` middleware will be within a single correlation scope. If the incoming request has a header called `x-correlation-id` then it's value will be used as the id for this request, otherwise the id will be a new uuid.\n\n```javascript\nconst correlator = require('express-correlation-id');\nconst express = require('express');\n\nconst app = express();\napp.use(correlator());\n\napp.get('/', (req, res) => {\n  console.log('ID for this request is:', req.correlationId()); // id for this request\n  console.log('ID for this request is:', correlator.getId());  // equal to above, not dependant on the req object\n  res.end();\n})\n```\n\n## API\n\n### `correlator()`\nReturns an express middleware that creates a correlation scope for all following middleware and route handlers. If the incoming request has a header with name `x-correlation-id` then it's value will be used as the id.\n\n```javascript\nconst app = express();\napp.use(correlator());\n```\n\n### `correlator.getId()`\nReturns the id for the current request. If called outside of a request returns `undefined`. This function is useful if you don't want to pass the `req` object or correlation id from the handler to downstream code.\n\n```javascript\ncorrelator.getId(); // Returns the current id or undefined\n```\n\n### `req.correlationId()`\nReturns the id for the current request. This function is added to the incoming `req` by the middleware.\n\n```javascript\nreq.correlationId(); // Returns the current id\n```\n\n## License\nMIT","created":"2016-12-07T19:54:25.618Z","modified":"2017-01-04T20:41:01.077Z","lastPublisher":{"name":"toboid","email":"toby@toboid.com"},"owners":[{"name":"toboid","email":"toby@toboid.com"}],"other":{"_attachments":{},"_from":".","_id":"express-correlation-id","_nodeVersion":"5.4.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/express-correlation-id-1.0.2.tgz_1483562458964_0.21332233399152756"},"_npmUser":{"name":"toboid","email":"toby@toboid.com"},"_npmVersion":"3.3.12","_rev":"4-9a17249c264996600985245d60d3d36f","_shasum":"b382ee5b97e61e1de19018aff912dfec88161ffc","author":{"name":"toboid"},"bugs":{"url":"https://github.com/toboid/express-correlation-id/issues"},"directories":{},"dist-tags":{"latest":"1.0.2"},"dist":{"shasum":"b382ee5b97e61e1de19018aff912dfec88161ffc","tarball":"http://registry.npmjs.org/express-correlation-id/-/express-correlation-id-1.0.2.tgz"},"maintainers":[{"name":"toboid","email":"toby@toboid.com"}],"readmeFilename":"readme.md","time":{"modified":"2017-01-04T20:41:01.077Z","created":"2016-12-07T19:54:25.618Z","0.0.1":"2016-12-07T19:54:25.618Z","1.0.0":"2017-01-04T20:33:44.305Z","1.0.1":"2017-01-04T20:37:43.723Z","1.0.2":"2017-01-04T20:41:01.077Z"}}}