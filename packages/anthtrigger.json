{"name":"anthtrigger","version":"0.1.14","description":"Trigger events via http service","main":"index.js","scripts":{"test":"mocha --compilers coffee:coffee-script/register -R spec","start":"node setup.js"},"bin":{"anthtrigger":"./setup.js"},"license":"MIT","engines":{"node":">=0.10.25"},"dependencies":{"adm-zip":"~0.4.4","body-parser":"~1.4.3","coffee-script":"~1.7.1","compare-version":"^0.1.2","connect":"~3.0.1","connect-mongo":"~0.4.1","cookie-parser":"~1.3.2","express":"~4.4.4","express-session":"~1.6.4","moment":"~2.8.1","mongoose":"~3.8.13","mongoose-id-autoinc2":"~1.0.3","morgan":"~1.1.1","optimist":"~0.6.1","pinyin":"~2.3.3","pm2":"~0.9.2","prompt":"~0.2.13","thenjs":"~1.3.4"},"devDependencies":{"mocha":"~1.20.1","supertest":"~0.13.0","should":"~4.0.4","grunt-express-server":"~0.4.17","grunt-contrib-copy":"~0.5.0","grunt-contrib-clean":"~0.5.0","grunt-open":"~0.2.3","grunt-contrib-coffee":"~0.10.1","time-grunt":"~0.4.0","load-grunt-tasks":"~0.6.0","grunt":"~0.4.5","grunt-contrib-watch":"~0.6.1","grunt-contrib-less":"~0.11.3","grunt-sonar-runner":"~2.3.1"},"versions":[{"number":"0.0.5","date":"2014-07-26T16:48:32.013Z"},{"number":"0.0.6","date":"2014-07-26T16:58:24.172Z"},{"number":"0.0.7","date":"2014-07-26T17:19:57.013Z"},{"number":"0.0.8","date":"2014-07-26T17:25:55.398Z"},{"number":"0.0.9","date":"2014-07-26T17:38:29.988Z"},{"number":"0.0.10","date":"2014-07-26T17:48:45.785Z"},{"number":"0.1.0","date":"2014-07-27T10:08:35.458Z"},{"number":"0.1.1","date":"2014-07-29T01:33:06.101Z"},{"number":"0.1.2","date":"2014-07-29T01:38:23.823Z"},{"number":"0.1.3","date":"2014-07-29T04:13:34.270Z"},{"number":"0.1.4","date":"2014-08-04T16:23:27.582Z"},{"number":"0.1.5","date":"2014-08-11T14:06:32.029Z"},{"number":"0.1.5-1","date":"2014-08-12T03:35:01.758Z"},{"number":"0.1.5-2","date":"2014-08-12T03:49:04.437Z"},{"number":"0.1.6","date":"2014-08-13T06:59:39.862Z"},{"number":"0.1.7","date":"2014-08-13T07:03:47.117Z"},{"number":"0.1.8","date":"2014-08-14T05:30:08.049Z"},{"number":"0.1.9","date":"2014-08-18T12:48:57.070Z"},{"number":"0.1.10","date":"2014-08-25T07:17:17.239Z"},{"number":"0.1.11","date":"2014-09-08T11:19:35.034Z"},{"number":"0.1.12","date":"2014-09-12T03:26:51.031Z"},{"number":"0.1.13","date":"2014-09-12T07:27:31.816Z"},{"number":"0.1.14","date":"2014-09-12T07:36:46.518Z"}],"readme":"anthTrigger\r\n===\r\n\r\nA tool with web interface to manage and execute shells on server.\r\n\r\n管理和执行服务器端脚本命令工具。\r\n\r\n# 功能简介\r\n\r\n* npm一条命令安装，配置简单\r\n* 用户权限，分为普通用户、管理用户和超级管理员，普通用户只具有执行权限；管理员可以撰写脚本，超级管理员可以管理用户和进行系统设置。\r\n* 脚本在线编写，可以实现接受执行参数，及脚本间的相互调用\r\n* 脚本执行，系统会记录下每次执行的相关信息，如触发用户，执行参数，脚本内容，执行结果等\r\n* 脚本执行日志，脚本执行时输出所有日志信息\r\n* 系统操作日志，记录下每位用户的系统操作信息\r\n\r\n# 系统依赖\r\n\r\n> 1. MongoDB\r\n> 2. Node.js\r\n\r\n# 安装方式\r\n```\r\nnpm install anthtrigger -g\r\n```\r\n\r\n# 配置方法\r\n```\r\nanthtrigger setup\r\n```\r\n然后会有交互式命令提示，根据提示输入一些配置信息，如：\r\n\r\n> 1. 服务监听端口号\r\n> 2. MongoDB服务器配置\r\n> 3. 脚本执行shell\r\n> 4. 超级管理员密码\r\n\r\n执行完毕后，anthtrigger会在用户HOME目录下创建`.anthTrigger.config.json`文件，此文件中记录配置信息（不包括管理员密码），并会初始化数据库。\r\n\r\n# 运行程序\r\n配置完成后，执行以下命令将使用pm2启动起来：\r\n```\r\nanthtrigger start\r\n```\r\n然后可以在浏览器中访问服务器地址对应端口号，即可打开Web管理页面，输入超级管理员账户`admin`和刚才配置的密码，即可登陆并添加和配置其它用户，以及添加配置脚本。\r\n\r\n\r\n# 更新升级\r\n\r\n```\r\npm2 stop anthTrigger\r\nnpm install anthtrigger@latest -g\r\nanthtrigger setup\r\npm2 restart anthTrigger\r\n```\r\n\r\n(更便捷的更新方式在开发中。。。)\r\n\r\n# 开源协议\r\n\r\nMIT\r\n\r\n# 更多信息\r\n\r\n> 1. 脚本权限控制： 采用“权限标签”方式，创建脚本时可以为脚本指定标签，只有拥有此标签的用户（除超级管理员）才有权限操作它，这样可以灵活地设定不同脚本与用户的权限关系；同时还可以根据标签来检索脚本。\r\n\r\n> 2. 脚本执行参数： 触发脚本执行时，可以在弹出的面板中为脚本指定执行时传入的参数，在脚本中通过标准的shell语法($1-$9)来获取到这些参数。\r\n\r\n> 3. 脚本间互相调用： 每个脚本添加时会有一个自增长的数字脚本ID, 在编写脚本时，添加命令如：`anthtrigger run 8 arg1 arg2`, 即可调用脚本ID=8的脚本，并且执行时会传入两个参数`arg1`,`arg2`。\r\n\r\n> 4. 功能在继续完善中。。。\r\n\r\n\r\n","created":"2014-07-26T16:48:32.013Z","modified":"2014-09-12T07:36:46.518Z","lastPublisher":{"name":"ijse","email":"i@ijser.cn"},"owners":[{"name":"ijse","email":"i@ijser.cn"}],"other":{"_attachments":{},"_from":".","_id":"anthtrigger","_npmUser":{"name":"ijse","email":"i@ijser.cn"},"_npmVersion":"1.4.24","_rev":"1-aa0702dffc43a08bf28fcf304729c8e4","_shasum":"f2e6cc02b15b75606fde3a0265371e714f82f594","author":{"name":"ijse"},"directories":{},"dist-tags":{"latest":"0.1.14"},"dist":{"shasum":"f2e6cc02b15b75606fde3a0265371e714f82f594","tarball":"http://registry.npmjs.org/anthtrigger/-/anthtrigger-0.1.14.tgz"},"maintainers":[{"name":"ijse","email":"i@ijser.cn"}],"readmeFilename":"README.md","time":{"modified":"2014-09-12T07:36:46.518Z","created":"2014-07-26T16:48:32.013Z","0.0.5":"2014-07-26T16:48:32.013Z","0.0.6":"2014-07-26T16:58:24.172Z","0.0.7":"2014-07-26T17:19:57.013Z","0.0.8":"2014-07-26T17:25:55.398Z","0.0.9":"2014-07-26T17:38:29.988Z","0.0.10":"2014-07-26T17:48:45.785Z","0.1.0":"2014-07-27T10:08:35.458Z","0.1.1":"2014-07-29T01:33:06.101Z","0.1.2":"2014-07-29T01:38:23.823Z","0.1.3":"2014-07-29T04:13:34.270Z","0.1.4":"2014-08-04T16:23:27.582Z","0.1.5":"2014-08-11T14:06:32.029Z","0.1.5-1":"2014-08-12T03:35:01.758Z","0.1.5-2":"2014-08-12T03:49:04.437Z","0.1.6":"2014-08-13T06:59:39.862Z","0.1.7":"2014-08-13T07:03:47.117Z","0.1.8":"2014-08-14T05:30:08.049Z","0.1.9":"2014-08-18T12:48:57.070Z","0.1.10":"2014-08-25T07:17:17.239Z","0.1.11":"2014-09-08T11:19:35.034Z","0.1.12":"2014-09-12T03:26:51.031Z","0.1.13":"2014-09-12T07:27:31.816Z","0.1.14":"2014-09-12T07:36:46.518Z"}}}