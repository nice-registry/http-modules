{"name":"stream-http","version":"2.7.2","description":"Streaming http in the browser","main":"index.js","repository":"https://github.com/jhiesey/stream-http","scripts":{"test":"npm run test-node && ([ -n \"${TRAVIS_PULL_REQUEST}\" -a \"${TRAVIS_PULL_REQUEST}\" != 'false' ] || npm run test-browser)","test-node":"tape test/node/*.js","test-browser":"zuul --no-coverage -- test/browser/*.js","test-browser-local":"zuul --local 8080 --no-coverage -- test/browser/*.js"},"license":"MIT","homepage":"https://github.com/jhiesey/stream-http#readme","keywords":["http","stream","streaming","xhr","http-browserify"],"dependencies":{"builtin-status-codes":"^3.0.0","inherits":"^2.0.1","readable-stream":"^2.2.6","to-arraybuffer":"^1.0.0","xtend":"^4.0.0"},"devDependencies":{"basic-auth":"^1.0.3","brfs":"^1.4.0","cookie-parser":"^1.4.3","express":"^4.15.2","tape":"^4.0.0","ua-parser-js":"^0.7.7","webworkify":"^1.0.2","zuul":"^3.10.3"},"gitHead":"c09a87154359d8f25b81a9083ba654bc6fe1f4de","versions":[{"number":"1.0.0","date":"2015-07-12T22:32:06.069Z"},{"number":"1.0.1","date":"2015-07-13T01:43:57.627Z"},{"number":"1.0.2","date":"2015-07-13T01:47:34.388Z"},{"number":"1.1.1","date":"2015-07-13T04:32:10.882Z"},{"number":"1.2.0","date":"2015-07-14T02:13:14.221Z"},{"number":"1.2.1","date":"2015-07-17T07:51:22.481Z"},{"number":"1.3.0","date":"2015-07-20T23:27:17.676Z"},{"number":"1.4.0","date":"2015-08-07T06:23:39.145Z"},{"number":"1.4.1","date":"2015-08-08T01:26:27.198Z"},{"number":"1.5.0","date":"2015-08-20T08:50:12.730Z"},{"number":"1.7.0","date":"2015-09-15T21:35:05.706Z"},{"number":"1.6.0","date":"2015-09-15T21:36:26.741Z"},{"number":"1.7.1","date":"2015-09-15T21:48:29.548Z"},{"number":"2.0.0","date":"2015-09-16T00:26:01.429Z"},{"number":"2.0.1","date":"2015-09-30T20:23:35.202Z"},{"number":"2.0.2","date":"2015-10-02T06:09:45.890Z"},{"number":"2.0.3","date":"2016-01-08T22:08:27.822Z"},{"number":"2.0.4","date":"2016-01-08T23:47:21.175Z"},{"number":"2.0.5","date":"2016-01-09T11:32:23.826Z"},{"number":"2.1.0","date":"2016-01-13T04:46:30.453Z"},{"number":"2.1.1","date":"2016-02-16T05:41:04.175Z"},{"number":"2.2.0","date":"2016-03-02T01:15:14.222Z"},{"number":"2.2.1","date":"2016-03-26T05:12:07.609Z"},{"number":"2.3.0","date":"2016-04-28T08:32:15.764Z"},{"number":"2.3.1","date":"2016-07-28T06:39:16.236Z"},{"number":"2.4.0","date":"2016-09-08T23:38:57.127Z"},{"number":"2.4.1","date":"2016-10-28T08:22:28.773Z"},{"number":"2.5.0","date":"2016-11-04T06:02:47.115Z"},{"number":"2.6.0","date":"2017-01-06T11:59:49.456Z"},{"number":"2.6.1","date":"2017-01-12T07:44:55.289Z"},{"number":"2.6.2","date":"2017-01-16T10:00:16.115Z"},{"number":"2.6.3","date":"2017-01-19T11:26:30.176Z"},{"number":"2.7.0","date":"2017-04-04T06:46:39.792Z"},{"number":"2.7.1","date":"2017-05-09T00:44:58.350Z"},{"number":"2.7.2","date":"2017-06-12T20:21:54.314Z"}],"readme":"# stream-http [![Build Status](https://travis-ci.org/jhiesey/stream-http.svg?branch=master)](https://travis-ci.org/jhiesey/stream-http)\n\n[![Sauce Test Status](https://saucelabs.com/browser-matrix/stream-http.svg)](https://saucelabs.com/u/stream-http)\n\nThis module is an implementation of Node's native `http` module for the browser.\nIt tries to match Node's API and behavior as closely as possible, but some features\naren't available, since browsers don't give nearly as much control over requests.\n\nThis is heavily inspired by, and intended to replace, [http-browserify](https://github.com/substack/http-browserify).\n\n## What does it do?\n\nIn accordance with its name, `stream-http` tries to provide data to its caller before\nthe request has completed whenever possible.\n\nThe following browsers support true streaming, where only a small amount of the request\nhas to be held in memory at once:\n* Chrome >= 43 (using the `fetch` API)\n* Firefox >= 9 (using `moz-chunked-arraybuffer` responseType with xhr)\n\nThe following browsers support pseudo-streaming, where the data is available before the\nrequest finishes, but the entire response must be held in memory:\n* Chrome\n* Safari >= 5, and maybe older\n* IE >= 10\n* Most other Webkit-based browsers, including the default Android browser\n\nAll browsers newer than IE8 support binary responses. All of the above browsers that\nsupport true streaming or pseudo-streaming support that for binary data as well\nexcept for IE10. Old (presto-based) Opera also does not support binary streaming either.\n\n### IE8 note:\nAs of version 2.0.0, IE8 support requires the user to supply polyfills for\n`Object.keys`, `Array.prototype.forEach`, and `Array.prototype.indexOf`. Example\nimplementations are provided in [ie8-polyfill.js](ie8-polyfill.js); alternately,\nyou may want to consider using [es5-shim](https://github.com/es-shims/es5-shim).\nAll browsers with full ES5 support shouldn't require any polyfills.\n\n## How do you use it?\n\nThe intent is to have the same API as the client part of the\n[Node HTTP module](https://nodejs.org/api/http.html). The interfaces are the same wherever\npractical, although limitations in browsers make an exact clone of the Node API impossible.\n\nThis module implements `http.request`, `http.get`, and most of `http.ClientRequest`\nand `http.IncomingMessage` in addition to `http.METHODS` and `http.STATUS_CODES`. See the\nNode docs for how these work.\n\n### Extra features compared to Node\n\n* The `message.url` property provides access to the final URL after all redirects. This\nis useful since the browser follows all redirects silently, unlike Node. It is available\nin Chrome 37 and newer, Firefox 32 and newer, and Safari 9 and newer.\n\n* The `options.withCredentials` boolean flag, used to indicate if the browser should send\ncookies or authentication information with a CORS request. Default false.\n\nThis module has to make some tradeoffs to support binary data and/or streaming. Generally,\nthe module can make a fairly good decision about which underlying browser features to use,\nbut sometimes it helps to get a little input from the developer.\n\n* The `options.mode` field passed into `http.request` or `http.get` can take on one of the\nfollowing values:\n  * 'default' (or any falsy value, including `undefined`): Try to provide partial data before\nthe request completes, but not at the cost of correctness for binary data or correctness of\nthe 'content-type' response header. This mode will also avoid slower code paths whenever\npossible, which is particularly useful when making large requests in a browser like Safari\nthat has a weaker JavaScript engine.\n  * 'allow-wrong-content-type': Provides partial data in more cases than 'default', but\nat the expense of causing the 'content-type' response header to be incorrectly reported\n(as 'text/plain; charset=x-user-defined') in some browsers, notably Safari and Chrome 42\nand older. Preserves binary data whenever possible. In some cases the implementation may\nalso be a bit slow. This was the default in versions of this module before 1.5.\n  * 'prefer-stream': Provide data before the request completes even if binary data (anything\nthat isn't a single-byte ASCII or UTF8 character) will be corrupted. Of course, this option\nis only safe for text data. May also cause the 'content-type' response header to be\nincorrectly reported (as 'text/plain; charset=x-user-defined').\n  * 'disable-fetch': Force the use of plain XHR regardless of the browser declaring a fetch\ncapability. Preserves the correctness of binary data and the 'content-type' response header.\n  * 'prefer-fast': Deprecated; now a synonym for 'default', which has the same performance\ncharacteristics as this mode did in versions before 1.5.\n\n### Features missing compared to Node\n\n* `http.Agent` is only a stub\n* The 'socket', 'connect', 'upgrade', and 'continue' events on `http.ClientRequest`.\n* Any operations, including `request.setTimeout`, that operate directly on the underlying\nsocket.\n* Any options that are disallowed for security reasons. This includes setting or getting\ncertain headers.\n* `message.httpVersion`\n* `message.rawHeaders` is modified by the browser, and may not quite match what is sent by\nthe server.\n* `message.trailers` and `message.rawTrailers` will remain empty.\n* Redirects are followed silently by the browser, so it isn't possible to access the 301/302\nredirect pages.\n* The `timeout` options in the `request` method is non-operational in Safari <= 5 and\nOpera <= 12.\n\n## Example\n\n``` js\nhttp.get('/bundle.js', function (res) {\n\tvar div = document.getElementById('result');\n\tdiv.innerHTML += 'GET /beep<br>';\n\n\tres.on('data', function (buf) {\n\t\tdiv.innerHTML += buf;\n\t});\n\n\tres.on('end', function () {\n\t\tdiv.innerHTML += '<br>__END__';\n\t});\n})\n```\n\n## Running tests\n\nThere are two sets of tests: the tests that run in Node (found in `test/node`) and the tests\nthat run in the browser (found in `test/browser`). Normally the browser tests run on\n[Sauce Labs](http://saucelabs.com/).\n\nRunning `npm test` will run both sets of tests, but in order for the Sauce Labs tests to run\nyou will need to sign up for an account (free for open source projects) and put the\ncredentials in a [`.zuulrc` file](https://github.com/defunctzombie/zuul/wiki/zuulrc).\n\nTo run just the Node tests, run `npm run test-node`.\n\nTo run the browser tests locally, run `npm run test-browser-local` and point your browser to\n`http://localhost:8080/__zuul`\n\n## License\n\nMIT. Copyright (C) John Hiesey and other contributors.\n","starsCount":4,"created":"2015-07-12T22:32:06.069Z","modified":"2017-06-12T20:21:54.314Z","lastPublisher":{"name":"jhiesey","email":"john@hiesey.com"},"owners":[{"name":"feross","email":"feross@feross.org"},{"name":"jhiesey","email":"john@hiesey.com"}],"other":{"_attachments":{},"_id":"stream-http","_nodeVersion":"8.0.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/stream-http-2.7.2.tgz_1497298914196_0.3043717509135604"},"_npmUser":{"name":"jhiesey","email":"john@hiesey.com"},"_npmVersion":"5.0.3","_rev":"12-9ee95e4547cda92fcc2e7dfa4eea6f3f","author":{"name":"John Hiesey"},"bugs":{"url":"https://github.com/jhiesey/stream-http/issues"},"directories":{},"dist-tags":{"latest":"2.7.2"},"dist":{"integrity":"sha512-c0yTD2rbQzXtSsFSVhtpvY/vS6u066PcXOX9kBB3mSO76RiUQzL340uJkGBWnlBg4/HZzqiUXtaVA7wcRcJgEw==","shasum":"40a050ec8dc3b53b33d9909415c02c0bf1abfbad","tarball":"https://registry.npmjs.org/stream-http/-/stream-http-2.7.2.tgz"},"maintainers":[{"name":"feross","email":"feross@feross.org"},{"name":"jhiesey","email":"john@hiesey.com"}],"readmeFilename":"README.md","time":{"modified":"2017-06-12T20:21:54.314Z","created":"2015-07-12T22:32:06.069Z","1.0.0":"2015-07-12T22:32:06.069Z","1.0.1":"2015-07-13T01:43:57.627Z","1.0.2":"2015-07-13T01:47:34.388Z","1.1.1":"2015-07-13T04:32:10.882Z","1.2.0":"2015-07-14T02:13:14.221Z","1.2.1":"2015-07-17T07:51:22.481Z","1.3.0":"2015-07-20T23:27:17.676Z","1.4.0":"2015-08-07T06:23:39.145Z","1.4.1":"2015-08-08T01:26:27.198Z","1.5.0":"2015-08-20T08:50:12.730Z","1.7.0":"2015-09-15T21:35:05.706Z","1.6.0":"2015-09-15T21:36:26.741Z","1.7.1":"2015-09-15T21:48:29.548Z","2.0.0":"2015-09-16T00:26:01.429Z","2.0.1":"2015-09-30T20:23:35.202Z","2.0.2":"2015-10-02T06:09:45.890Z","2.0.3":"2016-01-08T22:08:27.822Z","2.0.4":"2016-01-08T23:47:21.175Z","2.0.5":"2016-01-09T11:32:23.826Z","2.1.0":"2016-01-13T04:46:30.453Z","2.1.1":"2016-02-16T05:41:04.175Z","2.2.0":"2016-03-02T01:15:14.222Z","2.2.1":"2016-03-26T05:12:07.609Z","2.3.0":"2016-04-28T08:32:15.764Z","2.3.1":"2016-07-28T06:39:16.236Z","2.4.0":"2016-09-08T23:38:57.127Z","2.4.1":"2016-10-28T08:22:28.773Z","2.5.0":"2016-11-04T06:02:47.115Z","2.6.0":"2017-01-06T11:59:49.456Z","2.6.1":"2017-01-12T07:44:55.289Z","2.6.2":"2017-01-16T10:00:16.115Z","2.6.3":"2017-01-19T11:26:30.176Z","2.7.0":"2017-04-04T06:46:39.792Z","2.7.1":"2017-05-09T00:44:58.350Z","2.7.2":"2017-06-12T20:21:54.314Z"},"users":{"arulkumar":true,"wenbing":true,"yatsu":true,"filipve":true}}}