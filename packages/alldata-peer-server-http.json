{"name":"alldata-peer-server-http","version":"0.1.0","description":"AllData Peer HTTP server module","scripts":{"test":"node scripts/test.js"},"main":"index.js","devDependencies":{"nodeunit":"0.8.1"},"repository":"https://github.com/tristanls/alldata-peer-server-http","keywords":["alldata","peer","server","http"],"license":"MIT","readme":"# alldata-peer-server-http\n\n_Stability: 1 - [Experimental](https://github.com/tristanls/stability-index#stability-1---experimental)_\n\n[![NPM version](https://badge.fury.io/js/alldata-peer-server-http.png)](http://npmjs.org/package/alldata-peer-server-http)\n\nPeer Server HTTP module for [AllData](https://github.com/tristanls/alldata), a distributed master-less write-once immutable event store database implementing \"All Data\" part of [Lambda Architecture](http://www.slideshare.net/nathanmarz/runaway-complexity-in-big-data-and-a-plan-to-stop-it).\n\n## Usage\n\n```javascript\nvar AllDataPeerServer = require('alldata-peer-server-http');\nvar allDataPeerServer = new AllDataPeerServer({\n    hostname: 'localhost',\n    port: 8080\n});\n\nallDataPeerServer.on('_put', function (key, event, callback) {\n    console.log('received request to _put: ' + key + ' ' + event);\n    // process the _put\n    callback(); // indicate success\n});\n\nallDataPeerServer.listen(function () {\n    console.log('server listening...'); \n});\n```\n\n## Test\n\n    npm test\n\n## Overview\n\nAllDataPeerServer will listen to HTTP `POST` requests containing the `_put` request key and event encoded as a JSON string in the POST body.\n\n## Documentation\n\n### AllDataServer\n\n**Public API**\n\n  * [AllDataPeerServer.listen(options, \\[callback\\])](#alldatapeerserverlistenoptions-callback)\n  * [new AllDataPeerServer(options)](#new-alldatapeerserveroptions)\n  * [allDataPeerServer.close(\\[callback\\])](#alldatapeerserverclosecallback)\n  * [allDataPeerServer.listen(\\[callback\\])](#alldatapeerserverlistencallback)\n  * [Event '_put'](#event-_put)\n\n### AllDataPeerServer.listen(options, [callback])\n\n  * `options`: See `new AllDataPeerServer(options)` `options`.\n  * `callback`: See `allDataPeerServer.listen(callback)` `callback`.\n  * Return: _Object_ An instance of AllDataPeerServer with server running.\n\nCreates new AllDataPeerServer and starts the server.\n\n### new AllDataPeerServer(options)\n\n  * `options`: _Object_\n    * `hostname`: _String_ _(Default: undefined)_ Hostname for the server to listen on. If not specified, the server will accept connections directed to any IPv4 address (`INADDR_ANY`).\n    * `port`: _Integer_ _(Default: 8080)_ Port number for the server to listen on.\n\nCreates a new AllDataPeerServer instance.\n\n### allDataPeerServer.close([callback])\n\n  * `callback`: _Function_ _(Default: undefined)_ `function () {}` Optional callback to call once the server is stopped.\n\nStops the server from accepting new connections.\n\n### allDataPeerServer.listen([callback])\n\n  * `callback`: _Function_ _(Default: undefined)_ `function () {}` Optional callback to call once the server is up.\n\nStarts the server to listen to new connections.\n\n### Event `_put`\n\n  * `function (key, event, callback) {}`\n    * `key`: _String_ AllData key generated for the `event`.\n    * `event`: _Object_ JavaScript object representation of the event to `_put`.\n    * `callback`: _Function_ `function (error) {}` The callback to call with an error or success of the `_put` operation.\n\nEmitted when the server receives a new `_put` request from a peer client.\n\nSignal error via `callback(true)` and success via `callback()`.\n\n```javascript\nallDataPeerServer.on('_put', function (key, event, callback) {\n    console.log('received request to put: ' + key + ' ' + event); \n    // ... process the put\n    callback();\n});\n```","versions":[{"number":"0.1.0","date":"2013-10-16T05:08:53.426Z"}],"created":"2013-10-16T05:08:52.847Z","modified":"2013-10-16T05:08:53.426Z","lastPublisher":{"name":"tristanls","email":"tristan.slominski@gmail.com"},"owners":[{"name":"tristanls","email":"tristan.slominski@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"alldata-peer-server-http","_npmUser":{"name":"tristanls","email":"tristan.slominski@gmail.com"},"_npmVersion":"1.3.11","_rev":"1-d03e1eede4dfc052882a419f6cd6ac59","author":{"name":"Tristan Slominski","email":"tristan.slominski@gmail.com"},"bugs":{"url":"https://github.com/tristanls/alldata-peer-server-http/issues"},"directories":{},"dist-tags":{"latest":"0.1.0"},"dist":{"shasum":"885c5cdae454417da38243b02c45139712b11fb1","tarball":"http://registry.npmjs.org/alldata-peer-server-http/-/alldata-peer-server-http-0.1.0.tgz"},"maintainers":[{"name":"tristanls","email":"tristan.slominski@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2013-10-16T05:08:53.426Z","created":"2013-10-16T05:08:52.847Z","0.1.0":"2013-10-16T05:08:53.426Z"}}}