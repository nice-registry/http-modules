{"name":"http-hash-mocker","version":"2.0.0","description":"create mock data with http hash","scripts":{"test":"tap test/index.js --cov --coverage-report=html"},"repository":"https://github.com/wenbing/http-hash-mocker","keywords":[],"license":"ISC","devDependencies":{"faucet":"0.0.1","rimraf":"^2.5.4","servertest":"^1.2.1","tap":"^7.1.2","tape":"^4.4.0"},"dependencies":{"http-hash-router":"^1.1.0","http-methods":"^1.0.0","mkdirp":"^0.5.1","send-data":"^8.0.0"},"gitHead":"7ed8b53d9604358de58bf9756c3df7fffb1dadca","homepage":"https://github.com/wenbing/http-hash-mocker#readme","versions":[{"number":"1.0.0","date":"2016-02-04T10:30:51.588Z"},{"number":"1.1.0","date":"2016-03-19T04:31:41.710Z"},{"number":"1.1.1","date":"2016-03-19T05:18:56.762Z"},{"number":"1.1.2","date":"2016-04-01T15:32:48.750Z"},{"number":"1.2.0","date":"2016-05-28T06:53:16.987Z"},{"number":"2.0.0","date":"2016-09-16T13:28:55.617Z"}],"readme":"http-hash-mocker\n====\n\nhttp-hash-mocker create request handler\n\n\n```jsig\nimport { HttpRequest, HttpResponse } from \"node.http\"\n\ntype RoutePattern : String\n\ntype MockerOpts : {\n  basedir: String,\n  rootdir?: String,\n  locator?: String,\n  routes?: Array<RoutePattern>,\n  autoGenerate?: Boolean,\n  template?: String,\n}\n\ntype Router : (\n  req: HttpReqest,\n  res: HttpResponse,\n  opts: Object,\n  cb: Callback<Error, void>\n) => void\ntype Mocker : { router: HttpHashRouter } & Router\n\nhttp-hash-mocker : (mopts: MockerOpts) => Mocker\n```\n\n```js\nconst http = require('http');\nconst path = require('path');\nconst sendError = require('send-data/error');\n\nconst mocker = require('http-hash-mocker')({\n  basedir: path.resolve(__dirname, '../')\n  // rootdir: '/',\n  // locator: 'test/fixtures',\n  routes: [\n    '/api/photo/:photoid'\n  ],\n  autoGenerate: true,\n  template: `\nmodule.exports = {\n  statusCode: 200,\n  body: 'hello data template',\n};\n`,\n});\n\nconst server = http.createServer(function (req, res) {\n  mocker(req, res, {}, function (err) {\n    if (err) {\n      if (!res.finished) {\n        sendError(req, res, { body: err });\n      }\n    }\n  });\n});\n```\n\ntest/fixtures/api/photo/200.js\n\n```js\nmodule.exports = {\n  statusCode: 200,\n  body: 'OK',\n};\n```\n\ntest/fixtures/api/photo/:photoid.js\n\n```js\nconst sendPlain = require('send-data/plain');\n\nmodule.exports = function (req, res, opts, cb) {\n  sendPlain(req, res, 'Nine Nine Nine', cb);\n};\n```\n\nyou mock it.\n","starsCount":1,"created":"2016-02-04T10:30:51.588Z","modified":"2017-04-07T07:56:44.649Z","lastPublisher":{"name":"wenbing","email":"zhengwenbing119@gmail.com"},"owners":[{"name":"wenbing","email":"zhengwenbing119@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"http-hash-mocker","_nodeVersion":"4.4.4","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/http-hash-mocker-2.0.0.tgz_1474032533857_0.4106127037666738"},"_npmUser":{"name":"wenbing","email":"zhengwenbing119@gmail.com"},"_npmVersion":"3.10.5","_rev":"2-276a6480a4fcec2eb8bf1eb8a31744e5","_shasum":"6a1e96867ec333aa2ba5186377180562efdca25a","author":"","bugs":{"url":"https://github.com/wenbing/http-hash-mocker/issues"},"directories":{},"dist-tags":{"latest":"2.0.0"},"dist":{"shasum":"6a1e96867ec333aa2ba5186377180562efdca25a","tarball":"http://registry.npmjs.org/http-hash-mocker/-/http-hash-mocker-2.0.0.tgz"},"maintainers":[{"name":"wenbing","email":"zhengwenbing119@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-04-07T07:56:44.649Z","created":"2016-02-04T10:30:51.588Z","1.0.0":"2016-02-04T10:30:51.588Z","1.1.0":"2016-03-19T04:31:41.710Z","1.1.1":"2016-03-19T05:18:56.762Z","1.1.2":"2016-04-01T15:32:48.750Z","1.2.0":"2016-05-28T06:53:16.987Z","2.0.0":"2016-09-16T13:28:55.617Z"},"users":{"wenbing":true}}}