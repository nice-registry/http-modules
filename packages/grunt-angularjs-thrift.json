{"name":"grunt-angularjs-thrift","version":"1.1.0","dependencies":{"precondition":"1.0.0","concat-files":"0.1.0","fs-extra":"0.12.0","merge":"1.2.0","path":"0.11.14","shelljs":"0.3.0","recursive-readdir":"1.2.1","node-uuid":"1.4.2","underscore":"1.6.0"},"devDependencies":{},"engines":{"node":">=0.8.0"},"gitHead":"14d40eb78f0d1dbc73aa3c992d358308be527040","description":"Thrift Angular Code Generator ============================= Make Thrift rpc calls to your Thrift http server, from javascript in a browser, in a website or cordova/phonegap app.  This is a grunt module that compiles Thrift IDL into commonjs javascript, fo","scripts":{},"versions":[{"number":"0.1.0","date":"2015-05-07T04:21:47.356Z"},{"number":"1.0.0","date":"2015-05-19T18:09:53.383Z"},{"number":"0.1.1","date":"2015-05-19T18:13:00.606Z"},{"number":"1.1.0","date":"2015-07-10T18:53:29.862Z"}],"readme":"Thrift Angular Code Generator\n=============================\nMake Thrift rpc calls to your Thrift http server, from javascript in a browser, in a website or cordova/phonegap app.  This is a grunt module that compiles Thrift IDL into commonjs javascript, for use with browserify or webpack.  The generated angularjs module generates an angular service for each Thrift service, at runtime.\n\nDependencies\n============\nThrift: This is packaged with a pre-release snapshot of the Thrift 1.0 javascript runtime, from the [Apache Thrift](https://github.com/apache/thrift) repository, and so it depends on a Thrift 1.0 compiler, on the build machine.  You can build a Thrift 1.0 compiler from the Apache Thrift repository.  It will be backward compatible with Thrift 0.9.x IDL and server endpoints.\n\n\nExample Gruntfile.js Configuration\n==================================\n\n```javascript\n\n    module.exports = function (grunt) {\n      // load the grunt plugin\n      require('grunt-angularjs-thrift/compiler/grunt-thrift-generator')(grunt);\n\n      // configure the grunt plugin\n      grunt.initConfig({\n        thriftcompiler: {\n          deluxe: {\n            files: [\n              {\n                src: 'app/src/thrift/**/*.thrift',\n                dest: 'app/src/generated'\n              }\n            ],\n            thriftSrcRoot: 'app/src/thrift/', // root directory of the above src path\n            thriftBin: '~/dev/thrift/compiler/cpp/build/thrift', // this is your Thrift 1.0 compiler\n\n            // (optional) with this property, it will generate angular services (at runtime, so you won't find any generated js files with angular services)\n            angularServices: {\n              rootEndpointUrl: '/thrift-api/v1/', // root uri path of all your thrift service endpoints (domain name is configured elsewhere)\n              thriftRetryHandler: { // user-provided error handler, for thrift and http errors (see the example below)\n                angularModule: 'thrift-retry',\n                angularService: 'CustomThriftRetryHandler'\n              }\n            }\n          },\n          compileOnly: {\n            files: [\n              {\n                src: 'app/src/thrift/**/*.thrift',\n                dest: 'app/src/generated'\n              }\n            ],\n            thriftSrcRoot: 'app/src/thrift/',\n            thriftBin: '/Users/kmassaroni/dev/thrift/compiler/cpp/build/thrift'\n          }\n        }\n      });\n\n    };\n```\n\nExample: User-Provided Thrift Error Handler\n==========================================\n\nFor example, always retry the same exact thrift call once, for whatever reason.\n\n```javascript\n\n    // app/src/thrift/thrift-retry-service.js\n\n    require('angular');\n\n    var thriftRetryModule = angular.module('thrift-retry', []);\n    thriftRetryModule.service('CustomThriftRetryHandler', [function CustomThriftRetryHandler() {\n\n      this.handleError = function handleError(thriftClient, reason, state) {\n        if (state.callCount > 2) {\n          thriftClient.reject(reason);\n        } else {\n          thriftClient.retry();\n        }\n      };\n\n    }]);\n\n```\n\nExample: Load Thrift In Your App\n================================\n\n```javascript\n\n    // app/src/thrift/thrift-services.js\n\n    // the generated thrift js module returns a configuration object with instructions for generating angular services\n    var generated = require('../generated/compiled_thrift');\n\n    // the generated angular thrift services will depend on your custom angular service, for error handling\n    require('./thrift-retry-service');\n\n    // generate the angular thrift services, in the ngThriftServices module\n    require('grunt-angularjs-thrift/runtime/ng-thrift-services')(generated);\n\n    // your module must depend on the ngThriftServices module, provided by grunt-angularjs-thrift\n    angular.module('my-module', ['ngThriftServices']);\n\n    // the naming convention for angular thrift services is: [Thrift][your service name]. So, a thrift service named\n    // SomethingService would have an angular thrift service name ThriftSomethingService\n    angular.module('my-module').service('MyService', ['ThriftSomethingService', function (ThriftSomethingService) {\n      ThriftSomethingService.callRoomService().then(function (response) {\n        console.log('response from server:', response);\n      }, function (reason) {\n        console.log('thrift rpc call failed:', reason);\n      });\n    }]);\n\n```\n\n```idl\n\n    // app/src/thrift/services.thrift\n\n    service SomethingService {\n     string callRoomService()\n    }\n\n```\n\nTODO\n====\n\n1) more documentation\n2) example project\n","created":"2015-05-07T04:21:47.356Z","modified":"2015-07-10T18:53:29.862Z","lastPublisher":{"name":"massaroni","email":"kevinmassaroni@gmail.com"},"owners":[{"name":"massaroni","email":"kevinmassaroni@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"grunt-angularjs-thrift","_nodeVersion":"0.10.31","_npmUser":{"name":"massaroni","email":"kevinmassaroni@gmail.com"},"_npmVersion":"2.7.1","_rev":"1-0290d429b48a2db6483387ee5777c443","_shasum":"2596a710d3b3c0753ee322bfd0ca0d1375ad787d","author":{"name":"Kevin Massaroni","email":"kevinmassaroni@gmail.com"},"directories":{},"dist-tags":{"latest":"1.1.0"},"dist":{"shasum":"2596a710d3b3c0753ee322bfd0ca0d1375ad787d","tarball":"http://registry.npmjs.org/grunt-angularjs-thrift/-/grunt-angularjs-thrift-1.1.0.tgz"},"maintainers":[{"name":"massaroni","email":"kevinmassaroni@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-07-10T18:53:29.862Z","created":"2015-05-07T04:21:47.356Z","0.1.0":"2015-05-07T04:21:47.356Z","1.0.0":"2015-05-19T18:09:53.383Z","0.1.1":"2015-05-19T18:13:00.606Z","1.1.0":"2015-07-10T18:53:29.862Z"}}}