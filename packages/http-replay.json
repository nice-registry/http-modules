{"name":"http-replay","version":"1.0.2","description":"Dump http request for testing.","main":"index.js","scripts":{"test":"mocha test/test.js"},"license":"MIT","devDependencies":{"koa":"~1.0.0","mocha":"~2.3.3","should":"~7.1.0"},"dependencies":{"debug":"~2.2.0","object-assign":"~4.0.1","supertest":"~1.1.0"},"repository":"https://github.com/ibigbug/http-replay","gitHead":"85dfcd1edd8c258ba44c28132622c1880226f198","homepage":"https://github.com/ibigbug/http-replay#readme","readme":"http-replay\n------\n\n> A simple http dump-replay tool for testing koa-based apps.\n\n\n## Install\n\n    `$ npm instal http-replay --save-dev`\n\n## Usage\n\n### Dump\n\n```js\n\nconst dump_request = require('http-replay').dump\n\napp.use(dump_request({\n  enabled: DEBUG_MODE,\n  bypassStatic: true\n}))\n\n\n```\n\n### Testing with supertest\n\n```js\n\nlet server = require('./app')\nlet tester = require('http-replay').test\n\ndescribe('Application', function() {\n  this.timeout(10000)\n\n  it('should replay requests', function(done) {\n\n    tester({\n      server: server,\n      savePath: path.join(process.cwd(), 'http-replay-dump.json'),\n      fuzzyHtml: false\n    }).promise.then(function(results) {\n      let errs = results.filter(function(e){ return e.err })\n      if (errs.length) {\n        done(new Error(errs.map(function(e){ return `Path: ${e.res.req.path} \\t ${e.err}`}).join('\\n')))\n      } else {\n        done()\n      }\n    })\n\n  })\n})\n\n```\n\n\n## Options\n\n### Dump\n\n* enabled - Bool\n* savePath - String, path to save dump data\n* bypassStatic - Bool, Bypath static file or not\n* verbose: Bool, pretty print dump data or not\n\n\n### Test\n\n* savePath - String, where your dump data stores\n* fuzzyHtml - String, fuzzy expect(body) when Content-Type is `html`\n\n\n## License\n\nMIT\n","versions":[{"number":"1.0.0","date":"2015-10-10T08:07:26.410Z"},{"number":"1.0.1","date":"2015-10-10T10:59:45.465Z"},{"number":"1.0.2","date":"2015-10-15T12:13:31.564Z"}],"created":"2015-10-10T08:07:26.410Z","modified":"2015-10-15T12:13:31.564Z","lastPublisher":{"name":"ibigbug","email":"xiaobayuwei@gmail.com"},"owners":[{"name":"ibigbug","email":"xiaobayuwei@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"http-replay","_nodeVersion":"2.3.3","_npmUser":{"name":"ibigbug","email":"xiaobayuwei@gmail.com"},"_npmVersion":"2.11.3","_rev":"1-4242efad084ffb5936b398cf80609929","_shasum":"f80b3c88be4e16279d58fd63e4a76b940072eca3","author":{"name":"Yuwei Ba","email":"i@xiaoba.me"},"bugs":{"url":"https://github.com/ibigbug/http-replay/issues"},"directories":{},"dist-tags":{"latest":"1.0.2"},"dist":{"shasum":"f80b3c88be4e16279d58fd63e4a76b940072eca3","tarball":"http://registry.npmjs.org/http-replay/-/http-replay-1.0.2.tgz"},"maintainers":[{"name":"ibigbug","email":"xiaobayuwei@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-10-15T12:13:31.564Z","created":"2015-10-10T08:07:26.410Z","1.0.0":"2015-10-10T08:07:26.410Z","1.0.1":"2015-10-10T10:59:45.465Z","1.0.2":"2015-10-15T12:13:31.564Z"}}}