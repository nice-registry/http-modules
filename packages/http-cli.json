{"name":"http-cli","version":"2.0.0","description":"Simple Node.js command-line HTTP server with CORS support.","license":"MIT","repository":"https://github.com/playmedia/http-cli","homepage":"https://github.com/playmedia/http-cli","keywords":["cli","command","cors","http","server"],"dependencies":{"command-line-args":"3.0.5","command-line-usage":"3.0.8","connect":"3.5.0","cors":"2.8.1","morgan":"1.7.0","serve-index":"1.8.0","serve-static":"1.11.1"},"devDependencies":{"david":"9.0.0"},"scripts":{"check":"david"},"bin":{"http-cli":"./bin/http-cli.js"},"main":"./lib/main.js","gitHead":"3b5c708ce3e3142d45af327691de3ab5b584be7e","versions":[{"number":"1.0.0","date":"2016-04-18T11:47:42.606Z"},{"number":"1.1.0","date":"2016-04-25T14:40:11.235Z"},{"number":"1.2.0","date":"2017-01-13T17:10:58.050Z"},{"number":"1.2.1","date":"2017-01-13T17:15:55.909Z"},{"number":"1.2.2","date":"2017-01-16T11:15:47.804Z"},{"number":"2.0.0","date":"2017-01-16T18:51:43.205Z"}],"readme":"# http-cli\n\n[![Dependency Status](https://david-dm.org/playmedia/http-cli.svg)](https://david-dm.org/playmedia/http-cli)\n\nSimple Node.js command-line HTTP server with CORS support.\n\nIt uses the following modules and middlewares :\n\n* [command-line-args](https://www.npmjs.com/package/command-line-args)\n* [command-line-usage](https://github.com/75lb/command-line-usage)\n* [connect](https://www.npmjs.com/package/connect)\n* [cors](https://www.npmjs.com/package/cors)\n* [morgan](https://www.npmjs.com/package/morgan)\n* [serve-index](https://www.npmjs.com/package/serve-index)\n* [serve-static](https://www.npmjs.com/package/serve-static)\n\nFor more details, see also [Connect/Express middlewares](https://github.com/expressjs).\n\n## Installation\n\n```\nnpm install http-cli\n```\n\n## Usage\n\nCommand line options are :\n\n```\nOptions\n\n  -h, --help            Display this usage help.\n  -p, --port number     Listen port number.\n  -a, --host string     Listen ip address or hostname.\n  -r, --root string     Root folder path.\n  -c, --config string   JSON configuration load file path.\n  -d, --dump string     Default JSON configuration save file path.\n```\n\nDefault behaviour is :\n\n* accept connections on `127.0.0.1` and port 8000\n* use [combined](https://www.npmjs.com/package/morgan#combined) log output\n* use current directory as web root\n* directory listing is enabled\n* send \"index.html\" files in response to a request on a directory\n* reflect the request origin header in `Access-Control-Allow-Origin` CORS header\n\n## Configuration\n\nAn optionnal JSON configuration file can be loaded with `--config` option.\n\nExample configuration file :\n\n```json\n{\n  \"port\": 3000,\n  \"host\": \"0.0.0.0\",\n  \"root\": \"./web/\",\n  \"middlewares\": [\n    {\n      \"name\": \"cors\",\n      \"cfg\": {\n        \"origin\": \"http://example.com\"\n      }\n    },\n    {\n      \"name\": \"serveStatic\",\n      \"cfg\": {\n        \"index\": [\"index.html\", \"default.html\"]\n      }\n    },\n    {\n      \"name\": \"serveIndex\",\n      \"cfg\": {\n        \"view\": \"details\"\n      }\n    }\n  ]\n}\n```\n\nFor middlewares options, see links above.\n\nDefault configuration is equivalent to :\n\n```json\n{\n  \"port\": 8000,\n  \"host\": \"127.0.0.1\",\n  \"root\": \"./\",\n  \"logFormat\": \"combined\",\n  \"middlewares\": [\n    {\n      \"name\": \"cors\",\n      \"cfg\": {\n        \"origin\": true\n      }\n    },\n    {\n      \"name\": \"morgan\",\n      \"cfg\": {}\n    },\n    {\n      \"name\": \"serveStatic\",\n      \"cfg\": {}\n    },\n    {\n      \"name\": \"serveIndex\",\n      \"cfg\": {\n        \"icons\": true\n      }\n    }\n  ]\n}\n```\n\nThe default configuration can be saved to file with `--dump` option.\n\n## Node.js module\n\n```javascript\nconst http = require('http-cli')\n\nconst config = new http.Config()\n// config.loadFromFile('path/to/config.json')\n// config.port(8090)\n\nhttp.server(config)\n  .listen(config.port(), config.host(), function() {\n    console.log('http server listening on ' + config.host() + ':' + config.port())\n  })\n```\n\nMiddlewares are \"used\" in the same order as the configuration array.\n\nSome configuration helpers are available to facilitate the addition of middleware.\n\n```javascript\nconst http = require('http-cli')\n\nconst config = new http.Config()\n\nconfig.use(function(req, res, next) {\n  // this middleware is used at the end\n  next()\n})\n\nconfig.useBefore('serveIndex', function(req, res, next) {\n  // this middleware is used before serveIndex middleware\n  next()\n})\n\nconfig.useAfter('cors', function(req, res, next) {\n  // this middleware is used after cors middleware\n  next()\n})\n\nhttp.server(config)\n  .listen(config.port(), config.host(), function() {\n    console.log('http server listening on ' + config.host() + ':' + config.port())\n  })\n```\n\n## License\n\n[MIT](LICENSE)\n","created":"2016-04-18T11:47:42.606Z","modified":"2017-01-16T18:51:43.205Z","lastPublisher":{"name":"kslimani","email":"karim@playmedia.fr"},"owners":[{"name":"kslimani","email":"karim@playmedia.fr"}],"other":{"_attachments":{},"_from":".","_id":"http-cli","_nodeVersion":"5.3.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/http-cli-2.0.0.tgz_1484592702670_0.1627107304520905"},"_npmUser":{"name":"kslimani","email":"karim@playmedia.fr"},"_npmVersion":"3.3.12","_rev":"5-72873ec620ee10c0f8e81a65e09c8a76","_shasum":"551e07edd1ed76f81c433bd4b0a7d7deb0642f12","author":{"name":"playmedia"},"bugs":{"url":"https://github.com/playmedia/http-cli/issues"},"directories":{},"dist-tags":{"latest":"2.0.0"},"dist":{"shasum":"551e07edd1ed76f81c433bd4b0a7d7deb0642f12","tarball":"https://registry.npmjs.org/http-cli/-/http-cli-2.0.0.tgz"},"maintainers":[{"name":"kslimani","email":"karim@playmedia.fr"}],"readmeFilename":"README.md","time":{"modified":"2017-01-16T18:51:43.205Z","created":"2016-04-18T11:47:42.606Z","1.0.0":"2016-04-18T11:47:42.606Z","1.1.0":"2016-04-25T14:40:11.235Z","1.2.0":"2017-01-13T17:10:58.050Z","1.2.1":"2017-01-13T17:15:55.909Z","1.2.2":"2017-01-16T11:15:47.804Z","2.0.0":"2017-01-16T18:51:43.205Z"}}}