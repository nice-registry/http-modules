{"name":"hydra-plugin-http","version":"0.3.2","description":"Hydra plugin that adds traditional HTTP requests, routing and proxy capabilities to your hydra micro-service cluster.","main":"index.js","scripts":{"test":"mocha tests"},"repository":"https://github.com/jkyberneees/hydra-plugin-http","keywords":["http","hydra","request","router","proxy"],"license":"MIT","homepage":"https://github.com/jkyberneees/hydra-plugin-http#readme","dependencies":{"axios":"0.x.x","http-proxy":"1.x.x","route-parser":"0.x.x","uuid":"^3.0.1"},"devDependencies":{"chai":"^3.5.0"},"engines":{"node":">=7.x"},"files":["LICENSE","README.md","index.js","libs/"],"gitHead":"677dc763fa554bed9bad99de86b65d92d60277a5","versions":[{"number":"0.1.0","date":"2017-04-26T13:36:38.822Z"},{"number":"0.1.1","date":"2017-04-26T13:43:04.000Z"},{"number":"0.1.2","date":"2017-04-26T14:10:00.842Z"},{"number":"0.2.0","date":"2017-04-26T14:39:04.451Z"},{"number":"0.2.1","date":"2017-04-27T10:10:34.136Z"},{"number":"0.2.2","date":"2017-04-27T16:15:21.819Z"},{"number":"0.2.3","date":"2017-04-27T16:47:03.438Z"},{"number":"0.3.0","date":"2017-05-02T10:56:52.899Z"},{"number":"0.3.1","date":"2017-05-03T14:23:11.090Z"},{"number":"0.3.2","date":"2017-05-21T09:37:34.551Z"}],"readme":"# hydra-plugin-http\nHydra plugin that enables traditional HTTP requests, routing and proxy capabilities to your micro-service infrastructure based on [hydra](https://www.hydramicroservice.com/).\n\n# Usage\n## Install Dependencies\n```bash\nnpm i hydra-plugin-http --save\n```\n> This plugin requires hydra version >1.2.10\n## Register the plugin\n```js\nconst hydra = require('hydra');\nconst HydraHttpPlugin = require('hydra-plugin-http').HydraHttpPlugin;\nhydra.use(new HydraHttpPlugin());\n\n// ...\nawait hydra.init({\n    hydra: {\n        'serviceName': 'your-hydra-service-name',\n        'serviceDescription': 'Just another hydra service...',\n        'serviceIP': '127.0.0.1',\n        'servicePort': 0,\n        'serviceType': 'native',\n        'serviceVersion': '1.0.0',\n        'redis': {\n            'host': '127.0.0.1',\n            'port': 6379,\n            'db': 15\n        },\n        'plugins': {\n            'hydra-plugin-http': { // the plugin can be configured in this point or using the constructor\n                'lb': {},\n                'proxy': {}\n            }\n        }\n    }\n});\nawait hydra.registerService();\n```\n## Use it ;)\n\nMaking HTTP requests to internal/external micro-services using [axios](https://www.npmjs.com/package/axios):\n```js\n// GET request targeting an internal endpoint in the cluster\nlet res = await hydra.http.request('/v1/email/config');\n\n// POST request targeting an internal endpoint in the cluster\nres = await hydra.http.request.post('/v1/email/send', {\n    to: 'account@email.com'\n    // ...\n});\n\n// GET request targeting an external endpoint\nres = await hydra.http.request('https://www.google.de/?q=hydra+microservices');\n```\n> The **request** object is literally an instance of *axios*, with automatic URL resolving for internal micro-services. As simple as it can be ;)  \n> Any URL with the schema */:servicename/:route* or */:route*, will be automatically translated into a valid URL in the micro-service cluster. \n\n### Capturing request events for pre/post processing\n```js\nhydra.on('http-plugin-request', e => {\n    // example of how to set the Authorization header on internal calls\n    if ('request' == e.name && 'info' == e.name.level && e.data.targetHydraCluster) {\n        e.data.headers['Authorization'] = `Bearer ${getJwtToken()}`;\n    }\n});\n```\n\n## Demos\nDemos available into [demos folder](demos) on the git repository: https://github.com/jkyberneees/hydra-plugin-http\n\n# Next topics\n- [The Service Load Balancer](docs/lb.md)\n- [The HTTP Proxy/Router](docs/proxy.md)\n","created":"2017-04-26T13:36:38.822Z","modified":"2017-05-21T09:37:34.551Z","lastPublisher":{"name":"jkyberneees","email":"kyberneees@gmail.com"},"owners":[{"name":"jkyberneees","email":"kyberneees@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"hydra-plugin-http","_nodeVersion":"7.10.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/hydra-plugin-http-0.3.2.tgz_1495359453674_0.9518372581806034"},"_npmUser":{"name":"jkyberneees","email":"kyberneees@gmail.com"},"_npmVersion":"4.6.1","_rev":"8-99c556b17ec987336c78242f316322d2","_shasum":"c97f73e2ed850dcbf5166de38334cec6591d023f","author":{"name":"Rolando Santamaria Maso","email":"kyberneees@gmail.com"},"bugs":{"url":"https://github.com/jkyberneees/hydra-plugin-http/issues"},"directories":{},"dist-tags":{"latest":"0.3.2"},"dist":{"shasum":"c97f73e2ed850dcbf5166de38334cec6591d023f","tarball":"https://registry.npmjs.org/hydra-plugin-http/-/hydra-plugin-http-0.3.2.tgz"},"maintainers":[{"name":"jkyberneees","email":"kyberneees@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-05-21T09:37:34.551Z","created":"2017-04-26T13:36:38.822Z","0.1.0":"2017-04-26T13:36:38.822Z","0.1.1":"2017-04-26T13:43:04.000Z","0.1.2":"2017-04-26T14:10:00.842Z","0.2.0":"2017-04-26T14:39:04.451Z","0.2.1":"2017-04-27T10:10:34.136Z","0.2.2":"2017-04-27T16:15:21.819Z","0.2.3":"2017-04-27T16:47:03.438Z","0.3.0":"2017-05-02T10:56:52.899Z","0.3.1":"2017-05-03T14:23:11.090Z","0.3.2":"2017-05-21T09:37:34.551Z"}}}