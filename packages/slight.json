{"name":"slight","version":"1.0.1","description":"Fast, lightweight and dependency-free HTTP server framework designed for APIs, similar to Express.","main":"lib/Slight.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/lunoio/slight","keywords":["api","server","http","express","restify","framework","web","rest","restful","router","luno"],"license":"MIT","homepage":"https://github.com/lunoio/slight","gitHead":"ac12e037d16ac997375c3ba70b1f364dcfeaa83d","versions":[{"number":"1.0.0","date":"2016-01-29T12:25:49.622Z"},{"number":"1.0.1","date":"2016-03-24T11:40:12.686Z"}],"readme":"# Slight\n\nSlight is a fast, lightweight and dependency-free HTTP server framework designed for APIs, similar to Express.\n\nUsed at [Luno](https://luno.io) to power our User Management API.\n\n## Usage\n\n```js\nvar Slight = require('slight');\nvar slight = new Slight({\n  port: 3000\n});\n\nslight.get('/', function(req, res, next) {\n  next(null, 'Hi there!');\n});\n\nslight.start(function() {\n  console.log('listening');\n});\n```\n\n## Detailed Usage\n\nMiddlewares are run in order from `before` -> `use` -> route functions -> `finish` -> `after`\n\n```js\nvar Slight = require('slight');\nvar slight = new Slight({\n  port: 3000,\n  optional_trailing_slash: true\n});\n\nslight.before(function(req, res, next) {\n  req.startTime = process.hrtime();\n  next();\n});\n\nslight.after(function(req, res, next) {\n  var time = process.hrtime(req.startTime);\n  var ms = time[0] * 1000 + time[1] / 1000000;\n  console.log(req.url + ': took ' + ms + ' ms');\n  next();\n});\n\nslight.use(function(req, res, next) {\n  var validAuth = true;\n  if (validAuth) return next();\n\n  next(new Error('Invalid Auth'));\n});\n\n// method, route, function(s)\nslight.route('GET', '/users/:name', function(req, res, next) {\n  next(null, { name: req.params.name });\n});\n\n// A finish function should be defined to handle all responses\nslight.finish(function(err, body, req, res) {\n  res.setHeader('Server', 'Slight');\n\n  if (err) {\n    return res.send(err.status || 500, err.message);\n  }\n\n  if (typeof body === 'object') {\n    res.setHeader('Content-Type', 'application/json; charset=utf-8');\n    body = JSON.stringify(body);\n  }\n\n  res.send(body);\n});\n\nslight.start(function() {\n  console.log('listening');\n});\n```\n\nIf you need more detailed usage examples, take a look at the example directory, the source code (it's quite small and hopefully fairly easy to understand) or create an issue!\n","created":"2016-01-29T12:25:49.622Z","modified":"2016-03-24T11:40:12.686Z","lastPublisher":{"name":"simontabor","email":"me@simontabor.com"},"owners":[{"name":"simontabor","email":"me@simontabor.com"}],"other":{"_attachments":{},"_from":".","_id":"slight","_nodeVersion":"4.2.6","_npmOperationalInternal":{"host":"packages-13-west.internal.npmjs.com","tmp":"tmp/slight-1.0.1.tgz_1458819610281_0.6360429597552866"},"_npmUser":{"name":"simontabor","email":"me@simontabor.com"},"_npmVersion":"2.14.12","_rev":"1-935dc5998b0cb70bf8a0efbf7f43c72e","_shasum":"956279ebf7730aa3286566b77d4074dcb0b7acdd","author":{"name":"Simon Tabor"},"bugs":{"url":"https://github.com/lunoio/slight/issues"},"directories":{},"dist-tags":{"latest":"1.0.1"},"dist":{"shasum":"956279ebf7730aa3286566b77d4074dcb0b7acdd","tarball":"http://registry.npmjs.org/slight/-/slight-1.0.1.tgz"},"maintainers":[{"name":"simontabor","email":"me@simontabor.com"}],"readmeFilename":"README.md","time":{"modified":"2016-03-24T11:40:12.686Z","created":"2016-01-29T12:25:49.622Z","1.0.0":"2016-01-29T12:25:49.622Z","1.0.1":"2016-03-24T11:40:12.686Z"}}}