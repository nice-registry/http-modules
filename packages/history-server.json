{"name":"history-server","version":"1.2.0","description":"An HTTP server for single-page apps that use the HTML5 history API","repository":"https://github.com/mjackson/history-server","preferGlobal":true,"license":"MIT","bin":{"history-server":"./history-server.js"},"dependencies":{"express":"^4.14.0","glob":"^7.1.1","http-proxy":"^1.16.2"},"keywords":["history","pushState","html5","express"],"scripts":{"start":"node server.js"},"gitHead":"6be6c7ab32bcc4785aa946e8e6365797ba013cbe","homepage":"https://github.com/mjackson/history-server#readme","versions":[{"number":"0.0.1","date":"2016-11-15T05:27:25.196Z"},{"number":"0.1.0","date":"2016-11-15T05:39:27.630Z"},{"number":"0.2.0","date":"2016-11-15T20:01:51.517Z"},{"number":"1.0.0","date":"2017-01-30T19:56:10.082Z"},{"number":"1.1.0","date":"2017-04-20T22:10:00.891Z"},{"number":"1.1.1","date":"2017-04-21T00:34:10.378Z"},{"number":"1.2.0","date":"2017-04-21T02:02:33.465Z"}],"readme":"# history-server\n\n[`history-server`](https://npmjs.com/package/history-server) is an HTTP server for websites that are composed of many single-page apps (i.e. apps that use the HTML5 `history` API including `history.pushState`, `history.replaceState`, and the `popstate` event). The server is capable of serving many apps from various directories and even different hosts, all from the same domain.\n\n## Installation\n\n    npm install -g history-server\n\n## Usage\n\nThe easiest way to use `history-server` is to point the binary at an `app` directory that contains your `index.html` file.\n\n    $ history-server app\n\nAlternatively, you may serve many apps from the same domain using a directory that contains many apps or a config file (see [Configuration](#configuration) below).\n\n    $ history-server -a apps\n    $ history-server -c config.js\n\nYou may use the following flags:\n\n    -h, --help      Show this help message\n    -a, --apps      The path to a directory that contains many apps\n    -c, --config    The path to a module that exports the server config\n    -p, --port      The port to bind to, defaults to 8080\n\n## Configuration\n\n`history-server` accepts an array of \"apps\" as configuration. Each app is an object of `{ path, root, options, proxy }` where:\n\n- `path` is the URL pattern, i.e. /the/url (required)\n- `root` is the root directory of the app on disk (optional, only for same host)\n- `options` are [`express.static`](http://expressjs.com/en/api.html#express.static) options (optional, only used with `root`)\n- `proxy` is the target URL on another host (e.g. `http://www.example.com/path`) or [an options object](https://github.com/nodejitsu/node-http-proxy#options) to `http-proxy` (optional, for different hosts)\n\nSave your configuration in a module called `config.js`, then start a server with `history-server -c config.js`.\n\n## Simple Configuration on a Single Host\n\nTo serve a single app, just point history-server at a root directory that contains an index.html file to serve at the / URL, using e.g. `history-server app`.\n\nTo serve many apps on the same host, you'll need a way to tell history-server which apps should be served at which URLs. An easy way to do this is to just use the file system to layout your apps like you want your URLs to look.\n\nFor example, consider the following directory tree:\n\n    apps/\n    ├── one\n    │   ├── index.html\n    │   └── index.js\n    └── two\n        ├── index.html\n        ├── index.js\n        └── three\n            ├── index.html\n            └── index.js\n\nYou can use `history-server -a apps` serve all 3 of these apps at the following URLs, in matching order:\n\n    /two/three => apps/two/three\n    /one       => apps/one\n    /two       => apps/two\n\nCare is taken to match the apps with the longest URLs first, because they are the most specific.\n\n## Usage in node\n\n```js\nconst path = require('path')\nconst { createServer } = require('history-server')\n\nconst server = createServer([\n  // Any request that begins with \"/one\" will use apps/one/index.html\n  { path: '/one',\n    root: path.resolve(__dirname, 'apps/one')\n  },\n\n  // Any request that begins with \"/two/three\" will serve apps/two/index.html\n  { path: '/two/three',\n    root: path.resolve(__dirname, 'apps/two')\n  },\n\n  // Any request that begins with \"/two\" will serve apps/two/index.html\n  { path: '/two',\n    root: path.resolve(__dirname, 'apps/two')\n  },\n\n  // Proxies all requests to \"/proxy\" through to another host\n  { path: '/proxy',\n    proxy: 'http://www.example.com/path'\n  }\n])\n```\n\n## Tips\n\nWhen mounting multiple HTML5 apps on the same domain, you should be sure to:\n\n- **use relative URLs** when you link to resources such as scripts and images, i.e. use `<script src=\"index.js\"></script>` instead of `<script src=\"/index.js\"></script>`. Otherwise your request will go to the root URL instead of your app\n- **use [`<base href>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base)** to specify the base URL to use for all those relative URLs. This should be the `path` of your app with a trailing slash, e.g. `/one/` for an app with a `path` of `/one`\n\nThat's it! Enjoy :)\n","created":"2016-11-15T05:27:25.196Z","modified":"2017-04-21T02:02:33.465Z","lastPublisher":{"name":"mjackson","email":"mjijackson@gmail.com"},"owners":[{"name":"mjackson","email":"mjijackson@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"history-server","_nodeVersion":"6.10.1","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/history-server-1.2.0.tgz_1492740151583_0.537106127012521"},"_npmUser":{"name":"mjackson","email":"mjijackson@gmail.com"},"_npmVersion":"3.10.10","_rev":"7-063ba7126d793cacee6329f07500913c","_shasum":"3de89ef830f53006672fbfd538a8301e5b0d370c","author":{"name":"Michael Jackson"},"bugs":{"url":"https://github.com/mjackson/history-server/issues"},"directories":{},"dist-tags":{"latest":"1.2.0"},"dist":{"shasum":"3de89ef830f53006672fbfd538a8301e5b0d370c","tarball":"https://registry.npmjs.org/history-server/-/history-server-1.2.0.tgz"},"maintainers":[{"name":"mjackson","email":"mjijackson@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-04-21T02:02:33.465Z","created":"2016-11-15T05:27:25.196Z","0.0.1":"2016-11-15T05:27:25.196Z","0.1.0":"2016-11-15T05:39:27.630Z","0.2.0":"2016-11-15T20:01:51.517Z","1.0.0":"2017-01-30T19:56:10.082Z","1.1.0":"2017-04-20T22:10:00.891Z","1.1.1":"2017-04-21T00:34:10.378Z","1.2.0":"2017-04-21T02:02:33.465Z"}}}