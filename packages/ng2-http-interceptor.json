{"name":"ng2-http-interceptor","version":"1.4.0","scripts":{"prebuild":"rimraf dist compiled","build":"npm run build:main","build:main":"ngc -p tsconfig.aot.json","postbuild:main":"npm run build:umd","build:umd":"rollup -c rollup.config.js","postbuild:umd":"uglifyjs -c --screw-ie8 --comments -o dist/bundles/ng2-http-interceptor.umd.min.js dist/bundles/ng2-http-interceptor.umd.js","check-coverage":"istanbul check-coverage --functions 75 --lines 75 --branches 75 --statements 75","ci":"npm run lint && npm run test:single && npm run check-coverage","commit":"git-cz","lint":"tslint src/**/*.ts","prepublish":"npm run build","test":"karma start","test:single":"npm run test -- --single-run","test:report":"cd coverage && codecov","semantic-release":"semantic-release pre && npm publish && semantic-release post"},"repository":"https://github.com/gund/ng2-http-interceptor","keywords":["angular","angular2","http","interceptor","library"],"license":"MIT","main":"./dist/index.js","typings":"./dist/index.d.ts","dependencies":{},"peerDependencies":{"@angular/core":"^2.4.0","@angular/http":"^2.4.0","rxjs":"^5.0.1"},"devDependencies":{"@angular/common":"^2.4.0","@angular/compiler":"^2.4.0","@angular/compiler-cli":"^2.4.0","@angular/core":"^2.4.0","@angular/forms":"^2.4.0","@angular/http":"^2.4.0","@angular/platform-browser":"^2.4.0","@angular/platform-browser-dynamic":"^2.4.0","@angular/platform-server":"^2.4.0","@angular/router":"^3.4.0","@types/jasmine":"^2.2.30","angular2-template-loader":"^0.6.0","awesome-typescript-loader":"^2.2.3","codecov":"^1.0.1","codelyzer":"~0.0.26","commitizen":"^2.9.2","core-js":"^2.4.1","cz-conventional-changelog":"^1.2.0","ghooks":"^2.0.0","istanbul":"^0.4.5","jasmine-core":"2.5.2","jasmine-spec-reporter":"3.0.0","json-loader":"^0.5.4","karma":"1.3.0","karma-chrome-launcher":"^2.0.0","karma-cli":"^1.0.1","karma-jasmine":"^1.1.0","karma-remap-istanbul":"^0.4.0","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.8.0","postcss-loader":"^1.2.1","protractor":"4.0.14","raw-loader":"^0.5.1","rimraf":"^2.5.4","rollup":"^0.40.0","rxjs":"^5.0.1","semantic-release":"^6.3.2","source-map":"^0.5.6","source-map-loader":"^0.1.5","sourcemap-istanbul-instrumenter-loader":"^0.2.0","ts-helpers":"^1.1.2","ts-node":"2.0.0","tslint":"3.15.1","tslint-loader":"^2.1.4","typescript":"2.0.10","typings":"^2.1.0","uglifyjs":"^2.4.10","url-loader":"^0.5.7","webpack":"2.1.0-beta.22","webpack-dev-server":"2.1.0-beta.9","webpack-md5-hash":"0.0.5","webpack-merge":"^2.0.0","webpack-sources":"^0.1.3","zone.js":"^0.7.4"},"engines":{"node":">=6.0.0"},"config":{"ghooks":{"pre-commit":"echo \"Verifying commit...\" && npm run ci"},"commitizen":{"path":"./node_modules/cz-conventional-changelog"}},"gitHead":"00c3307bc0165d67f5627a50c7371a8a9fb24c3c","description":"> Http Interceptor library for Angular 2","homepage":"https://github.com/gund/ng2-http-interceptor#readme","deprecated":"WARNING: This project has been renamed to ng-http-interceptor. Install using ng-http-interceptor instead.","versions":[{"number":"0.2.7","date":"2016-09-30T16:17:07.711Z"},{"number":"0.2.8","date":"2016-09-30T16:32:49.731Z"},{"number":"0.2.9","date":"2016-09-30T16:49:07.987Z"},{"number":"0.2.12","date":"2016-09-30T19:20:14.669Z"},{"number":"0.2.13","date":"2016-09-30T21:41:14.177Z"},{"number":"0.2.14","date":"2016-10-02T01:02:15.422Z"},{"number":"0.3.0","date":"2016-10-02T15:22:06.995Z"},{"number":"0.4.0","date":"2016-10-03T21:28:58.631Z"},{"number":"0.4.1","date":"2016-10-17T19:10:00.544Z"},{"number":"0.4.2","date":"2016-10-28T16:45:27.980Z"},{"number":"1.0.0","date":"2016-12-13T18:06:39.078Z"},{"number":"1.0.1","date":"2016-12-13T18:22:12.864Z"},{"number":"1.0.2","date":"2016-12-13T18:44:56.310Z"},{"number":"1.1.0","date":"2016-12-13T19:03:22.811Z"},{"number":"1.1.1","date":"2016-12-14T16:18:27.605Z"},{"number":"1.2.0","date":"2016-12-16T19:08:54.524Z"},{"number":"1.2.1","date":"2016-12-16T19:28:23.054Z"},{"number":"1.2.2","date":"2016-12-16T19:41:11.933Z"},{"number":"1.2.3","date":"2016-12-16T19:59:28.026Z"},{"number":"1.2.4","date":"2016-12-16T20:07:28.245Z"},{"number":"1.2.5","date":"2016-12-16T21:07:42.015Z"},{"number":"1.2.6","date":"2016-12-23T12:04:13.517Z"},{"number":"1.3.0","date":"2016-12-23T18:15:11.763Z"},{"number":"1.3.1","date":"2016-12-25T17:46:16.980Z"},{"number":"1.4.0","date":"2017-01-05T14:37:02.549Z"}],"readme":"# ng2-http-interceptor\n\n> Http Interceptor library for Angular 2\n\n[![Travis CI](https://img.shields.io/travis/gund/ng2-http-interceptor/master.svg?maxAge=2592000)](https://travis-ci.org/gund/ng2-http-interceptor)\n[![Coverage](https://img.shields.io/codecov/c/github/gund/ng2-http-interceptor.svg?maxAge=2592000)](https://codecov.io/gh/gund/ng2-http-interceptor)\n[![Code Climate](https://img.shields.io/codeclimate/github/gund/ng2-http-interceptor.svg?maxAge=2592000)](https://codeclimate.com/github/gund/ng2-http-interceptor)\n[![Npm](https://img.shields.io/npm/v/ng2-http-interceptor.svg?maxAge=2592000)](https://badge.fury.io/js/ng2-http-interceptor)\n[![Npm Downloads](https://img.shields.io/npm/dt/ng2-http-interceptor.svg?maxAge=2592000)](https://www.npmjs.com/package/ng2-http-interceptor)\n[![Licence](https://img.shields.io/npm/l/ng2-http-interceptor.svg?maxAge=2592000)](https://github.com/gund/ng2-http-interceptor/blob/master/LICENSE)\n[![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)](https://github.com/semantic-release/semantic-release)\n\n## Features\n\n* Registering interceptors globally\n* Separate interceptors for requests and responses\n* Attach interceptors for specific urls via strings or RegExp's\n* Remove specific/all interceptor(s)\n* Modify requests (even url) from request interceptors\n* Cancel requests from request interceptors\n* Modify responses from response interceptors\n* Interceptor Service is not coupled with Http Service\n* Choose between overriding original Http Service or keep it and still use interceptors\n* Comprehensive type assistance for your interceptor functions\n* Supports AOT compilation with shipped _*.metadata.json_ files\n* UMD builds in _dist/bundles_ folder ready to use in Browsers\n* Simple http data extraction and manipulation with [Helpers Functions](#helpers-functions-since-v130)\n\n## Table of Contents\n\n* [Features](#features)\n* [Prerequisites](#prerequisites)\n* [Installation](#installation)\n* [Usage](#usage)\n* [Documentation](#documentation)\n* [Development](#development)\n\n## Prerequisites\n\nThis library uses `Proxy` from ES6 spec so if you need to support browsers\nthat are ES5 compatible include [proxy-polyfill](https://github.com/GoogleChrome/proxy-polyfill).  \n  \nIf you are getting error like: `ReferenceError: __extends is not defined`  \nPlease make sure that you are importing `ts-helpers` module in your application.\n\n## Installation\n\nTo install this library, run:\n\n```bash\n$ npm install ng2-http-interceptor --save\n```\n\n## Usage\n\n### New Way (since v1.x.x)\n\n#### Case #1\n\nImport `HttpInterceptorModule` to your application module.  \nThis will override original `Http` Service and all requests will be intercepted.\n\n#### Case #2\n\nImport as `HttpInterceptorModule.noOverrideHttp()` to keep original `Http` Service\nand use `InterceptableHttp` for requests to be intercepted.\n\n### Legacy Way\n\nTo use it you must first declare providers in your `@NgModule`.  \nYou have 2 options:  \n1. Register `InterceptableHttp` AND override original `Http` service so\nthat all your requests will be intercepted  \n2. Register ONLY `InterceptableHttp` and keep original `Http` service so\nyou can make requests which are intercepted and not.\n  \nFor case #1 use:\n```ts\n{\n    providers: [...HTTP_INTERCEPTOR_PROVIDER]\n}\n```\n\nFor case #2 use:\n```ts\n{\n    providers: [...HTTP_INTERCEPTOR_NO_OVERRIDE_PROVIDER]\n}\n```\n\n### Example use-case\n\nYou can use `InterceptableHttp` for your requests in case #1 and #2  \nand `Http` if you chose to override it (case #1 only):\n```ts\nconstructor(http: Http, httpInterceptor: HttpInterceptorService) {\n    httpInterceptor.request().addInterceptor((data, method) => {\n      console.log(method, data);\n      return data;\n    });\n\n    httpInterceptor.response().addInterceptor((res, method) => {\n      res.subscribe(r => console.log(method, r));\n      return res;\n    });\n    \n    this.http.get('/')\n          .map(r => r.text())\n          .subscribe(console.log);\n}\n```\n\nIn this setup every request and response will be logged to the console.  \nYou can also cancel request by returning `false` value (that coerce to boolean false)\nfrom one of registered _request_ interceptors.  \nYou can return `Observable` from _request_ interceptors to do some async job.\n\nYou can find in-depth explanation of internal concepts here: https://goo.gl/GU9VWo  \nAlso if you want to play with it check this [repo](https://github.com/gund/angular2-http-interceptor-test).  \nOr check this [plnkr demo](https://plnkr.co/edit/qTTdPl8EggQleTfTSbch).\n\n## Documentation\n\nAll and every interception setup is made by `HttpInterceptorService` service.  \nInject this service in place where you want to manage interceptors.\n  \n### Public API\n\n**HttpInterceptorService**\n```ts\nHttpInterceptorService: {\n    request(url?: string|RegExp): Interceptable,\n    response(url?: string|RegExp): Interceptable\n}\n```\n\n<sub>See [src/http/http-interceptor.ts](./src/http/http-interceptor.ts#L8) for full reference</sub>\n\n_Description_: Methods will determine when to call interceptor - before\nrequest (`request()`) or after response (`response()`).  \nYou can also specify url filtering (`string|RegExp`) which will indicate\nwhen interceptor must be triggered depending on url.  \nBy default all interceptors fall under `'/'` url key which means every\ninterceptor registered that way will be triggered despite of actual url.\n\n**Interceptable**\n```ts\nInterceptable: {\n    addInterceptor(interceptorFn: Interceptor): Interceptable,\n    removeInterceptor(interceptorFn: Interceptor): Interceptable,\n    clearInterceptors(interceptorFns?: Interceptor[]): Interceptable\n}\n```\n\n<sub>See [src/http/interceptable.ts](./src/http/interceptable.ts#L1) for full reference</sub>\n\n_Description_: This object will help you manage interceptors with\nrespect to your selected configuration (url filtering).\n\n**Interceptor**\n```ts\nexport interface Interceptor {\n  (data: any, method: string): any;\n}\n```\n\n<sub>See [src/http/interceptable.ts](./src/http/interceptable.ts#L7) for full reference</sub>\n\n_Description_: This is generic type of interceptor - which is a plain old JavaScript function.  \nYou will be dealing with specific one to satisfy it's criteria:\n* `Interceptor<any[], any[]>` - for **request** interceptors  \n    Function will get an array of parameters with which call on `Http`\n    was made + method name as string (`get`, `post`, `delete`...)\n    and should return array of the same structure or `false` to cancel request.\n* `Interceptor<Observable<Response>, Observable<Response>>` - for **response** interceptors  \n    Function will get Observable + method name as string (`get`, `post`, `delete`...)\n    and should return same or new Observable but with type Response\n    (this is made specifically to prevent other code being broken\n    because response was intercepted and structure changed)\n\n#### Helpers Functions (since v1.3.0)\n\nThere are a bunch of helper functions added to simplify some common\nwork with _data_ array (for ex. getting `RequestOptions` or even `Headers`).\n\n**getHttpHeadersOrInit()**\n```ts\nexport function getHttpHeadersOrInit(data: any[], method: string): Headers;\n```\n\n<sub>See [src/http/helpers/getHttpHeadersOrInit.ts](./src/http/helpers/getHttpHeadersOrInit.ts) for full reference</sub>\n\n_Description_: Gets `Headers` from _data_ array.  \nIf no `RequestOptions` found - creates it and updates original _data_ array.  \nIf no `Headers` found - creates it and sets to `RequestOptions`.\n\n**getHttpOptionsAndIdx()**\n```ts\nexport function getHttpOptionsAndIdx(\n    data: any[],\n    method: string,\n    alwaysOriginal?: boolean\n): {\n    options: RequestOptions;\n    idx: number;\n};\n```\n\n<sub>See [src/http/helpers/getHttpOptionsAndIdx.ts](./src/http/helpers/getHttpOptionsAndIdx.ts) for full reference</sub>\n\n_Description_: Gets `RequestOptions` and it's index location in _data_ array.  \nIf no options found and `alwaysOriginal = false` - creates new `RequestOptions`\nbut does NOT set it back on _data_ array.\n* Param `alwaysOriginal` is `false` by default.\n\n**getHttpOptions()**\n```ts\nexport function getHttpOptions(\n    data: any[],\n    method: string,\n    alwaysOriginal?: boolean): RequestOptions;\n```\n\n<sub>See [src/http/helpers/getHttpOptions.ts](./src/http/helpers/getHttpOptions.ts) for full reference</sub>\n\n_Description_: Gets http `RequestOptions` from data array.  \nIf no options found and `alwaysOriginal = false` - returns new `RequestOptions`\nbut does NOT set it back on _data_ array.\n* Param `alwaysOriginal` is `false` by default.\n\n**getHttpOptionsIdx()**\n```ts\nexport function getHttpOptionsIdx(method: string): number;\n```\n\n<sub>See [src/http/helpers/getHttpOptionsIdx.ts](./src/http/helpers/getHttpOptionsIdx.ts) for full reference</sub>\n\n_Description_: Gets index of `RequestOptions` in http data array for specified `method`.\n\n\n## Development\n\nTo generate all `*.js`, `*.js.map`, `*.d.ts` and `*.metadata.json` files:\n\n```bash\n$ npm run build\n```\n\nTo lint all `*.ts` files:\n\n```bash\n$ npm run lint\n```\n\nTo run unit tests:\n\n```bash\n$ npm test\n```\n\n## License\n\nMIT © [Alex Malkevich](malkevich.alex@gmail.com)\n","created":"2016-09-30T16:17:07.711Z","modified":"2017-01-08T17:23:30.483Z","lastPublisher":{"name":"gund","email":"lyoha07@ukr.net"},"owners":[{"name":"gund","email":"lyoha07@ukr.net"}],"other":{"_attachments":{},"_from":".","_id":"ng2-http-interceptor","_nodeVersion":"7.4.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/ng2-http-interceptor-1.4.0.tgz_1483627020213_0.9166749732103199"},"_npmUser":{"name":"gund","email":"lyoha07@ukr.net"},"_npmVersion":"4.0.5","_rev":"18-b90b21f9e40b9aefe7f4ed9721009253","_shasum":"96ef23f71b54baddeb0fae36cb7091c9c6f76d02","author":{"name":"Alex Malkevich","email":"malkevich.alex@gmail.com"},"bugs":{"url":"https://github.com/gund/ng2-http-interceptor/issues"},"directories":{},"dist-tags":{"latest":"1.4.0"},"dist":{"shasum":"96ef23f71b54baddeb0fae36cb7091c9c6f76d02","tarball":"http://registry.npmjs.org/ng2-http-interceptor/-/ng2-http-interceptor-1.4.0.tgz"},"maintainers":[{"name":"gund","email":"lyoha07@ukr.net"}],"readmeFilename":"README.MD","time":{"modified":"2017-01-08T17:23:30.483Z","created":"2016-09-30T16:17:07.711Z","0.2.7":"2016-09-30T16:17:07.711Z","0.2.8":"2016-09-30T16:32:49.731Z","0.2.9":"2016-09-30T16:49:07.987Z","0.2.12":"2016-09-30T19:20:14.669Z","0.2.13":"2016-09-30T21:41:14.177Z","0.2.14":"2016-10-02T01:02:15.422Z","0.3.0":"2016-10-02T15:22:06.995Z","0.4.0":"2016-10-03T21:28:58.631Z","0.4.1":"2016-10-17T19:10:00.544Z","0.4.2":"2016-10-28T16:45:27.980Z","1.0.0":"2016-12-13T18:06:39.078Z","1.0.1":"2016-12-13T18:22:12.864Z","1.0.2":"2016-12-13T18:44:56.310Z","1.1.0":"2016-12-13T19:03:22.811Z","1.1.1":"2016-12-14T16:18:27.605Z","1.2.0":"2016-12-16T19:08:54.524Z","1.2.1":"2016-12-16T19:28:23.054Z","1.2.2":"2016-12-16T19:41:11.933Z","1.2.3":"2016-12-16T19:59:28.026Z","1.2.4":"2016-12-16T20:07:28.245Z","1.2.5":"2016-12-16T21:07:42.015Z","1.2.6":"2016-12-23T12:04:13.517Z","1.3.0":"2016-12-23T18:15:11.763Z","1.3.1":"2016-12-25T17:46:16.980Z","1.4.0":"2017-01-05T14:37:02.549Z"}}}