{"name":"express-http-autodetect","description":"Automatically support different Express app deployment strategies such as FastCGI, Passenger, and node http.","version":"0.0.1","license":"MIT","repository":"https://github.com/binki/express-http-autodetect","dependencies":{"express":"~4","http-autodetect":"~0"},"gitHead":"9d6ff67d06f5dc4ef963b719a410a403c7dff5f9","homepage":"https://github.com/binki/express-http-autodetect#readme","scripts":{},"versions":[{"number":"0.0.0","date":"2016-08-23T06:05:30.934Z"},{"number":"0.0.1","date":"2016-09-28T05:20:10.723Z"}],"readme":"This module is being renamed to [express-autoserve](https://npmjs.com/package/express-autoserve).\n\n[Autodetect the server platform](https://github.com/binki/autoserve) and delegate to an\nExpress app.\n\n# Usage\n\n    const expressHttpAutodetect = require('express-http-autodetect');\n    const app = require('./app');\n    \n    expressHttpAutodetect(app);\n\n# Mechanics\n\n## `req.baseUrl`\n\nThe node [`http`](https://nodejs.org/api/http.html) module has no\nconcept of `baseUrl` because it assumes it will get to open the TCP\nsocket itself and just serve out pages at `/`. However, various\ndeployment strategies supported by\n[`http-autodetect`](https://github.com/binki/http-autodetect) are\ncommonly used to deploy applications at URIs other than `/`. Thus\n`http-autodetect` provides a `getBaseUrl(req)` function to discover\nthe baseUrl for the current request (in FastCGI, the necessary\ninformation is not available until a request is received).\n\nExpress supports mounting applications at sub-paths. To enable mounted\napplications to generate absolute URIs to resources within the apps,\nit provide the\n[`req.baseUrl`](https://expressjs.com/en/4x/api.html#req.baseUrl)\nproperty. This enables the following to work sensibly:\n\n    const express = require('express');\n    \n    const app = express();\n    \n    const subApp = express();\n    subApp.get('/asdf', function (req, res) {\n       // When mounted, will get /subApp/foo\n      res.send(`Another resource on this app is ${req.baseUrl}/foo`);\n    });\n    subApp.get('/foo', function (req, res) {\n      res.send(`You found me!`);\n    });\n    \n    app.use('/subApp', subApp);\n    app.listen(3000);\n\nThis module ensures that the passed app is treated like it is mounted\nin an express app at the `baseUrl` calculated by\n`http-autodetect`. This causes the `baseUrl` to be set properly for\nthe passed app and ensures that routing is performed relative to the\ndeployment `baseUrl`.\n","created":"2016-08-23T06:05:30.934Z","modified":"2016-09-28T05:20:10.723Z","lastPublisher":{"name":"binki","email":"ohnobinki@ohnopublishing.net"},"owners":[{"name":"binki","email":"ohnobinki@ohnopublishing.net"}],"other":{"_attachments":{},"_from":".","_id":"express-http-autodetect","_nodeVersion":"4.4.6","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/express-http-autodetect-0.0.1.tgz_1475040008991_0.9031855913344771"},"_npmUser":{"name":"binki","email":"ohnobinki@ohnopublishing.net"},"_npmVersion":"2.15.5","_rev":"1-0b1cf50450dde15cc3d3b419f553f943","_shasum":"9305d7e36b1746089e2e0bbef3155e80cc95c8b2","bugs":{"url":"https://github.com/binki/express-http-autodetect/issues"},"directories":{},"dist-tags":{"latest":"0.0.1"},"dist":{"shasum":"9305d7e36b1746089e2e0bbef3155e80cc95c8b2","tarball":"http://registry.npmjs.org/express-http-autodetect/-/express-http-autodetect-0.0.1.tgz"},"maintainers":[{"name":"binki","email":"ohnobinki@ohnopublishing.net"}],"readmeFilename":"README.md","time":{"modified":"2016-09-28T05:20:10.723Z","created":"2016-08-23T06:05:30.934Z","0.0.0":"2016-08-23T06:05:30.934Z","0.0.1":"2016-09-28T05:20:10.723Z"}}}