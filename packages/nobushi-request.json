{"name":"nobushi-request","version":"0.1.0","description":"A isomorphic HTTP request library","main":"lib/index.js","license":"MIT","dependencies":{"bluebird":"^3.4.7","isomorphic-fetch":"^2.2.1","query-string":"^4.2.3"},"devDependencies":{"@types/bluebird":"^3.0.37","@types/isomorphic-fetch":"^0.0.31","@types/nock":"^8.2.0","@types/node":"^6.0.59","@types/query-string":"^3.0.31","ava":"^0.17.0","nock":"^9.0.2","nyc":"^10.0.0","typedoc":"^0.5.3","typescript":"^2.1.4"},"scripts":{"test":"tsc && nyc ava","build":"tsc","docs":"typedoc --name \"Nobushi Request References\" --mode modules --target es2015 --exclude \"*.test.ts\" --out docs/references src"},"repository":"https://github.com/kou64yama/nobushi-request","keywords":[],"homepage":"https://github.com/kou64yama/nobushi-request#readme","gitHead":"e136f8edd1d7eb5a2ddda808bc1060e82ee73619","versions":[{"number":"0.0.0","date":"2017-01-10T14:40:56.908Z"},{"number":"0.0.1","date":"2017-01-11T21:09:12.829Z"},{"number":"0.0.2","date":"2017-01-16T15:14:29.366Z"},{"number":"0.1.0","date":"2017-01-17T15:27:43.142Z"}],"readme":"# NobushiRequest\n\n[![Build Status](https://travis-ci.org/kou64yama/nobushi-request.svg?branch=master)](https://travis-ci.org/kou64yama/nobushi-request)\n\nNobushiRequest is a isomorphic HTTP request library.\n\n## Installation\n\n```sh\nnpm install --save nobushi-request\n```\n\n## Usage\n\n### Basic usage\n\n```js\nimport { RequestClient } from 'nobushi-request';\n\nconst client = new RequestClient();\n\n// POST http://localhost:3000/api/posts\nclient\n  .target('http://localhost:3000')\n  .path('/api/posts')\n  .headers({ 'Content-Type': 'application/json' })\n  .post(JSON.stringify({ title: '...', content: '...' }))\n  .then(res => res.json())\n  .then(({ id, title }) => {\n    console.log(`Posted ${title} (#${id})`);\n  });\n```\n\n### Register filters\n\n##### `client.js`\n\n```js\nimport { RequestClient } from 'nobushi-request';\n\nconst client = new RequestClient();\n\n// Applies JSON.stringify() if the request has body.\nclient.register({\n  request(req) {\n    if (typeof req.body !== 'object') {\n      return req;\n    }\n\n    const headers = { ...req.headers, 'Content-Type': 'application/json' };\n    const body = JSON.stringify(req.body);\n    return { ...req, headers, body };\n  },\n});\n\n// Parses JSON if the content type is \"application/json\".\nclient.register({\n  async response(res) {\n    const contentType = res.headers.get('Content-Type');\n    if (!/^application\\/json(;.*)?$/i.test(contentType)) {\n      return res;\n    }\n\n    const body = await res.json();\n    return { ...res, body };\n  },\n});\n\nexport default client;\n```\n\n##### `main.js`\n\n```js\nimport client from './client';\n\nconst request = client.target('http://localhost:3000/api');\n\nrequest\n  .path('/posts')\n  .post({ title: '...', content: '...' })\n  .then(({ body: { id, title }}) => {\n    return request\n      .path('/notify')\n      .post({ message: `Posted ${title} (#${id})` });\n  });\n```\n\n## License\n\nMIT\n\n## Author\n\n[@kou64yama](https://twitter.com/kou64yama)\n","created":"2017-01-10T14:40:56.908Z","modified":"2017-01-17T15:27:43.142Z","lastPublisher":{"name":"kou64yama","email":"kou64yama@gmail.com"},"owners":[{"name":"kou64yama","email":"kou64yama@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"nobushi-request","_nodeVersion":"6.9.4","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/nobushi-request-0.1.0.tgz_1484666862355_0.22470786282792687"},"_npmUser":{"name":"kou64yama","email":"kou64yama@gmail.com"},"_npmVersion":"3.10.10","_rev":"6-4f9e9f14294dfeeb459cbf9b8e7493da","_shasum":"699f35a83033f155170db5c0617e94b3e127ab89","author":{"name":"kou64yama","email":"kou64yama@gmail.com"},"bugs":{"url":"https://github.com/kou64yama/nobushi-request/issues"},"directories":{},"dist-tags":{"latest":"0.1.0"},"dist":{"shasum":"699f35a83033f155170db5c0617e94b3e127ab89","tarball":"https://registry.npmjs.org/nobushi-request/-/nobushi-request-0.1.0.tgz"},"maintainers":[{"name":"kou64yama","email":"kou64yama@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-01-17T15:27:43.142Z","created":"2017-01-10T14:40:56.908Z","0.0.0":"2017-01-10T14:40:56.908Z","0.0.1":"2017-01-11T21:09:12.829Z","0.0.2":"2017-01-16T15:14:29.366Z","0.1.0":"2017-01-17T15:27:43.142Z"}}}