{"name":"hapicamperjs","version":"1.1.0","description":"A Hapi plugin that records and replays hapi http requests. It stores the recorded requests in a sqlite3 database.","main":"lib/index.js","keywords":["replay","record","http","request","log","hapi","plugin"],"scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/zakisaadeh/hapicamperjs","license":"GPL-3","homepage":"https://github.com/zakisaadeh/hapicamperjs","dependencies":{"hoek":"2.x.x","safe-json-stringify":"^1.0.3","sqlite-wrapper":"^0.2.1","underscore":"^1.8.3"},"peerDependencies":{},"devDependencies":{"hapi":">=6.x.x"},"engines":{"node":">=0.10.x"},"gitHead":"905def58fea8fe43a4eecaee7471f96f61f0233f","versions":[{"number":"1.0.8","date":"2015-08-02T22:16:17.093Z"},{"number":"1.0.9","date":"2015-08-02T22:37:42.810Z"},{"number":"1.1.0","date":"2015-08-08T17:01:42.113Z"}],"readme":"# hapicamperjs\r\n\r\nHapiCamper is a [hapi](https://github.com/hapijs/hapi) plugin that allows you to record and replay http requests. When recording is on, all requests are recorded in a sqlite database. When replay is turned on, any requets that match the signature of a pre-recorded request will have its content served from that database. If no match is found, the request will run normally (eg. go hit the backend for information). The two operations, record and replay are mutually exclusive. You may run either of them independently of the other. Request info is stored in one table (called \"main\") by default. You can optionally provide a map to map request routes to different tables. See section below for usage details.\r\n\r\n## Usage\r\n```\r\nvar HapiCamper = require('hapicamperjs');\r\n\r\nserver.register({\r\n    register: HapiCamper,\r\n    options: {\r\n        routesMap: null,\r\n        record: true,\r\n        replay: true\r\n    }\r\n}, function (err) {\r\n    if (err) {\r\n        throw err; // something bad happened loading the plugin\r\n    }\r\n\r\n  \tserver.start(function () {\r\n  \t    console.log('Server running at:', server.info.uri);\r\n  \t});\r\n});\r\n```\r\n\r\n### Record and Replay\r\n\r\nTo enable or disable record and replay features of this plugin, use the options object.\r\n```\r\nserver.register({\r\n    register: HapiCamper,\r\n    options: {\r\n        routesMap: null,\r\n        record: true,\r\n        replay: true\r\n    }\r\n}\r\n```\r\n\r\n\r\n### Route map to custom tables\r\n\r\nThe plugin options object also accepts a routesMap. routesMap allows you to map the routes of requests into custom tables. This could be useful if you need to ogranize the data into smaller sets. For each mapping you may provide a regex for the pattern.\r\n```\r\nvar routesMap = [\r\n    { pattern: \"/hel+o\", name: \"hello\"},\r\n    { pattern: \"/te.*\" , name: \"test\"},\r\n    { pattern: \".*\" , name: \"main\"}\r\n];\r\n```\r\n\r\nThis will map all requests matching regex '/hel+o' to table 'hello', and anything that starts with 'te' to be mapped to the 'test' table. You may also provide a catch-all mapping by using '.*' to map everything to 'main' table. For table names, you may not use any [reserved sqlite3 keywords](https://www.sqlite.org/lang_keywords.html).\r\n\r\n**The order in which you specify the mappings matter. The first pattern to successfully match a route will be used. So any catch-all mappings need to be at the very end.**\r\n","created":"2015-08-02T22:16:17.093Z","modified":"2015-08-08T17:01:42.113Z","lastPublisher":{"name":"zakisaadeh","email":"zaki.saadeh@gmail.com"},"owners":[{"name":"zakisaadeh","email":"zaki.saadeh@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"hapicamperjs","_npmUser":{"name":"zakisaadeh","email":"zaki.saadeh@gmail.com"},"_npmVersion":"1.4.28","_rev":"1-1cc23cea064c4b1b9337e3731c76e10f","_shasum":"b380c4765ecc1224571cee32b9d3849b94aa69ab","author":{"name":"Zaki Saadeh","email":"zaki.saadeh@gmail.com"},"bugs":{"url":"https://github.com/zakisaadeh/hapicamperjs/issues"},"directories":{},"dist-tags":{"latest":"1.1.0"},"dist":{"shasum":"b380c4765ecc1224571cee32b9d3849b94aa69ab","tarball":"http://registry.npmjs.org/hapicamperjs/-/hapicamperjs-1.1.0.tgz"},"maintainers":[{"name":"zakisaadeh","email":"zaki.saadeh@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-08-08T17:01:42.113Z","created":"2015-08-02T22:16:17.093Z","1.0.8":"2015-08-02T22:16:17.093Z","1.0.9":"2015-08-02T22:37:42.810Z","1.1.0":"2015-08-08T17:01:42.113Z"}}}