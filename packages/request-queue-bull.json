{"name":"request-queue-bull","version":"1.0.0","description":"a simple Http request queue base on bull","main":"index.js","scripts":{"test":"node ./example/test.js"},"keywords":["bull","request","queue"],"repository":"https://github.com/IceFrozen/request-queue-bull","license":"ISC","dependencies":{"bull":"^2.0.0","lodash":"^4.17.2","request":"^2.79.0"},"devDependencies":{"express":"^4.14.0"},"gitHead":"d740f68528a08ab701a00620b8ced4d6ab1610fd","homepage":"https://github.com/IceFrozen/request-queue-bull#readme","readme":"## Overview  \r\n- This is a simple http request base on bullï¼Œused to integrate the sdk server to send information to others\r\n  \r\n## characteristic:    \r\n  \r\n- keep doing the job until it fail  \r\n- record the job which is failed or success  \r\n\r\n## Uasge: \r\n- git clone https://github.com/IceFrozen/request-queue-bull.git\r\n- npm install \r\n- make sure the redis service is running and change the redisConn in ./expamle/config.js\r\n- npm test or node ./example/test.js\r\n\r\n## Quick Start: \r\n```javascript\r\n    const QueenClass = require('request-queue-bull')\r\n    const config = require('./config')      //send the config and options\r\n    const qc = new QueenClass(\"test\",config)  \r\n    qc.pushRequest(\"id\",{data:\"test\"})   // id is the job tag   you can get it use job.opts.jobTag\r\n    .on(\"fail\",(job,err)=>{ \r\n\t    console.log('fail')\r\n    })\r\n.   on(\"success\",(job, res)=>{\r\n\t\tconsole.log(\"success:\"+job.opts.jobTag)   // print  id\r\n\t    console.log(\"success\")\r\n\t    qc.stop()\r\n    }).\r\n    on('process',function (job) {    \r\n        console.log(\"job is process!\")\r\n    })\r\n    \r\n```\r\n## Config and options\r\nexample config.js\r\n```javascript\r\nmodule.exports = {\r\n\tredisConn:\"redis://localhost:6379/\",\r\n\turl:\"http://localhost:8000/ping\",\r\n\ttype:\"type1\",\t\t\t\t// the type of config in types\r\n\tstopTag:\"SUCCESS\",\t\t\t//the success tag when the url return back in body\r\n\ttypes:{\r\n\tdefault:{  \r\n\t\t_delay: 3000,   \t\t\t//the time of job retrid    number or array\r\n\t\t_delayStep:1,           \t//delay  (number of retries )* _delayStep + _delay(number)\r\n\t\tfailedSave:false,          // save to the redis or not when the job failed \r\n\t\tretryNew:false,\t            //the job is a new job instance in bull or the same job retrid in a period of time\r\n\t\tremoveOnComplete:true,     //delete job automatically or not when job success \r\n\t\tmethod:\"GET\"\t\t\t\t// GET or POST\r\n\t\t// ... other job opts\r\n \t\t},\r\n \ttype1:{   \r\n\t\t\t_delay: [3000,6000] ,   \r\n\t\t\t_delayStep:0,           \r\n\t\t\tfailedSave:false,       \r\n\t\t\tretryNew:true,\t\t\t\r\n\t\t\tremoveOnComplete:true,    \r\n\t\t\tmethod:\"GET\"\t\t\t\r\n \t\t}\r\n\t}\r\n}\r\n```\r\n\r\n## About The Author  \r\n**Auther**: Jason Lee  \r\n**Mail**: taozi031@163.com  \r\n  \r\n## Dependencies other Source  \r\n**bull**  \r\n-  GitHub: https://github.com/OptimalBits/bull\r\n-  The fastest, more reliable redis based queue for nodejs. Carefully written for rock solid stability and atomicity.It uses redis for persistence, so the queue is not lost if the server goes down for any reason. Follow manast for news and updates regarding this library.","versions":[{"number":"1.0.1","date":"2016-12-15T02:40:02.769Z"},{"number":"1.0.0","date":"2016-12-15T02:46:33.479Z"}],"created":"2016-12-15T02:40:02.769Z","modified":"2016-12-15T02:46:33.479Z","lastPublisher":{"name":"taozi031","email":"taozi031@163.com"},"owners":[{"name":"taozi031","email":"taozi031@163.com"}],"other":{"_attachments":{},"_from":".","_id":"request-queue-bull","_nodeVersion":"6.9.1","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/request-queue-bull-1.0.0.tgz_1481769991577_0.682165525155142"},"_npmUser":{"name":"taozi031","email":"taozi031@163.com"},"_npmVersion":"3.10.8","_rev":"3-984bf06635323ad9be783487ae59db49","_shasum":"7fe1331531813f90054d81f5c2697458aef92113","author":{"name":"jason lee"},"bugs":{"url":"https://github.com/IceFrozen/request-queue-bull/issues"},"directories":{},"dist-tags":{"latest":"1.0.0"},"dist":{"shasum":"7fe1331531813f90054d81f5c2697458aef92113","tarball":"http://registry.npmjs.org/request-queue-bull/-/request-queue-bull-1.0.0.tgz"},"maintainers":[{"name":"taozi031","email":"taozi031@163.com"}],"readmeFilename":"README.md","time":{"modified":"2016-12-15T02:46:33.479Z","created":"2016-12-15T02:40:02.769Z","1.0.1":"2016-12-15T02:40:02.769Z","1.0.0":"2016-12-15T02:46:33.479Z"}}}