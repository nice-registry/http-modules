{"name":"iso-http","version":"0.0.5","description":"An HTTP request library that enables isomorphic applications.","main":"js/node/Http.js","browser":"js/browser/Http.js","scripts":{"test":"gulp test"},"repository":"https://github.com/jedmao/iso-http","keywords":["http","request","isomorphic","ajax","browser"],"license":"MIT","homepage":"https://github.com/jedmao/iso-http","files":["README.md","fake.js","js/"],"devDependencies":{"browserify":"^6.3.3","cors":"^2.5.2","del":"^0.1.3","event-stream":"^3.1.7","express":"^4.10.4","gulp":"^3.8.10","gulp-istanbul":"^0.4.0","gulp-jasmine":"^1.0.1","gulp-plumber":"^0.6.6","gulp-rename":"^1.2.0","gulp-streamify":"0.0.5","gulp-tslint":"^1.4.1","gulp-typescript":"^2.3.0","gulp-uglify":"^1.0.1","jasmine-core":"^2.1.2","karma":"^0.12.28","karma-chrome-launcher":"^0.1.6","karma-commonjs":"0.0.12","karma-coverage":"^0.2.7","karma-firefox-launcher":"^0.1.3","karma-ie-launcher":"^0.1.5","karma-jasmine":"^0.3.2","karma-safari-launcher":"^0.1.1","through2":"^0.6.3","vinyl-source-stream":"^1.0.0"},"gitHead":"17c81e6a192c033e128bf3baf01b82ba20d964c0","versions":[{"number":"0.0.0","date":"2014-12-05T19:32:55.928Z"},{"number":"0.0.1","date":"2014-12-05T22:08:53.473Z"},{"number":"0.0.2","date":"2014-12-08T22:24:56.076Z"},{"number":"0.0.5","date":"2015-03-18T17:36:07.263Z"}],"readme":"# iso-http\r\n\r\nAn isomorphic HTTP request library.\r\n\r\n[![Build Status](https://secure.travis-ci.org/jedmao/iso-http.svg)](http://travis-ci.org/jedmao/iso-http)\r\n[![Dependency Status](https://david-dm.org/jedmao/iso-http.svg)](https://david-dm.org/jedmao/iso-http)\r\n[![NPM version](https://badge.fury.io/js/iso-http.svg)](http://badge.fury.io/js/iso-http)\r\n[![Code Climate](https://codeclimate.com/github/jedmao/iso-http/badges/gpa.svg)](https://codeclimate.com/github/jedmao/iso-http)\r\n[![Test Coverage](https://codeclimate.com/github/jedmao/iso-http/badges/coverage.svg)](https://codeclimate.com/github/jedmao/iso-http)\r\n\r\n[![NPM](https://nodei.co/npm/iso-http.svg?downloads=true)](https://nodei.co/npm/iso-http/)\r\n\r\n\r\n## Features\r\n\r\n- [Isomorphic &ndash; runs on Node and in-browser with the same interface!](#isomorphic)\r\n- [100% test coverage with 4.0 Code Climate GPA](#full-test-coverage)\r\n- Zero dependencies\r\n- Small footprint &ndash; 4KB (minified) / 2KB (gzipped)\r\n- [FakeHttp module for testing](#fake-http-module-for-testing)\r\n- [TypeScript source &ndash; definitions are free!](#typescript-source)\r\n\r\n\r\n### Isomorphic\r\n\r\nWith iso-http, the only thing different between Node and in-browser is the installation. This means you can use iso-http in your [isomorphic](https://www.google.com/search?q=isomoprhic%20javascript) applications in the most consistent way. In Node, the built-in [http module](http://nodejs.org/api/http.html#http_http_request_options_callback) is utilized. In the browser, the [XMLHttpRequest](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest) is used without any reference to Node libraries. This keeps the footprint light.\r\n\r\n\r\n#### Node installation\r\n\r\n```\r\n$ npm install iso-http\r\n```\r\n\r\nRemember the `--save` or `--save-dev` flag, depending on your situation.\r\n\r\n\r\n#### Browser installation\r\n\r\n```\r\n$ bower install --save iso-http\r\n```\r\n\r\n\r\n#### Usage\r\n\r\nNow, you're ready to require iso-http. The Bower package uses [Browserify](http://browserify.org/) to expose `iso-http` so you can require it in the CommonJS way, same as Node.\r\n\r\n```js\r\nvar http = require('iso-http');\r\n```\r\n\r\nNow, you can make an http request:\r\n\r\n```js\r\nvar requestOptions = {\r\n  url: 'http://domain.com/foo'\r\n};\r\nvar request = http.request(requestOptions, function(response) {\r\n  // handle response\r\n});\r\n```\r\n\r\nYour request options must follow the following interface. Note that `?` indicates an optional field and `any` represents an [Object literal](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Values,_variables,_and_literals#Object_literals) or hash.\r\n\r\n```ts\r\ninterface RequestOptions {\r\n\turl: string;\r\n\tmethod?: string; // default: 'GET'\r\n\tcontentType?: string;\r\n\theaders?: any;\r\n\twithCredentials?: boolean; // default: false\r\n\tdata?: any;\r\n}\r\n```\r\n\r\nThe callback function will be called with a response object that uses the following interface:\r\n\r\n```ts\r\ninterface Response {\r\n\theaders: Types.HashTable<string>;\r\n\tstatus: number;\r\n\ttext: string;\r\n}\r\n```\r\n\r\n\r\n##### Browser Usage\r\n\r\nYou can require the browser package like so:\r\n\r\n```js\r\nvar http = require('iso-http/browser');\r\n```\r\n\r\n\r\n### Full test coverage\r\n\r\nTests are written in [Jasmine](http://jasmine.github.io/) to cover all library source code. Code coverage reports are generated with [Istanbul](http://gotwarlost.github.io/istanbul/) and sent to [Code Climate](https://codeclimate.com/github/jedmao/iso-http) for further code quality analysis. Browser tests are run with [Karma](http://karma-runner.github.io/).\r\n\r\nAll tests are run locally in Node, Chrome, Chrome Canary, Firefox, Safari and Internet Explorer. In [Travis-CI](https://travis-ci.org/jedmao/iso-http), tests are run in Node, Chrome and Firefox.\r\n\r\nFor Internet Explorer, only versions 9 and above are supported. Please submit any issues on the [GitHub Issue Tracker](https://github.com/jedmao/iso-http/issues).\r\n\r\n\r\n### FakeHttp module for testing\r\n\r\nA FakeHttp module is available for testing. Here's how you require it:\r\n\r\n```js\r\nvar fakeHttp = require('iso-http/fake');\r\n```\r\n\r\nNOTE: If you're doing browser tests, you'll need to first reference the [iso-http--fake.js file](https://github.com/jedmao/iso-http/blob/master/dist/iso-http--fake.js) in the head section of your test runner's HTML file:\r\n\r\n```html\r\n<script src=\"bower_components/iso-http--fake.js\"></script>\r\n```\r\n\r\nUnlike the real iso-http module, the fake one returns a request object (an instance of FakeHttp.Agent), upon which you can run two methods. The first method is `respondWith` and it accepts a fake response object:\r\n\r\n```js\r\nit('responds with a fake response', function(done) {\r\n\tvar options = { /* your options here */ };\r\n\tvar fakeResponse = {\r\n\t\tstatus: 123,\r\n\t\theaders: { foo: 'bar' },\r\n\t\ttext: 'baz'\r\n\t};\r\n\tvar req = fakeHttp.request(options, function(response) {\r\n\t\texpect(response).toEqual(fakeResponse);\r\n\t\tdone();\r\n\t});\r\n\treq.respondWith(fakeResponse);\r\n});\r\n```\r\n\r\nThe second method, `rejectWith`, accepts an error object:\r\n\r\n```js\r\nit('rejects with an error', function(done) {\r\n\tvar options = { /* your options here */ };\r\n\tvar noop = function() {};\r\n\tvar req = fakeHttp.request(options, noop, function(err) {\r\n\t\texpect(err instanceof Error).toBe(true);\r\n\t\texpect(err.message).toEqual('No dice');\r\n\t\tdone();\r\n\t});\r\n\treq.rejectWith(new Error('No dice'));\r\n});\r\n```\r\n\r\n\r\n### Typescript source\r\n\r\nSince all the source code is written in TypeScript, the definition files are always in sync with the code. To gain access to these definitions, [install the iso-http node module with npm](#node-installation) and import the module like so:\r\n\r\n```ts\r\n/// <reference path=\"node_modules/iso-http/iso-http.d.ts\" />\r\nimport http = require('iso-http');\r\n```\r\n\r\nYou'll now gain all the benefits of [intelligent code completion aka Intellisense](http://en.wikipedia.org/wiki/Intelligent_code_completion) within [Microsoft Visual Studio](http://www.visualstudio.com/).\r\n","starsCount":0,"created":"2014-12-05T19:32:55.928Z","modified":"2015-03-18T17:36:07.263Z","lastPublisher":{"name":"jedmao","email":"jedmao@outlook.com"},"owners":[{"name":"jedmao","email":"jedmao@outlook.com"}],"other":{"_attachments":{},"_from":".","_id":"iso-http","_nodeVersion":"0.12.0","_npmUser":{"name":"jedmao","email":"jedmao@outlook.com"},"_npmVersion":"2.5.1","_rev":"1-d690bee5c6d4506f8c447aa021118ba3","_shasum":"88f5f163343d49c030a10e63f4701cafaf0562a8","author":{"name":"Jed Mao","email":"jedmao@outlook.com"},"bugs":{"url":"https://github.com/jedmao/iso-http/issues"},"directories":{},"dist-tags":{"latest":"0.0.5"},"dist":{"shasum":"88f5f163343d49c030a10e63f4701cafaf0562a8","tarball":"http://registry.npmjs.org/iso-http/-/iso-http-0.0.5.tgz"},"maintainers":[{"name":"jedmao","email":"jedmao@outlook.com"}],"readmeFilename":"README.md","time":{"modified":"2015-03-18T17:36:07.263Z","created":"2014-12-05T19:32:55.928Z","0.0.0":"2014-12-05T19:32:55.928Z","0.0.1":"2014-12-05T22:08:53.473Z","0.0.2":"2014-12-08T22:24:56.076Z","0.0.5":"2015-03-18T17:36:07.263Z"},"users":{}}}