{"name":"cf-crud-service-api-builder","description":"Build an HTTP API for a crud-service","version":"0.4.0","tags":[],"repository":"https://github.com/clocklimited/cf-crud-service-api-builder","publishConfig":{"registry":"https://registry.npmjs.org"},"main":"api-builder","scripts":{"lint":"jshint .","pretest":"npm run-script lint","test":"istanbul cover ./node_modules/.bin/_mocha -- --recursive -R spec","posttest":"istanbul check-coverage && rm -rf coverage","prepublish":"npm test && npm prune"},"engines":{"node":">=0.8"},"dependencies":{"async":"^1.5.0","lodash.assign":"^3.2.0","piton-pipe":"0.0.4"},"devDependencies":{"body-parser":"^1.14.2","crud-service":"^0.2.0","express":"^4.13.3","istanbul":"^0.4.1","jshint":"^2.9.1-rc1","mc-logger":"0.0.0","mocha":"^2.3.4","save":"^2.1.1","schemata":"^3.0.0","supertest":"^1.1.0","validity":"^0.0.3"},"gitHead":"51e50ba1749b444a6b6608dd35a6f76a6eed3bd4","homepage":"https://github.com/clocklimited/cf-crud-service-api-builder#readme","versions":[{"number":"0.1.0","date":"2016-03-14T15:48:57.026Z"},{"number":"0.1.1","date":"2016-03-14T15:49:04.076Z"},{"number":"0.1.2","date":"2016-03-14T15:49:11.348Z"},{"number":"0.1.3","date":"2016-03-14T15:49:18.217Z"},{"number":"0.5.0","date":"2016-03-14T15:50:00.115Z"},{"number":"0.2.0","date":"2016-03-14T15:50:52.668Z"},{"number":"0.3.0","date":"2016-03-14T15:51:00.551Z"},{"number":"0.4.0","date":"2016-03-14T15:51:07.850Z"}],"readme":"# cf-crud-service-api-builder\n\nBuild an HTTP API for a [crud-service](https://github.com/serby/crud-service).\n\n## Installation\n\n    npm install --save cf-crud-service-api-builder\n\n## Usage\n\n```js\nvar crudServiceApiBuilder = require('cf-crud-service-api-builder')\n  , router = require('express')()\n  , logger = require('bunyan').createLogger()\n  , service = require('./service')\n  , middleware = require('./auth-check-middleware')\n\ncrudServiceApiBuilder(service, '/widgets', router, logger, middleware)\n```\n\n### Hooks\n\nWhen using the api builder, you can hook into certain actions to manipulate the request data before it is sent to the database or the response data before it is sent to the requester.\n\n```js\n\nvar api = crudServiceApiBuilder(service, '/article', router, logger, middleware)\n\napi.hook('create:request', function (data, cb) {\n  // do whatever you like with the data\n  cb(null, data)\n})\n\n```\n\nSupported hooks are:\n\n* `create:request`\n* `create:response`\n* `read:response`\n* `update:request`\n* `update:response`\n* `partialUpdate:request`\n* `partialUpdate:response`\n\n### Events\n\nWhen using the api builder, you can listen for certain events so that you can add hooks to perform your own actions after a request has been succesful. e.g\n\n```js\n\nvar api = crudServiceApiBuilder(service, '/article', router, logger, middleware)\n\napi.on('create', function (req, newArticle) {\n  // do whatever you like with the req and article object\n})\n\n```\n\nSupported events are:\n\n* `create`\n* `update`\n* `partialUpdate`\n* `delete`\n\n## Credits\nBuilt by developers at [Clock](http://clock.co.uk).\n\n## Licence\nLicensed under the [New BSD License](http://opensource.org/licenses/bsd-license.php)\n","created":"2016-03-14T15:48:57.026Z","modified":"2017-02-10T16:34:05.777Z","lastPublisher":{"name":"bengourley","email":"bn@grly.me"},"owners":[{"name":"bengourley","email":"bn@grly.me"},{"name":"serby","email":"paul@serby.net"}],"other":{"_attachments":{},"_from":".","_id":"cf-crud-service-api-builder","_nodeVersion":"0.10.40","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/cf-crud-service-api-builder-0.4.0.tgz_1457970665379_0.7397688867058605"},"_npmUser":{"name":"bengourley","email":"bn@grly.me"},"_npmVersion":"2.14.8","_rev":"2-20a586c8cc2c13f41d70d36ac6c1a060","_shasum":"cd39d26287dc0df0b2202500eacb8bbf082486af","author":{"name":"Ben Gourley"},"bugs":{"url":"https://github.com/clocklimited/cf-crud-service-api-builder/issues"},"directories":{},"dist-tags":{"latest":"0.4.0"},"dist":{"shasum":"cd39d26287dc0df0b2202500eacb8bbf082486af","tarball":"http://registry.npmjs.org/cf-crud-service-api-builder/-/cf-crud-service-api-builder-0.4.0.tgz"},"maintainers":[{"name":"bengourley","email":"bn@grly.me"},{"name":"serby","email":"paul@serby.net"}],"readmeFilename":"README.md","time":{"modified":"2017-02-10T16:34:05.777Z","created":"2016-03-14T15:48:57.026Z","0.1.0":"2016-03-14T15:48:57.026Z","0.1.1":"2016-03-14T15:49:04.076Z","0.1.2":"2016-03-14T15:49:11.348Z","0.1.3":"2016-03-14T15:49:18.217Z","0.5.0":"2016-03-14T15:50:00.115Z","0.2.0":"2016-03-14T15:50:52.668Z","0.3.0":"2016-03-14T15:51:00.551Z","0.4.0":"2016-03-14T15:51:07.850Z"}}}