{"name":"cf-util-http","description":"Cloudflare HTTP Util","version":"4.0.1","main":"lib/index.js","module":"es/index.js","jsnext:main":"es/index.js","license":"BSD-3-Clause","publishConfig":{"registry":"http://registry.npmjs.org/"},"dependencies":{"cf-util-logger":"^2.2.0","isomorphic-fetch":"^2.2.1","es6-promise":"^4.1.0"},"optionalDependencies":{"es6-promise":"^4.1.0"},"scripts":{},"versions":[{"number":"1.0.0","date":"2015-12-03T04:12:11.713Z"},{"number":"1.0.1","date":"2015-12-03T04:13:12.786Z"},{"number":"1.1.0","date":"2015-12-11T19:24:27.105Z"},{"number":"1.2.0","date":"2015-12-30T01:23:00.767Z"},{"number":"1.2.1","date":"2016-02-02T10:09:18.677Z"},{"number":"1.2.2","date":"2016-02-05T18:58:22.066Z"},{"number":"1.2.3","date":"2016-02-05T19:42:31.830Z"},{"number":"1.2.4","date":"2016-05-16T23:06:56.610Z"},{"number":"2.0.0","date":"2016-06-14T00:48:31.472Z"},{"number":"2.0.1","date":"2016-09-08T23:07:14.115Z"},{"number":"3.0.0","date":"2016-12-01T15:53:53.295Z"},{"number":"3.0.1","date":"2017-02-27T15:28:33.722Z"},{"number":"3.2.0","date":"2017-03-20T19:10:59.182Z"},{"number":"3.3.0","date":"2017-03-24T16:42:26.903Z"},{"number":"3.4.0","date":"2017-03-24T16:59:27.569Z"},{"number":"3.5.0","date":"2017-03-24T19:54:08.559Z"},{"number":"3.5.1","date":"2017-03-28T22:05:38.267Z"},{"number":"3.5.2","date":"2017-03-29T12:38:17.853Z"},{"number":"3.5.3","date":"2017-03-30T13:59:52.791Z"},{"number":"3.5.4","date":"2017-04-03T18:13:41.257Z"},{"number":"3.5.5","date":"2017-04-06T18:59:08.540Z"},{"number":"3.5.6","date":"2017-04-07T17:04:45.515Z"},{"number":"3.5.7","date":"2017-04-12T20:42:51.594Z"},{"number":"3.5.8","date":"2017-04-27T23:55:49.138Z"},{"number":"3.6.0","date":"2017-05-25T14:38:31.422Z"},{"number":"3.5.9","date":"2017-05-25T14:38:57.970Z"},{"number":"3.5.10","date":"2017-05-26T09:20:21.129Z"},{"number":"3.6.1","date":"2017-06-02T13:05:08.921Z"},{"number":"3.6.2","date":"2017-06-05T14:30:49.062Z"},{"number":"3.7.0","date":"2017-06-05T15:55:30.986Z"},{"number":"3.7.1","date":"2017-06-06T16:36:25.992Z"},{"number":"3.8.0","date":"2017-06-06T17:10:11.384Z"},{"number":"3.9.0","date":"2017-06-06T17:23:10.600Z"},{"number":"4.0.0","date":"2017-06-07T09:47:30.865Z"},{"number":"4.0.1","date":"2017-06-07T16:02:12.119Z"}],"readme":"# cf-util-http\n\n> Cloudflare HTTP Util\n\nThis utility library is a simple interface that hides away the client-side http\nimplementation being used so that it can easily be swapped out for something\nelse.\n\n## Installation\n\n```sh\n$ npm install cf-util-http\n```\n\n## Usage\n\n```js\nimport * as http from 'cf-util-http';\n\nhttp.beforeSend(opts => {\n  opts.url = '/api/v4' + opts.url;\n});\n\nhttp.post('/posts', {\n  body: {\n    title: 'A New Post',\n    content: 'Contents of the new post.'\n  }\n}, (err, res) => {\n  if (err) {\n    console.log(err.body); // > { errors: [{ message: 'Error!' }] }\n  } else {\n    console.log(res.body); // > { result: { id: 1, title: 'A New Post', content: 'Contents of the new post.' } }\n  }\n});\n```\n\n## API\n\n### `http.request(method, url, [opts], [callback])`\n\nPerform an HTTP request.\n\n```js\nconst abortRequest = http.request('POST', '/posts', {\n  headers: {...},\n  parameters: {...},\n  body: {...}\n}, callback);\n\nabortRequest();\n```\n\n**Parameters:**\n\n| Name | Type | Description |\n| --- | --- | --- |\n| `method` | `String` | **Required.** The HTTP method type for the request. |\n| `url` | `String` | **Required.** The url to make the request. |\n| `opts` | `Object` | **Optional.** Options for the request. |\n| `opts.parameters` | `Object` | **Optional.** Parameters to be serialized into the url. |\n| `opts.headers` | `Object` | **Optional.** Headers to send with the request. |\n| `opts.body` | `Object` | **Optional.** The body of the request. |\n| `callback` | `Function` | Callback to call when request is complete. |\n\n**Returns:**\n\n`http.request` will return an abort function that you can call to stop the\nrequest from being made.\n\n**`callback`:**\n\nThe callback will receive two arguments: `err` and `res` which will both have\nthe following shape (if they are not `null`):\n\n```js\n{\n  headers: {...},\n  status: 200,\n  body: {...}\n  text: '...'\n}\n```\n\n### `http.[get/post/put/patch/del]`\n\nThese are all shorthands to `http.request` that don't require passing a\n`method`.\n\n### `http.beforeSend(callback)`\n\nModify a request before it is sent. This can be useful for authentication or\nother middleware.\n\n`callback` will be called with a single argument `opts` that you can mutate\nbefore a request will be created. `opts` will have the following shape:\n\n```js\n{\n  method: 'POST',\n  url: '/posts',\n\n  // Headers to be sent along with the request\n  headers: {\n    Accept: 'application/json'\n  },\n\n  // Parameters to be serialized as `?page=1&limit=20` and appended to the url\n  parameters: {\n    page: 1,\n    limit: 20\n  },\n\n  // Body of the request being sent\n  body: {\n    title: 'A New Post',\n    content: 'Contents of the new post.'\n  }\n}\n```\n\nNote that `headers`, `parameters`, and `body` may not exist depending on the\nrequest being made.\n","created":"2015-12-03T04:12:11.713Z","modified":"2017-06-07T16:02:12.119Z","lastPublisher":{"name":"johndotawesome","email":"jrf0110@gmail.com"},"owners":[{"email":"henry@cloudflare.com","name":"handrews"},{"email":"fernandes.sachin@gmail.com","name":"manatarms"},{"email":"npm-readonly@cloudflare.com","name":"cf-ci"},{"email":"jparyani@cloudflare.com","name":"jparyani-cloudflare"},{"email":"npmjs@ryan0x44.com","name":"ryan0x44"},{"email":"jrf0110@gmail.com","name":"johndotawesome"},{"email":"sejoker@gmail.com","name":"sejoker"},{"email":"harley@hturan.com","name":"hturan"},{"email":"mufuyil@gmail.com","name":"thellimist"},{"email":"koddsson@gmail.com","name":"koddsson"},{"email":"wyuenho@gmail.com","name":"wyuenho"},{"email":"mark@cloudflare.com","name":"marksteyn"},{"email":"jculveyhouse@gmail.com","name":"jculvey"},{"email":"john.wineman@gmail.com","name":"jwineman"},{"email":"nick@comer.io","name":"nkcmr"},{"email":"vojtech@miksu.cz","name":"miksu"},{"email":"toekneestuck@gmail.com","name":"toekneestuck"},{"email":"terinjokes@gmail.com","name":"terinjokes"}],"other":{"_attachments":{},"_from":".","_id":"cf-util-http","_nodeVersion":"7.9.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/cf-util-http-4.0.1.tgz_1496851331056_0.25494391773827374"},"_npmUser":{"name":"johndotawesome","email":"jrf0110@gmail.com"},"_npmVersion":"4.2.0","_rev":"63-a05a66c8c9bdf46e4de3268bf7723f8b","_shasum":"f9554d5f17e79dad84781e43fdef966564b907a7","author":{"name":"James Kyle","email":"jkyle@cloudflare.com"},"directories":{},"dist-tags":{"latest":"4.0.1","stable":"3.5.1"},"dist":{"shasum":"f9554d5f17e79dad84781e43fdef966564b907a7","tarball":"https://registry.npmjs.org/cf-util-http/-/cf-util-http-4.0.1.tgz"},"maintainers":[{"email":"henry@cloudflare.com","name":"handrews"},{"email":"fernandes.sachin@gmail.com","name":"manatarms"},{"email":"npm-readonly@cloudflare.com","name":"cf-ci"},{"email":"jparyani@cloudflare.com","name":"jparyani-cloudflare"},{"email":"npmjs@ryan0x44.com","name":"ryan0x44"},{"email":"jrf0110@gmail.com","name":"johndotawesome"},{"email":"sejoker@gmail.com","name":"sejoker"},{"email":"harley@hturan.com","name":"hturan"},{"email":"mufuyil@gmail.com","name":"thellimist"},{"email":"koddsson@gmail.com","name":"koddsson"},{"email":"wyuenho@gmail.com","name":"wyuenho"},{"email":"mark@cloudflare.com","name":"marksteyn"},{"email":"jculveyhouse@gmail.com","name":"jculvey"},{"email":"john.wineman@gmail.com","name":"jwineman"},{"email":"nick@comer.io","name":"nkcmr"},{"email":"vojtech@miksu.cz","name":"miksu"},{"email":"toekneestuck@gmail.com","name":"toekneestuck"},{"email":"terinjokes@gmail.com","name":"terinjokes"}],"readmeFilename":"README.md","time":{"modified":"2017-06-07T16:02:12.119Z","created":"2015-12-03T04:12:11.713Z","1.0.0":"2015-12-03T04:12:11.713Z","1.0.1":"2015-12-03T04:13:12.786Z","1.1.0":"2015-12-11T19:24:27.105Z","1.2.0":"2015-12-30T01:23:00.767Z","1.2.1":"2016-02-02T10:09:18.677Z","1.2.2":"2016-02-05T18:58:22.066Z","1.2.3":"2016-02-05T19:42:31.830Z","1.2.4":"2016-05-16T23:06:56.610Z","2.0.0":"2016-06-14T00:48:31.472Z","2.0.1":"2016-09-08T23:07:14.115Z","3.0.0":"2016-12-01T15:53:53.295Z","3.0.1":"2017-02-27T15:28:33.722Z","3.2.0":"2017-03-20T19:10:59.182Z","3.3.0":"2017-03-24T16:42:26.903Z","3.4.0":"2017-03-24T16:59:27.569Z","3.5.0":"2017-03-24T19:54:08.559Z","3.5.1":"2017-03-28T22:05:38.267Z","3.5.2":"2017-03-29T12:38:17.853Z","3.5.3":"2017-03-30T13:59:52.791Z","3.5.4":"2017-04-03T18:13:41.257Z","3.5.5":"2017-04-06T18:59:08.540Z","3.5.6":"2017-04-07T17:04:45.515Z","3.5.7":"2017-04-12T20:42:51.594Z","3.5.8":"2017-04-27T23:55:49.138Z","3.6.0":"2017-05-25T14:38:31.422Z","3.5.9":"2017-05-25T14:38:57.970Z","3.5.10":"2017-05-26T09:20:21.129Z","3.6.1":"2017-06-02T13:05:08.921Z","3.6.2":"2017-06-05T14:30:49.062Z","3.7.0":"2017-06-05T15:55:30.986Z","3.7.1":"2017-06-06T16:36:25.992Z","3.8.0":"2017-06-06T17:10:11.384Z","3.9.0":"2017-06-06T17:23:10.600Z","4.0.0":"2017-06-07T09:47:30.865Z","4.0.1":"2017-06-07T16:02:12.119Z"}}}