{"name":"stream-http-header-parser","version":"0.0.2","description":"Parse HTTP header in TCP stream","main":"dist/index.js","repository":"https://github.com/marszall87/stream-http-header-parser","engines":{"node":">=6"},"scripts":{"build":"babel src -d dist","prepublish":"npm run build","test":"xo && ava"},"license":"MIT","dependencies":{"duplexify":"^3.5.0","http-headers":"^3.0.1","through2":"^2.0.1"},"devDependencies":{"ava":"^0.16.0","babel-cli":"^6.18.0","babel-plugin-add-module-exports":"^0.2.1","xo":"^0.17.0"},"xo":{"esnext":true,"space":true},"ava":{"require":["babel-register"]},"gitHead":"5794e0d273921aefa9b2d26af5120f406ec7805f","homepage":"https://github.com/marszall87/stream-http-header-parser#readme","versions":[{"number":"0.0.1","date":"2016-11-12T02:18:09.317Z"},{"number":"0.0.2","date":"2016-11-13T21:56:46.127Z"}],"readme":"# stream-http-header-parser [![Build Status](https://travis-ci.org/marszall87/stream-http-header-parser.svg?branch=master)](https://travis-ci.org/marszall87/stream-http-header-parser)\n\n> Parse HTTP header in TCP stream\n\n## Install\n\n```\n$ npm install --save stream-http-header-parser\n```\n\n## Usage\n```js\nconst net = require('net');\nconst createHeaderParser = require('stream-http-header-parser');\n\nnet.createServer(createHeaderParser((headers, stream) => {\n  if (headers.method === 'GET') {\n    stream.on('data', chunk => {\n      const data = chunk.toString();\n      stream.end(`HTTP/1.1 200 OK\\r\\nContent-Type: text/plain\\r\\nContent-Length: ${data.length}\\r\\n\\r\\n${data}`);\n    });\n  } else {\n    stream.end(`HTTP/1.1 404 Not Found`);\n  }\n})).listen(3000);\n```\n\n## API\n\n### createHeaderParser(callback)\n\nReturns a `Function` that should be called with a `stream.Duplex` (e.g. `net.Socket`) that you want to parse.\n\n#### callback(headers, stream)\n\nType: `Function`\n\nThe callback will be called after HTTP headers are parsed. `headers` is an object with the actual headers\n(see [http-headers](https://github.com/watson/http-headers) for details). `stream` is a `stream.Duplex`\nand it's basically a wrapper around the original stream. Note that the `stream` will output all the data\nfrom the original stream, **including the headers**.\n\n## Dependencies\n\n- [http-headers](https://github.com/watson/http-headers)\n- [duplexify](https://github.com/mafintosh/duplexify)\n- [through2](https://github.com/rvagg/through2)\n\n## License\n\nMIT © [Michał Nykiel](https://github.com/marszall87)\n","created":"2016-11-12T02:18:09.317Z","modified":"2016-11-13T21:56:46.127Z","lastPublisher":{"name":"marszall87","email":"marszall87@gmail.com"},"owners":[{"name":"marszall87","email":"marszall87@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"stream-http-header-parser","_nodeVersion":"7.1.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/stream-http-header-parser-0.0.2.tgz_1479074203946_0.3537014927715063"},"_npmUser":{"name":"marszall87","email":"marszall87@gmail.com"},"_npmVersion":"3.10.9","_rev":"2-c220c3d333a5660d58617cb9692f8649","_shasum":"737e22f25d4e120fb3f0a68a468b8bab5f18d98b","author":{"name":"Michał Nykiel","email":"marszall87@gmail.com"},"bugs":{"url":"https://github.com/marszall87/stream-http-header-parser/issues"},"directories":{},"dist-tags":{"latest":"0.0.2"},"dist":{"shasum":"737e22f25d4e120fb3f0a68a468b8bab5f18d98b","tarball":"http://registry.npmjs.org/stream-http-header-parser/-/stream-http-header-parser-0.0.2.tgz"},"maintainers":[{"name":"marszall87","email":"marszall87@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-11-13T21:56:46.127Z","created":"2016-11-12T02:18:09.317Z","0.0.1":"2016-11-12T02:18:09.317Z","0.0.2":"2016-11-13T21:56:46.127Z"}}}