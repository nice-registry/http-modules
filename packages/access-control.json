{"name":"access-control","version":"1.0.0","description":"Easily handle HTTP Access Control (CORS) in your applications","main":"index.js","scripts":{"coverage":"istanbul cover _mocha -- test.js","test":"mocha test.js","test-travis":"istanbul cover _mocha --report lcovonly -- test.js"},"repository":"https://github.com/primus/access-control","keywords":["CORS","HTTP","Access","Control","Access","Control","Allow","Origin","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Max-Age"],"license":"MIT","homepage":"https://github.com/primus/access-control","dependencies":{"millisecond":"0.1.x","setheader":"0.0.x","vary":"1.1.x"},"devDependencies":{"chai":"3.4.x","istanbul":"0.4.x","mocha":"2.3.x","pre-commit":"1.1.x","request":"2.67.x"},"gitHead":"4cf1bc0e54b086c91e6aa44fb14966fa5ef7549c","versions":[{"number":"0.0.0","date":"2014-03-09T21:06:21.257Z"},{"number":"0.0.1","date":"2014-03-10T23:00:47.242Z"},{"number":"0.0.2","date":"2014-03-11T15:16:15.468Z"},{"number":"0.0.3","date":"2014-03-19T22:01:08.056Z"},{"number":"0.0.4","date":"2014-03-26T20:37:49.564Z"},{"number":"0.0.5","date":"2014-09-30T17:56:43.053Z"},{"number":"0.0.6","date":"2014-10-09T15:01:48.156Z"},{"number":"0.0.7","date":"2014-11-28T16:21:56.466Z"},{"number":"0.0.8","date":"2015-07-02T20:20:02.502Z"},{"number":"1.0.0","date":"2015-12-21T13:40:29.659Z"}],"readme":"# HTTP Access-Control (CORS)\n\n[![Version npm](http://img.shields.io/npm/v/access-control.svg?style=flat-square)](http://browsenpm.org/package/access-control)[![Build Status](http://img.shields.io/travis/primus/access-control/master.svg?style=flat-square)](https://travis-ci.org/primus/access-control)[![Dependencies](https://img.shields.io/david/primus/access-control.svg?style=flat-square)](https://david-dm.org/primus/access-control)[![Coverage Status](http://img.shields.io/coveralls/primus/access-control/master.svg?style=flat-square)](https://coveralls.io/r/primus/access-control?branch=master)[![IRC channel](http://img.shields.io/badge/IRC-irc.freenode.net%23primus-00a8ff.svg?style=flat-square)](http://webchat.freenode.net/?channels=primus)\n\n`access-control` implements HTTP Access Control, which more commonly known as\nCORS according to the W3 specification. The code is dead simple, easy to\nunderstand and therefor also easy to contribute to. `access-control` comes with\na really simple API, so it's super simple, super awesome, super stable. All you\nexpect from a small building block module as this.\n\n## Installation\n\n```\nnpm install --save access-control\n```\n\n## Usage\n\nThe module must first be configured before it can be used to add the correct\nCORS information to your HTTP requests. This is done by suppling the module with\noptions.\n\n```js\n'use strict';\n\nvar access = require('access-control');\n```\n\nAfter requiring the module you can supply the returned function with an options\nobject which can contain the following properties:\n\n<dl>\n  <dt>origins</dt>\n  <dd>\n    An Array or comma separated list of origins that are allowed to access the\n    URL. If this option is not supplied it will default to <code>*</code> which\n    will allow every origin.\n  </dd>\n  <dt>methods</dt>\n  <dd>\n    An Array or comma separated list of HTTP methods that can be used to access\n    the URL. This defaults to GET, HEAD, PUT, POST, DELETE and OPTIONS.\n  </dd>\n  <dt>credentials</dt>\n  <dd>\n    Allow sending of authorization and cookie information in the request. If\n    this option is set to <code>true</code> (which is also the default value) in\n    combination with the <code>origins</code> option to set to <code>*</code> we\n    will automatically change the <code>Access-Control-Allow-Origin</code>\n    header to the sent <code>Origin</code> header. As <code>*</code> as origin\n    in combination with <code>true</code> as value is not allowed by the\n    specification.\n  </dd>\n  <dt>maxAge</dt>\n  <dd>\n    The maximum duration that a client can cache the response of the preflight\n    or <code>OPTIONS</code> request. The value can be set in numbers or a human\n    readable string which we will parse with the <strong>ms</strong> module. We\n    default to 30 days.\n  </dd>\n  <dt>headers</dt>\n  <dd>\n    An Array or comma separated list of headers that is allowed to be sent to\n    the server. This option is disabled by default.\n  </dd>\n  <dt>exposed</dt>\n  <dd>\n    An Array or comma separated list of headers that is exposed to the client\n    that makes the request. This option is disabled by default.\n  </dd>\n</dl>\n\n```js\nvar cors = access({\n  maxAge: '1 hour',\n  credentials: true,\n  origins: 'http://example.com'\n});\n```\n\nNow the `cors` variable contains a function that should receive your `request`\nand `response`. So it's as easy as:\n\n```js\nvar http = require('http').createServer(function (req, res) {\n  if (cors(req, res)) return;\n\n  res.end('hello world');\n}).listen(8080);\n```\n\nYou might have noticed that we've added an if statement around our `cors`\nfunction call. This is because the module will be answering the preflight\nrequest for you. So when it returns the **boolean** `true` you don't have to\nrespond the request any more. In addition to the answering the option request is\nalso answer the requests with a `403 Forbidden` when the validation of the\nAccess Control is failing.\n\nIn order to not waste to much bandwidth, the CORS headers will only be added if\nthe request contains an `Origin` header, which should be sent by every request\nthat requires HTTP Access Control information.\n\n## Phonegap & Origin: null\n\nIf you're using Phonegap, your XHR requests will be sent with `Origin: null` as\nOrigin header. In order to resolve this you must add the domain you are\nrequesting to your origin white list:\n\nhttp://docs.phonegap.com/en/1.9.0/guide_whitelist_index.md.html\n\nThis will ensure that the correct headers will be used for these cross\ndomain/origin requests.\n\n## Related reading\n\nIf you're interested in learning more about HTTP Access Control (CORS) here's a\ngood list to get started with:\n\n- [W3C's CORS Spec](http://www.w3.org/TR/cors/)\n- [HTML5 Rocks CORS Tutorial](http://www.html5rocks.com/en/tutorials/cors/)\n- [Mozilla's HTTP access control (CORS)](https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS)\n- [Mozilla's Server-Side Access Control](https://developer.mozilla.org/en-US/docs/Server-Side_Access_Control)\n- [Enable CORS](http://enable-cors.org)\n- [Same origin policy](http://en.wikipedia.org/wiki/Same_origin_policy)\n\n## License\n\nMIT\n","starsCount":0,"created":"2014-03-09T21:06:21.257Z","modified":"2015-12-21T13:40:29.659Z","lastPublisher":{"name":"lpinca","email":"luigipinca@gmail.com"},"owners":[{"name":"davedoesdev","email":"dahalls@gmail.com"},{"name":"jcrugzz","email":"jcrugzz@gmail.com"},{"name":"lpinca","email":"luigipinca@gmail.com"},{"name":"swaagie","email":"info@martijnswaagman.nl"},{"name":"v1","email":"info@3rd-Eden.com"},{"name":"3rdeden","email":"npm@3rd-Eden.com"}],"other":{"_attachments":{},"_from":".","_id":"access-control","_nodeVersion":"4.2.3","_npmUser":{"name":"lpinca","email":"luigipinca@gmail.com"},"_npmVersion":"2.14.7","_rev":"1-bb437864bae4896a1637a729ed9210d8","_shasum":"aeba282cee77313e85240163d69e35b29e36d626","author":{"name":"Arnout Kazemier"},"bugs":{"url":"https://github.com/primus/access-control/issues"},"directories":{},"dist-tags":{"latest":"1.0.0"},"dist":{"shasum":"aeba282cee77313e85240163d69e35b29e36d626","tarball":"http://registry.npmjs.org/access-control/-/access-control-1.0.0.tgz"},"maintainers":[{"name":"davedoesdev","email":"dahalls@gmail.com"},{"name":"jcrugzz","email":"jcrugzz@gmail.com"},{"name":"lpinca","email":"luigipinca@gmail.com"},{"name":"swaagie","email":"info@martijnswaagman.nl"},{"name":"v1","email":"info@3rd-Eden.com"},{"name":"3rdeden","email":"npm@3rd-Eden.com"}],"readmeFilename":"README.md","time":{"modified":"2015-12-21T13:40:29.659Z","created":"2014-03-09T21:06:21.257Z","0.0.0":"2014-03-09T21:06:21.257Z","0.0.1":"2014-03-10T23:00:47.242Z","0.0.2":"2014-03-11T15:16:15.468Z","0.0.3":"2014-03-19T22:01:08.056Z","0.0.4":"2014-03-26T20:37:49.564Z","0.0.5":"2014-09-30T17:56:43.053Z","0.0.6":"2014-10-09T15:01:48.156Z","0.0.7":"2014-11-28T16:21:56.466Z","0.0.8":"2015-07-02T20:20:02.502Z","1.0.0":"2015-12-21T13:40:29.659Z"},"users":{}}}