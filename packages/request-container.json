{"name":"request-container","version":"0.0.5","description":"a request container enables you to manage http request","main":"index.js","typescript":{"definition":"index.d.ts"},"repository":"https://github.com/jf3096/request-conatiner","scripts":{"test":"mocha ./tests/**/*.js --timeout 10000","tds":"dts-generator --name request-container --project ./ --out index.d.ts"},"keywords":["request","request","container","ajax","container","ajax","request","fetch","request","middleware"],"license":"MIT","devDependencies":{"chai":"^3.5.0","dts-generator":"^2.0.0","mocha":"^3.1.2","object-assign":"^4.1.0"},"gitHead":"673a6ba42fbb156e622810f4799b4b271354058f","homepage":"https://github.com/jf3096/request-conatiner#readme","versions":[{"number":"0.0.4","date":"2016-11-24T08:09:59.342Z"},{"number":"0.0.5","date":"2016-11-25T03:09:10.234Z"}],"readme":"request-container\r\n---------------------------------\r\n\r\nThis library is an extremely lightweight only do two things:\r\n\r\n1. Same http requests should derive same result at the same range of time.\r\n\r\n2. Every http requests should pass to a container so that developer could manage it anytime anywhere.\r\n\r\n### Senarios\r\n1. For any component oriented application such as react, vue, angular, each component works independently and isolately.\r\nTherefore, if any two component dispatch same http request at around same time, mutiple same requests made. TO mitigate this,\r\n<b>request-conatinersolves this problem to ensure all same requests are only made one and only one outgoing http request at same range of time.</b>\r\n\r\n2. For Single Page Applications, they make use of Html5 History Api to manage routing. However, any requests that made in previous page might be\r\nhard to manage/cancel. Imagine the performance when a user is uploading 100mb file and unpatiently leave the page, the 100mb file upload connection is\r\nstill there if developer not manually terminate it. <b>request-conatiner solves this problem to as it provide a container to preserve processing request.</b>\r\n\r\n### Environment\r\n\r\n> NodeJS\r\n\r\n> Browser\r\n\r\n### Language\r\n\r\n> JavaScript\r\n\r\n> Typescript\r\n\r\n### How to use\r\n\r\nWhat you need to do is to pass your promise request in the requestContainer and it will return you a promiseState which contains\r\nyour promise as well as current promise request status (none/loading/success/error).\r\n\r\n##### Javascript\r\n\r\n```javascript\r\n    import RequestContainer from 'request-container';\r\n    const requestContainer = RequestContainer.getInstance();\r\n\r\n    // const promiseState = requestContainer.put(<a key used to identify your request>, \r\n    // <a function that will execute a request and return a promise>);\r\n    const promiseState = requestContainer.put(JSON.stringify(requestParam), promiseFn);\r\n```\r\n\r\n##### Typescript\r\n\r\n```typescript\r\n    import RequestContainer from 'request-container';\r\n    const requestContainer = RequestContainer.getInstance();\r\n\r\n    //type RequestParamType = {url: 'www.example.com/api', data: {token:123}, method: 'get'};\r\n    //promiseFn:() =>Promise<any>, e.g.  promiseFn = ()=>$.ajax(...);\r\n    const promiseState = requestContainer.put(JSON.stringify(requestParam), promiseFn);\r\n```\r\n\r\n### Concurrent Same Request\r\nHere is a scenario for concurrent same request (for more example please check the [tests folder](https://github.com/jf3096/request-conatiner/tree/master/tests))\r\n\r\n```typescript\r\n    import RequestContainer from 'request-container';\r\n    \r\n    function httpRequest(duration:number): Promise<void>{\r\n       return new Promise(()=>setTimeout(resolve,number))\r\n    }\r\n    \r\n    const requestContainer = RequestContainer.getInstance();\r\n    \r\n    //assume first attempt request consumes 2 sec\r\n    const requestParam1 = {url: 'www.example.com/api', data: {token:123}, method: 'get'};\r\n    const promiseFn1 = ()=>httpRequest(2000);\r\n    const promiseState1 = requestContainer.put(JSON.stringify(requestParam1), promiseFn1);\r\n    \r\n    //assume second attempt request consumes 4 sec, it doesn't matter how long it takes\r\n    const requestParam2 = {url: 'www.example.com/api', data: {token:123}, method: 'get'};\r\n    const promiseFn2 = ()=>httpRequest(4000);\r\n    const promiseState2 = requestContainer.put(JSON.stringify(requestParam2), promiseFn2);\r\n    \r\n    /**\r\n    * since they are exactly the same request, therefore if request1 sent\r\n    * request2 will be intercepted and points to request1, which means request1 will share the response with request2\r\n    * the entire process therefore will have one and only one outgoing request.\r\n    */\r\n```\r\n\r\n### Roadmap\r\nThe request-container will be used as a small part of module in next library which is about smart http request caching. I am stuck at how to create a suitable algorithm to handle cache garbage collection (GC). Once done, it will make more sense of why\r\nrequest-container is simple but very useful for any request module for any project.\r\n\r\n### Unit Testing\r\nThis library has been gone through proper unit testing under the [tests folder](https://github.com/jf3096/request-conatiner/tree/master/tests), feel free to use the request-container :)\r\n\r\n### License\r\nMIT\r\n","created":"2016-11-24T08:09:59.342Z","modified":"2016-11-25T03:09:10.234Z","lastPublisher":{"name":"jf3096","email":"allenps1991@hotmail.com"},"owners":[{"name":"jf3096","email":"allenps1991@hotmail.com"}],"other":{"_attachments":{},"_from":".","_id":"request-container","_nodeVersion":"7.0.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/request-container-0.0.5.tgz_1480043348251_0.600130780832842"},"_npmUser":{"name":"jf3096","email":"allenps1991@hotmail.com"},"_npmVersion":"3.10.7","_rev":"2-55e88e73bfb42615db2b87bfbe69bf9d","_shasum":"c57ca845c0b4a188f96fa74b535cea2ec87f3bca","author":{"name":"Ailun She"},"bugs":{"url":"https://github.com/jf3096/request-conatiner/issues"},"directories":{},"dist-tags":{"latest":"0.0.5"},"dist":{"shasum":"c57ca845c0b4a188f96fa74b535cea2ec87f3bca","tarball":"http://registry.npmjs.org/request-container/-/request-container-0.0.5.tgz"},"maintainers":[{"name":"jf3096","email":"allenps1991@hotmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-11-25T03:09:10.234Z","created":"2016-11-24T08:09:59.342Z","0.0.4":"2016-11-24T08:09:59.342Z","0.0.5":"2016-11-25T03:09:10.234Z"}}}