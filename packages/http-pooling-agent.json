{"name":"http-pooling-agent","description":"HTTP agent with smart socket pool","version":"1.0.0","license":"Apache-2.0","repository":"https://github.com/telefonica/node-http-pooling-agent","main":"lib/httpAgent","engines":{"node":">= 0.10.26"},"scripts":{"test":"mocha -R spec test/environment.js test/unit/*-test.js","coverage":"istanbul cover ./node_modules/mocha/bin/_mocha -- -R dot test/environment.js test/unit/*-test.js","lint":"jscs lib && eslint lib","prepublish":"npm run test && npm run lint","travis":"istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec test/environment.js test/*-test.js && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage"},"devDependencies":{"chai":"^3.0.0","coveralls":"^2.11.2","istanbul":"^0.3.16","mocha":"^2.2.5","proxyquire":"^1.5.0","should":"^7.0.1","sinon":"~1.15.3","sinon-chai":"^2.8.0","supertest":"^1.0.1","xunit-file":"^0.0.4","jscs":"^1.13.1","eslint":"^0.23.0"},"dependencies":{},"keywords":["http","agent"],"gitHead":"a00a9668b762066b6ffb93964d592a9b86eb52e4","homepage":"https://github.com/telefonica/node-http-pooling-agent#readme","versions":[{"number":"1.0.0","date":"2015-06-25T16:04:42.857Z"}],"readme":"# http-pooling-agent\n\nHTTP agent with smart socket pool.\n\n[![npm version](https://badge.fury.io/js/http-pooling-agent.svg)](http://badge.fury.io/js/http-pooling-agent)\n[![Build Status](https://travis-ci.org/telefonica/node-http-pooling-agent.svg)](https://travis-ci.org/telefonica/node-http-pooling-agent)\n\nThe HTTP agent is based on original [node HTTP agent](https://github.com/joyent/node/blob/f3189ace6b5e31a874df421ac2f74da0e77cb14d/lib/_http_agent.js) with some modifications in order to:\n* Do not close sockets if there is no pending HTTP request. Default HTTP agent only reuses an open socket if there is a request already waiting for delivery. However, in stress situations, it is probable to close a socket that could be reused for a new request that is about to reach, degrading the performance and exhausting the available sockets to open new connections.\n* Close sockets after a configurable period of inactivity to save resources. It uses the `freeSocketsTimeout` option to set up this inactivity period (in milliseconds).\n\nUnlike other available HTTP agents, sockets are not opened forever. After an inactivity period, they are closed to save resources.\n\n## Installation\n\n```bash\nnpm install http-pooling-agent\n```\n\n## Basic usage\n\n### HTTP usage\n\n```js\nvar http = require('http'),\n    httpAgent = require('http-pooling-agent');\n\nvar agent = new httpAgent.Agent({\n  freeSocketsTimeout: 10000\n});\n\nvar options = {\n  host: 'localhost',\n  port: 3000,\n  path: '/',\n  method: 'GET',\n  agent: agent\n};\nvar req = http.request(options, function (res) {\n});\nreq.end();\n```\n\n### HTTPS usage\n\n```js\nvar https = require('https'),\n    httpAgent = require('http-pooling-agent');\n\nvar agent = new httpAgent.SSL.Agent({\n  keepAliveMsecs: 5000\n});\n\nvar options = {\n  host: 'localhost',\n  port: 8443,\n  path: '/',\n  method: 'GET',\n  agent: agent\n};\nvar req = https.request(options, function (res) {\n});\nreq.end();\n```\n\n## Configuration\n\nThe agent is configured with a set of options:\n\n| Option | Type | Default | Description |\n| ------ | ---- | ------- | ----------- |\n| keepAlive | Boolean | true | Keep sockets around in a pool to be used by other requests in the future |\n| keepAliveMsecs | Integer | 30000 | When using HTTP KeepAlive, how often to send TCP KeepAlive packets over sockets being kept alive. Only relevant if keepAlive is set to true. |\n| maxSockets | Number | Infinity | Maximum number of sockets to allow per host. |\n| maxFreeSockets | Number | Infinity | Maximum number of sockets to leave open in a free state. Only relevant if keepAlive is set to true. |\n| freeSocketsTimeout | Integer | 45000 | Maximum inactivity period (in milliseconds) to keep open an idle socket. |\n\n**NOTE**: These options are the same options than the [default agent](https://nodejs.org/api/http.html#http_new_agent_options) with two differences:\n* Default values are different.\n* The option `freeSocketsTimeout` does not exist in the default agent.\n\n## License\n\nCopyright 2015 [Telefónica Investigación y Desarrollo, S.A.U](http://www.tid.es)\n\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at\n\nhttp://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n","created":"2015-06-25T16:04:42.857Z","modified":"2015-06-26T10:49:35.160Z","lastPublisher":{"name":"jlorgal","email":"jlorgal@gmail.com"},"owners":[{"name":"jlorgal","email":"jlorgal@gmail.com"},{"name":"palmerabollo","email":"palmerabollo@gmail.com"},{"name":"labajo","email":"juanantonio.hernandolabajo@telefonica.com"},{"name":"nitroduna","email":"nitroduna@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"http-pooling-agent","_nodeVersion":"0.12.0","_npmUser":{"name":"jlorgal","email":"jlorgal@gmail.com"},"_npmVersion":"2.11.3","_rev":"1-52e33df37f5dbedc48c06e7655647c42","_shasum":"ef9265a743e7854e611a09f2ceb50e32be6b4f19","author":{"name":"Pedro Ballesteros Herranz","email":"pedro.ballesterosherranz@telefonica.com"},"bugs":{"url":"https://github.com/telefonica/node-http-pooling-agent/issues"},"contributors":[{"name":"Jorge Lorenzo Gallardo","email":"jorge.lorenzogallardo@telefonica.com"}],"directories":{},"dist-tags":{"latest":"1.0.0"},"dist":{"shasum":"ef9265a743e7854e611a09f2ceb50e32be6b4f19","tarball":"http://registry.npmjs.org/http-pooling-agent/-/http-pooling-agent-1.0.0.tgz"},"maintainers":[{"name":"jlorgal","email":"jlorgal@gmail.com"},{"name":"palmerabollo","email":"palmerabollo@gmail.com"},{"name":"labajo","email":"juanantonio.hernandolabajo@telefonica.com"},{"name":"nitroduna","email":"nitroduna@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-06-26T10:49:35.160Z","created":"2015-06-25T16:04:42.857Z","1.0.0":"2015-06-25T16:04:42.857Z"}}}