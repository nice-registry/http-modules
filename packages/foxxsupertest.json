{"name":"foxxsupertest","version":"0.0.4","description":"HTTP assertions adopted from Supertest for ArangoDB Foxx","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["supertest","foxx","arangodb","api","test"],"license":"MIT","repository":"https://github.com/fedgerio/foxxsupertest","homepage":"https://github.com/fedgerio/foxxsupertest#readme","gitHead":"84360e933e4ae5af5b79029080d234b681757b29","readme":"# FoxxSupertest\nHTTP assertions adopted from [Supertest](https://github.com/visionmedia/supertest#supertest-) for ArangoDB Foxx\n\n\n## Requirements\nYou will need to have **at least ArangoDb 2.6** installed.\n\n## Installation\n`npm install foxxsupertest`\n\n\n## Instructions\nYou will need to pass the following option when you first initialize the module:\n* `applicationContext` : This is the default global application context variable within your Foxx app.\n* `serverAddress` : Your ArangoDB server address, e.g: `http://localhost:8529`.\n* `baseURL` : Your database mounting point (not the Foxx mounting point), e.g: `/_db/_system`.\n\n\n\n## Examples\nFoxxSupertest works well with Mocha shipped-in with ArangoDB 2.6. The following examples demonstrate how it works as it differ a little bit from the original Supertest:\n\n```javascript\nlet request = require(\"foxxsupertest\")(applicationContext, \"http://localhost:8529\");\ndescribe(\"GET /test\", function(){\n  it(\"should responds with 200\", function(done){\n    request\n      .get('/test')\n      .expect(200)\n      .end(function(err, res){\n        if(err) throw err;\n        done();\n      });\n  });\n}\n```\nAs the original SuperTest, you can add many `expect` with different types:\n\n```javascript\nlet request = require(\"foxxsupertest\")(applicationContext, \"http://localhost:8529\");\ndescribe(\"GET /test\", function(){\n  it(\"should responds with json and 200\", function(done){\n    request\n      .get('/test')\n      .expect('Content-Type', /json/)\n      .expect(200)\n      .end(function(err, res){\n        if(err) throw err;\n        done();\n      });\n  });\n}\n```\n\nIf you want to add headers and content to your request, you will need to add them to the request options since FoxxSupertest uses the [request module](https://docs.arangodb.com/ModuleRequest/index.html) shipped with ArangoDB to simulate the http requests:\n\n```javascript\nlet request = require(\"foxxsupertest\")(applicationContext, \"http://localhost:8529\");\ndescribe(\"GET /users\", function(){\n  it(\"should responds with json and 200\", function(done){\n    request\n      .post('/test',{\n        auth: {\n          username : \"test\",\n          password : \"test\"\n        },\n        body: {\n          content: \"content to post\"\n        },\n        json: true\n      })\n      .expect('Content-Type', /json/)\n      .expect(200)\n      .end(function(err, res){\n        if(err) throw err;\n        done();\n      });\n  });\n}\n```\n\n## API\nFoxxSupertest uses the similar API which Supertest uses:\n\n### .expect(status[, fn])\n\n  Assert response `status` code.\n\n### .expect(status, body[, fn])\n\n  Assert response `status` code and `body`.\n\n### .expect(body[, fn])\n\n  Assert response `body` text with a string, regular expression, or\n  parsed body object.\n\n### .expect(field, value[, fn])\n\n  Assert header `field` `value` with a string or regular expression.\n  \n### .end(fn)\nPerform the request and invoke `fn(err, res)`.\n\n\n## Notes\nAs we mentioend before, this module was adopted from Supertest, hence we resued some of the original source code to work with this module\n\n## Author\nOmar A. Al-Safi (omarsmak@gmail.com, omar@fedger.io)\n\n## License\nMIT\n","versions":[{"number":"0.0.2","date":"2015-06-23T19:32:08.982Z"},{"number":"0.0.3","date":"2015-06-23T20:28:26.639Z"},{"number":"0.0.4","date":"2015-06-23T20:40:02.631Z"}],"starsCount":2,"created":"2015-06-23T19:32:08.982Z","modified":"2015-06-23T20:40:02.631Z","lastPublisher":{"name":"omarsmak","email":"omarsmak@gmail.com"},"owners":[{"name":"omarsmak","email":"omarsmak@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"foxxsupertest","_nodeVersion":"0.12.4","_npmUser":{"name":"omarsmak","email":"omarsmak@gmail.com"},"_npmVersion":"2.10.1","_rev":"1-826684eb8cb74150d804bf1d551b621a","_shasum":"7cdbb3350e5a9c89a132f35b2073a873759d0cff","author":{"name":"Omar Al-Safi","email":"omarsmak@gmail.com"},"bugs":{"url":"https://github.com/fedgerio/foxxsupertest/issues"},"directories":{},"dist-tags":{"latest":"0.0.4"},"dist":{"shasum":"7cdbb3350e5a9c89a132f35b2073a873759d0cff","tarball":"http://registry.npmjs.org/foxxsupertest/-/foxxsupertest-0.0.4.tgz"},"maintainers":[{"name":"omarsmak","email":"omarsmak@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-06-23T20:40:02.631Z","created":"2015-06-23T19:32:08.982Z","0.0.2":"2015-06-23T19:32:08.982Z","0.0.3":"2015-06-23T20:28:26.639Z","0.0.4":"2015-06-23T20:40:02.631Z"},"users":{"omarsmak":true,"frankg":true}}}