{"name":"response-spy","version":"0.0.4","description":"Intercepts HTTP response headers && body (without any man-in-the-middle http proxy server)","main":"index.js","scripts":{"test":"mocha --reporter spec test/unit && node test/functional/test.js","lint":"eslint index.js example.js lib/*.js","precommit":"npm run lint && npm test"},"keywords":["cache","static","response","res"],"repository":"https://github.com/alessioalex/response-spy","license":"MIT","devDependencies":{"eslint":"^0.23.0","express":"~3.4.8","fills":"0.0.1","husky":"^0.8.1","mocha":"~1.17.0","once":"~1.3.0","request":"~2.33.0","should":"~3.0.1","waits":"~0.1.0"},"dependencies":{"is-stream-ended":"^0.1.0","sliced":"0.0.5"},"gitHead":"ca8c400e9e58c54bc73e46f17e3f025b1a981a92","homepage":"https://github.com/alessioalex/response-spy#readme","versions":[{"number":"0.0.1","date":"2014-01-25T16:49:54.878Z"},{"number":"0.0.2","date":"2014-02-21T12:39:24.367Z"},{"number":"0.0.3","date":"2015-06-24T09:14:45.530Z"},{"number":"0.0.4","date":"2015-09-10T15:20:17.254Z"}],"readme":"     _ __ ___  ___ _ __   ___  _ __  ___  ___        ___ _ __  _   _ \n    | '__/ _ \\/ __| '_ \\ / _ \\| '_ \\/ __|/ _ \\      / __| '_ \\| | | |\n    | | |  __/\\__ \\ |_) | (_) | | | \\__ \\  __/      \\__ \\ |_) | |_| |\n    |_|  \\___||___/ .__/ \\___/|_| |_|___/\\___|      |___/ .__/ \\__, |\n                  | |                                   | |     __/ |\n                  |_|                                   |_|    |___/ \n\nNode module for intercepting HTTP responses sent in your apps.\n\n## Example\n\n```js\nvar http = require('http');\nvar intercept = require('response-spy');\n\nhttp.createServer(function(req, res) {\n  // returns a readable stream with the response output as the data\n  var stream = intercept(res);\n\n  // You can also see the headers sent, uncomment below\n  /*\n  stream.on('headers', function(headers, statusCode) {\n    // headers === Array || null (implicit headers)\n    console.log('url: %s, headers: ', req.url, headers);\n  });\n  */\n\n  stream.pipe(process.stdout);\n\n  if (req.url === '/') {\n    res.setHeader('X-Powered-By', 'alessioalex');\n    res.writeHead(200, { 'Content-Type': 'text/html', 'X-Pid': 1239 });\n    res.end('Hello world\\n');\n  } else if (req.url === '/pipe') {\n    require('fs').createReadStream(__filename).pipe(res);\n  } else if (req.url === '/implicit-headers') {\n    res.end('go\\n');\n  } else {\n    res.writeHead(404, { 'Connection': 'closed', 'Content-Type': 'text/html' });\n    res.end('Page Not Found\\n');\n  }\n}).listen(5000);\nconsole.log('Ok good, now visit http://localhost:5000/ && http://localhost:5000/pipe');\nconsole.log('.. and then check your terminal');\n```\n\n## How does it work?\n\nIt overrides the `OutgoingMessage` native functions (`write`, `writeHead`, `end`, `setHeader`, `removeHeader`), without affecting your apps (the original functions will be called with the same params, these are just thin wrappers).\nWith `response-spy` you practically get a `ReadableStream` from your `response` object.\n\n## Use cases\n\n- generating cache\n- traffic analysis\n- etc\n\n## License MIT\n","created":"2014-01-25T16:49:54.878Z","modified":"2015-09-10T15:20:17.254Z","lastPublisher":{"name":"alessioalex","email":"alexandru.vladutu@gmail.com"},"owners":[{"name":"alessioalex","email":"alexandru.vladutu@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"response-spy","_nodeVersion":"0.10.38","_npmUser":{"name":"alessioalex","email":"alexandru.vladutu@gmail.com"},"_npmVersion":"2.12.0","_rev":"1-01901f558fb3c9767af17a26fb3f96b4","_shasum":"bde0aed90a815f04edf2059fd21f2c7f982db63a","author":{"name":"Alexandru Vladutu","email":"alexandru.vladutu@gmail.com"},"bugs":{"url":"https://github.com/alessioalex/response-spy/issues"},"directories":{},"dist-tags":{"latest":"0.0.4"},"dist":{"shasum":"bde0aed90a815f04edf2059fd21f2c7f982db63a","tarball":"http://registry.npmjs.org/response-spy/-/response-spy-0.0.4.tgz"},"maintainers":[{"name":"alessioalex","email":"alexandru.vladutu@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-09-10T15:20:17.254Z","created":"2014-01-25T16:49:54.878Z","0.0.1":"2014-01-25T16:49:54.878Z","0.0.2":"2014-02-21T12:39:24.367Z","0.0.3":"2015-06-24T09:14:45.530Z","0.0.4":"2015-09-10T15:20:17.254Z"}}}