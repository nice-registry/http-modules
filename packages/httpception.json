{"name":"httpception","version":"0.5.2","description":"Mock HTTP module","main":"lib/httpception.js","scripts":{"lint":"eslint .","test":"mocha","travis":"npm test && npm run lint && npm run coverage && (<coverage/lcov.info coveralls || true)","coverage":"NODE_ENV=development nyc --reporter=lcov --reporter=text --all -- mocha && echo google-chrome coverage/lcov-report/index.html"},"license":"BSD-3-Clause","dependencies":{"unexpected":"^10.27.0","unexpected-mitm":"^10.0.0"},"devDependencies":{"coveralls":"^2.12.0","eslint":"^3.18.0","eslint-config-onelint":"^2.0.0","mocha":"^3.2.0","nyc":"^10.1.2","unexpected-http":"^5.6.0"},"nyc":{"include":["lib/**"]},"gitHead":"ff75a635330c7d5c169a74197a5bc3f04d488473","versions":[{"number":"0.1.0","date":"2016-11-15T23:21:40.761Z"},{"number":"0.1.1","date":"2016-11-15T23:44:08.104Z"},{"number":"0.1.2","date":"2016-11-15T23:50:39.047Z"},{"number":"0.1.3","date":"2016-11-16T22:36:46.144Z"},{"number":"0.1.4","date":"2016-11-17T22:47:33.794Z"},{"number":"0.2.0","date":"2016-11-22T12:58:56.842Z"},{"number":"0.2.1","date":"2017-01-09T09:04:57.659Z"},{"number":"0.3.0","date":"2017-02-23T07:55:50.964Z"},{"number":"0.3.1","date":"2017-03-06T15:37:39.219Z"},{"number":"0.3.2","date":"2017-03-09T23:30:20.035Z"},{"number":"0.4.0","date":"2017-03-21T21:07:08.013Z"},{"number":"0.4.1","date":"2017-03-26T15:25:57.374Z"},{"number":"0.4.2","date":"2017-04-27T08:20:37.646Z"},{"number":"0.4.3","date":"2017-04-28T12:44:42.109Z"},{"number":"0.5.0","date":"2017-05-01T20:24:42.335Z"},{"number":"0.5.1","date":"2017-05-01T20:45:01.494Z"},{"number":"0.5.2","date":"2017-05-23T12:14:15.146Z"}],"readme":"httpception\n===========\n\n[![NPM version](https://badge.fury.io/js/httpception.svg)](http://badge.fury.io/js/httpception)\n[![Build Status](https://travis-ci.org/papandreou/httpception.svg?branch=master)](https://travis-ci.org/papandreou/httpception)\n[![Coverage Status](https://coveralls.io/repos/papandreou/httpception/badge.svg)](https://coveralls.io/r/papandreou/httpception)\n[![Dependency Status](https://david-dm.org/papandreou/httpception.svg)](https://david-dm.org/papandreou/httpception)\n\nMock out HTTP traffic during a test, experimentally extracted from\n[unexpected-mitm](https://github.com/unexpectedjs/unexpected-mitm/):\n\n```js\nvar httpception = require('httpception');\nvar got = require('got');\nvar assert = require('assert');\n\nit('should perform the right HTTP request', () => {\n    httpception({\n        request: 'GET http://example.com/foobar',\n        response: {\n            headers: {\n                'Content-Type': 'text/plain'\n            },\n            body: 'the text'\n        }\n    });\n\n    return got('example.com/foobar')\n        .then(response => {\n            assert.equal(response.body, 'the text');\n        });\n});\n```\n\nThe http module will automatically be restored when the test ends. That\nis detected by registering an `afterEach` block and failing from that if\nyou have unexercised mocks.\n\nIf you think that involves too much magic, you can also pass a function as\nthe last parameter. It will be invoked by httpception when the mocks\nare in place, and the mocks will be removed after it has exited. If the\nfunction returns a promise, the mocks will be kept until the promise has\nresolved:\n\n```js\nit('should perform the right HTTP request', () => httpception({\n    request: 'GET /foobar',\n    response: {\n        statusCode: 200,\n        body: 'the text'\n    }\n}, () => {\n    return got('example.com/foobar')\n        .then(response => {\n            assert.equal(response.body, 'the text');\n        });\n}));\n```\n\nWhen the test is done, the http module will automatically be restored,\nand the test will fail if there are unexercised mocks.\n","created":"2016-11-15T23:21:40.761Z","modified":"2017-05-23T12:14:15.146Z","lastPublisher":{"name":"gustavnikolaj","email":"gustavnikolaj@gmail.com"},"owners":[{"name":"gustavnikolaj","email":"gustavnikolaj@gmail.com"},{"name":"papandreou","email":"andreas@one.com"}],"other":{"_attachments":{},"_from":".","_id":"httpception","_nodeVersion":"7.8.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/httpception-0.5.2.tgz_1495541654216_0.12191815814003348"},"_npmUser":{"name":"gustavnikolaj","email":"gustavnikolaj@gmail.com"},"_npmVersion":"4.2.0","_rev":"18-c1f40b7339f4b2bc8f99af6dffc5f422","_shasum":"42ed7aee82708fa94fbeeeb97ab862dbaf07e5fd","author":{"name":"Andreas Lind","email":"andreas@one.com"},"directories":{},"dist-tags":{"latest":"0.5.2"},"dist":{"shasum":"42ed7aee82708fa94fbeeeb97ab862dbaf07e5fd","tarball":"https://registry.npmjs.org/httpception/-/httpception-0.5.2.tgz"},"maintainers":[{"name":"gustavnikolaj","email":"gustavnikolaj@gmail.com"},{"name":"papandreou","email":"andreas@one.com"}],"readmeFilename":"README.md","time":{"modified":"2017-05-23T12:14:15.146Z","created":"2016-11-15T23:21:40.761Z","0.1.0":"2016-11-15T23:21:40.761Z","0.1.1":"2016-11-15T23:44:08.104Z","0.1.2":"2016-11-15T23:50:39.047Z","0.1.3":"2016-11-16T22:36:46.144Z","0.1.4":"2016-11-17T22:47:33.794Z","0.2.0":"2016-11-22T12:58:56.842Z","0.2.1":"2017-01-09T09:04:57.659Z","0.3.0":"2017-02-23T07:55:50.964Z","0.3.1":"2017-03-06T15:37:39.219Z","0.3.2":"2017-03-09T23:30:20.035Z","0.4.0":"2017-03-21T21:07:08.013Z","0.4.1":"2017-03-26T15:25:57.374Z","0.4.2":"2017-04-27T08:20:37.646Z","0.4.3":"2017-04-28T12:44:42.109Z","0.5.0":"2017-05-01T20:24:42.335Z","0.5.1":"2017-05-01T20:45:01.494Z","0.5.2":"2017-05-23T12:14:15.146Z"}}}