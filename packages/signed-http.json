{"name":"signed-http","description":"use joyent's http-signature protocol","version":"1.0.3","homepage":"https://github.com/dominictarr/signed-http","repository":"https://github.com/dominictarr/signed-http","dependencies":{"shasum":"~1.0.0","request":"~2.22.0","stream-to-pull-stream":"~1.2.2","pull-stream":"~2.20.0","http-signature":"~0.10.0","keypair":"~1.0.0"},"devDependencies":{"tape":"~1.0.4"},"scripts":{"test":"set -e; for t in test/*.js; do node $t; done"},"license":"MIT","readme":"# signed-http\n\nUse joyent's http signature scheme for http auth.\n\n[![travis](https://travis-ci.org/dominictarr/hello-http-signature.png?branch=master)\n](https://travis-ci.org/dominictarr/hello-http-signature)\n\n[![testling](http://ci.testling.com/dominictarr/hello-http-signature.png)\n](http://ci.testling.com/dominictarr/hello-http-signature)\n\nProvides a http middleware and a few small helpers.\n`signed-http` will sign the hash of the body by default,\nfor maximum security.\n\n`signed-http` also, checks for replayed and out of date requests,\n(note: replay is possible after server restarts, if replayed request is recent)\n\nI strongly recommend that all http routes are idempotent.\n\n## Example\n\ncreate a server\n\n``` js\nvar http = require('http')\nvar sr = require('signed-http')\n\n//get a key pair\n//this will block the process for a few seconds.\nvar pair = sr.loadOrGenerateSync ('/tmp/testkeys', {silent: false})\n\nhttp.createServer(sr(\n  function (req, res) {\n    //this only gets called if the request was successfully signed.\n    //it is still your job to decide whether that user may access that resource!\n    res.end('ok')\n  },\n  {\n    getPublicKey: function (id, cb) {\n      //must provide a function to retrive a public key!\n      cb(null, pair.public)\n    },\n    //demand that the date on the request is within\n    //5 minutes of current time (joyent's recommendation, the default)\n    maxSkew: 300*1000\n  }\n)).listen(8080)\n```\n\nThen, post a request to it. `signed-http` will set sensible defaults on the\nrequest for maximum security.\n\n``` js\nvar pair = sr.loadOrGenerateSync ('/tmp/testkeys', {silent: false})\n\nrs.request(pair,{\n  url: 'http://localhost:8080/',\n  body: new Buffer('hello there!')\n}, function (err, res, body) {\n  //received response...\n  console.log(req.statusCode, body)\n})\n```\n\n## License\n\nMIT\n","versions":[{"number":"1.0.0","date":"2013-07-18T21:07:31.774Z"},{"number":"1.0.1","date":"2013-07-18T21:12:30.724Z"},{"number":"1.0.2","date":"2013-07-18T21:51:03.747Z"},{"number":"1.0.3","date":"2013-07-18T22:04:20.838Z"}],"created":"2013-07-18T21:07:30.566Z","modified":"2013-07-18T22:04:20.838Z","lastPublisher":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"owners":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"signed-http","_npmUser":{"name":"dominictarr","email":"dominic.tarr@gmail.com"},"_npmVersion":"1.3.0","_rev":"1-8f85f9142d34146c2b634601c5a0891f","author":{"name":"Dominic Tarr","email":"dominic.tarr@gmail.com","url":"http://dominictarr.com"},"bugs":{"url":"https://github.com/dominictarr/signed-http/issues"},"directories":{},"dist-tags":{"latest":"1.0.3"},"dist":{"shasum":"e884cc8568cb47c4c8b875b521ca025d0c295dad","tarball":"http://registry.npmjs.org/signed-http/-/signed-http-1.0.3.tgz"},"maintainers":[{"name":"dominictarr","email":"dominic.tarr@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2013-07-18T22:04:20.838Z","created":"2013-07-18T21:07:30.566Z","1.0.0":"2013-07-18T21:07:31.774Z","1.0.1":"2013-07-18T21:12:30.724Z","1.0.2":"2013-07-18T21:51:03.747Z","1.0.3":"2013-07-18T22:04:20.838Z"}}}