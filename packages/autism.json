{"public":true,"name":"autism","version":"0.3.0","description":"Commander-inspired framework-agnostic HTTP request router for node","main":"index.js","scripts":{"test":"mocha test/*","coverage":"istanbul cover node_modules/.bin/_mocha test/*","coveralls":"cat ./coverage/lcov.info | ./node_modules/.bin/coveralls","lint":"eslint ./index.js","check":"npm-check"},"repository":"https://github.com/lajw/autism","keywords":["router","json","promise"],"license":"MIT","homepage":"https://github.com/lajw/autism#readme","dependencies":{"decamelize":"^1.2.0","map-object-recursive":"0.0.1"},"devDependencies":{"coveralls":"^2.11.9","eslint":"^2.9.0","istanbul":"^0.4.3","mocha":"^2.4.5","npm-check":"^5.2.1"},"gitHead":"2536d2513f05c98103357db67213cc88b29167ff","versions":[{"number":"0.1.0","date":"2016-04-26T13:20:55.253Z"},{"number":"0.1.1","date":"2016-04-26T13:54:02.270Z"},{"number":"0.1.2","date":"2016-04-26T13:59:19.951Z"},{"number":"0.2.0","date":"2016-05-05T21:35:53.693Z"},{"number":"0.3.0","date":"2016-05-12T20:29:43.867Z"}],"readme":"Autism - Router for nodejs\n=============================================================================\nStateless, Commander-inspired, framework-agnostic HTTP router for node.\n\n[![Build Status](https://travis-ci.org/LAJW/autism.svg?branch=master)](https://travis-ci.org/LAJW/autism)\n[![Coverage Status](https://coveralls.io/repos/github/LAJW/autism/badge.svg?branch=master)](https://coveralls.io/github/LAJW/autism?branch=master)\n[![Dependency Status](https://david-dm.org/lajw/autism.svg)](https://david-dm.org/lajw/autism)\n[![devDependency Status](https://david-dm.org/lajw/autism/dev-status.svg)](https://david-dm.org/lajw/autism#info=devDependencies)\n\n# Installation\n\n````bash\nnpm install autism --save\n````\n\n# Examples\n\n## API Definition\n\nFollowing API:\n````sql\n/api\n    /user\n    /token\n    /item\n/is-alive\n````\ncan be specified this way:\n````js\nconst autism = require(\"autism\")\n\nconst router = autism({\n  api : {\n    user  : req => ... // handle GET/POST/PUT/DELETE user, return result\n    token : req => ... // likewise\n    item  : req => ...\n  },\n  // isAlive is converted to is-alive\n  isAlive : req => ({ status: 200 }) // always respond with 200, no body\n})\n````\n\nAutism creates router function based on provided spec. This router should be\ncalled with `req` (HTTP Request) object.\n\nRouter searches for a function matching request's URL, executes it with provided\n`req` and returns its result. If function is not found, returns `undefined`.\n\n## Handle specific HTTP methods\n\n````js\nconst router = autism({\n  user : {\n    GET  : req => ... // just handle user GET request,\n    POST : req => ... // just handle user POST requests,\n  }\n})\n````\n\n## Parametrized endpoints\n````js\nconst router = autism({\n  user : {\n    $ : {\n      GET : req => User.findById(req.params.user) // GET /user/57\n    }\n  }\n})\n````\n\n## Named parameters\nIf you're not satisfied with automatically generated paramter names,\nyou can specify them manually. Simply add name after `$`. (Added in 0.3.0).\n\n````js\nconst router = autism({\n  user : {\n    $id : {\n      GET : req => User.findById(req.params.id) // GET /user/57\n    }\n  }\n})\n````\n\n## Multiple parameters\n````js\nconst router = autism({\n  user : {\n    $ : {\n      GET : req => User.findById(req.params.user), // GET /user/57\n      item : {\n        $ : {\n          GET : {\n            // GET /user/57/item/13\n            req => User.findById(req.params.user).getItem(req.params.item)\n          }\n        }\n      }\n    },\n  }\n})\n````\n\n# Router usage \n\nAfter you create your router, you can use it this way:\n\n## Use with standard http server\n\n````js\nhttp.createServer((req, res) => {\n  const { status, headers, body } = router(req)\n  res.writeHead(status, headers)\n  res.write(body)\n  res.end()\n}).listen(80)\n````\n\n## Use with express\n\n````js\napp.use((req, res) => {\n  const { status, headers, body } = router(req)\n  res.status(status)\n     .setHeaders(headers)\n     .send(body)\n})\n````\n\n## async/await handler support with error handling\n\n````js\napp.use((req, res) =>\n  Promise.resolve(req)\n  .then(router)\n  .then(({ status, headers, body }) =>\n          res.status(status)\n             .setHeaders(headers)\n             .send(body))\n  .catch(err => {\n    console.log(err)\n    res.status(500).end()\n  }))\n````\n\n","created":"2016-04-26T13:20:55.253Z","modified":"2016-05-12T20:29:43.867Z","lastPublisher":{"name":"layv","email":"woocushpl@gmail.com"},"owners":[{"name":"layv","email":"woocushpl@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"autism","_nodeVersion":"6.1.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/autism-0.3.0.tgz_1463084981415_0.25471345451660454"},"_npmUser":{"name":"layv","email":"woocushpl@gmail.com"},"_npmVersion":"3.8.6","_rev":"1-19073928bde142a0a992cadd22730b52","_shasum":"64ff59ce837a963bba7a008db1bfe65d6f3d5eee","author":{"name":"Lukasz A.J. Wrona","url":"layv.net"},"bugs":{"url":"https://github.com/lajw/autism/issues"},"directories":{},"dist-tags":{"latest":"0.3.0"},"dist":{"shasum":"64ff59ce837a963bba7a008db1bfe65d6f3d5eee","tarball":"http://registry.npmjs.org/autism/-/autism-0.3.0.tgz"},"maintainers":[{"name":"layv","email":"woocushpl@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-05-12T20:29:43.867Z","created":"2016-04-26T13:20:55.253Z","0.1.0":"2016-04-26T13:20:55.253Z","0.1.1":"2016-04-26T13:54:02.270Z","0.1.2":"2016-04-26T13:59:19.951Z","0.2.0":"2016-05-05T21:35:53.693Z","0.3.0":"2016-05-12T20:29:43.867Z"}}}