{"name":"pack-util-http","version":"0.0.23","description":"Pack Http Util","main":"dist/index.js","types":"dist/index.d.ts","license":"BSD-3-Clause","publishConfig":{"registry":"http://registry.npmjs.org/"},"dependencies":{"debug":"^2.6.3","pack-util-logger":"^0.0.20"},"devDependencies":{"@types/debug":"0.0.29"},"scripts":{},"versions":[{"number":"1.0.0","date":"2016-06-19T21:41:55.995Z"},{"number":"0.0.2","date":"2016-06-20T05:05:12.030Z"},{"number":"0.0.10","date":"2017-04-14T10:35:05.045Z"},{"number":"0.0.11","date":"2017-04-20T05:12:00.367Z"},{"number":"0.0.12","date":"2017-04-20T06:24:42.922Z"},{"number":"0.0.15","date":"2017-04-20T07:07:49.009Z"},{"number":"0.0.16","date":"2017-04-20T07:16:08.036Z"},{"number":"0.0.20","date":"2017-04-20T07:31:00.896Z"},{"number":"0.0.23","date":"2017-04-21T07:29:44.306Z"}],"readme":"# pack-util-http\n\n> Pack HTTP Util\n\nThis utility library is a simple interface that hides away the client-side http\nimplementation being used so that it can easily be swapped out for something\nelse.\n\n## Installation\n\n```sh\n$ npm install pack-util-http\n```\n\n## Usage\n\n```js\nconst http = require('pack-util-http');\n\nhttp.beforeSend(opts => {\n  opts.url = '/api/v4' + opts.url;\n});\n\nhttp.post('/posts', {\n  body: {\n    title: 'A New Post',\n    content: 'Contents of the new post.'\n  }\n}, (err, res) => {\n  if (err) {\n    console.log(err.body); // > { errors: [{ message: 'Error!' }] }\n  } else {\n    console.log(res.body); // > { result: { id: 1, title: 'A New Post', content: 'Contents of the new post.' } }\n  }\n});\n```\n\n## API\n\n### `http.request(method, url, [opts], [onSuccess], [onError])`\n\nPerform an HTTP request.\n\n```js\nconst abortRequest = http.request('POST', '/posts', {\n  headers: {...},\n  parameters: {...},\n  body: {...}\n}, callback);\n\nabortRequest();\n```\n\n**Parameters:**\n\n| Name | Type | Description |\n| --- | --- | --- |\n| `method` | `String` | **Required.** The HTTP method type for the request. |\n| `url` | `String` | **Required.** The url to make the request. |\n| `opts` | `Object` | **Optional.** Options for the request. |\n| `opts.parameters` | `Object` | **Optional.** Parameters to be serialized into the url. |\n| `opts.headers` | `Object` | **Optional.** Headers to send with the request. |\n| `opts.body` | `Object` | **Optional.** The body of the request. |\n| `callback` | `Function` | Callback to call when request is complete. |\n\n**Returns:**\n\n`http.request` will return an abort function that you can call to stop the\nrequest from being made.\n\n**`callback`:**\n\nThe callback will receive two arguments: `err` and `res` which will both have\nthe following shape (if they are not `null`):\n\n```js\n{\n  headers: {...},\n  status: 200,\n  body: {...}\n  text: '...'\n}\n```\n\n### `http.[get/post/put/patch/del]`\n\nThese are all shorthands to `http.request` that don't require passing a\n`method`.\n\n### `http.beforeSend(callback)`\n\nModify a request before it is sent. This can be useful for authentication or\nother middleware.\n\n`callback` will be called with a single argument `opts` that you can mutate\nbefore a request will be created. `opts` will have the following shape:\n\n```js\n{\n  method: 'POST',\n  url: '/posts',\n\n  // Headers to be sent along with the request\n  headers: {\n    Accept: 'application/json'\n  },\n\n  // Parameters to be serialized as `?page=1&limit=20` and appended to the url\n  parameters: {\n    page: 1,\n    limit: 20\n  },\n\n  // Body of the request being sent\n  body: {\n    title: 'A New Post',\n    content: 'Contents of the new post.'\n  }\n}\n```\n\nNote that `headers`, `parameters`, and `body` may not exist depending on the\nrequest being made.\n","created":"2016-06-19T21:41:55.995Z","modified":"2017-04-21T07:29:47.683Z","lastPublisher":{"name":"seryl","email":"joshtoft@gmail.com"},"owners":[{"name":"seryl","email":"joshtoft@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"pack-util-http","_nodeVersion":"7.9.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/pack-util-http-0.0.23.tgz_1492759784081_0.7829661914147437"},"_npmUser":{"name":"seryl","email":"joshtoft@gmail.com"},"_npmVersion":"4.2.0","_rev":"22-48580ec7e5d49b42b2d541d12c14ec52","_shasum":"724db60c8898fb65ac53233b14f27a21163a6436","author":{"name":"Josh Toft","email":"josh@pack.io"},"directories":{},"dist-tags":{"latest":"0.0.23"},"dist":{"shasum":"724db60c8898fb65ac53233b14f27a21163a6436","tarball":"https://registry.npmjs.org/pack-util-http/-/pack-util-http-0.0.23.tgz"},"maintainers":[{"name":"seryl","email":"joshtoft@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-04-21T07:29:47.683Z","created":"2016-06-19T21:41:55.995Z","1.0.0":"2016-06-19T21:41:55.995Z","0.0.2":"2016-06-20T05:05:12.030Z","0.0.10":"2017-04-14T10:35:05.045Z","0.0.11":"2017-04-20T05:12:00.367Z","0.0.12":"2017-04-20T06:24:42.922Z","0.0.15":"2017-04-20T07:07:49.009Z","0.0.16":"2017-04-20T07:16:08.036Z","0.0.20":"2017-04-20T07:31:00.896Z","0.0.23":"2017-04-21T07:29:44.306Z"}}}