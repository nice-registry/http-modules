{"name":"pasiri","version":"1.0.3","description":"Flexible request agent. Includes HTTP request mock.","keywords":["request","http","mock","mockup","front-end","web"],"license":"MIT","main":"./lib/pasiri.js","files":["lib","dist","gulpfile.js","LICENSE.txt"],"scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/jumilla/pasiri","dependencies":{"core-js":"^1.1.4","qs":"^5.1.0","whatwg-fetch":"^0.9.0"},"devDependencies":{"gulp":"^3.9.0","gulp-concat":"^2.6.0","gulp-uglify":"^1.4.1","riot":"^2.2.4","run-sequence":"^1.1.2"},"gitHead":"189e87cd43b8769a7e445942d20414cff9e09fdc","homepage":"https://github.com/jumilla/pasiri#readme","readme":"\n# Pasiri\n\n**Fetch or Mock ?**\n\nFlexible request agent for client-side.\nIncludes HTTP request mock.\n\nUse [Fetch API](https://developer.mozilla.org/docs/Web/API/Fetch_API)\n\n## Installation\n\n### for Browser\n\nDownload [pasiri.min.js](https://raw.githubusercontent.com/jumilla/pasiri/master/dist/pasiri.min.js) (master)\n\nor\n\nBower\n\n```sh\nbower install pasiri --save\n```\n\n\n\n### for Node\n\n```sh\nnpm install pasiri --save\n```\n\n\n\n## Usage\n\n### 1. Fetch\n\n#### GET\n\n```javascript\n\npasiri.get('/user/orders')\n\t.fetchText(function (text) {\n\t\tconsole.log(text)\n\t})\n\t.catch(function (error) {\n\t\tconsole.error(error)\n\t})\n```\n\n#### POST\n\n```javascript\n\npasiri.post('/user/orders')\n\t.header('X-CSRF-TOKEN', csrf_token)\n\t.data({\n\t\t'coffee': 2,\n\t\t'kouign amann': 1,\n\t})\n\t.fetchJson(function (json) {\n\t\tconsole.log(json)\n\t})\n\t.catch(function (error) {\n\t\tconsole.error(error)\n\t})\n```\n\n```javascript\n\npasiri.post('/user/orders')\n\t.header('X-CSRF-TOKEN', csrf_token)\n\t.data(new FormData(document.querySelector('#form')))\n\t.fetchJson(function (json) {\n\t\tconsole.log(json)\n\t})\n\t.catch(function (error) {\n\t\tconsole.error(error)\n\t})\n```\n\n#### GET with search parameters\n\n```javascript\n\npasiri.get('/search')\n\t.data({\n\t\tq: 'word1 word2',\n\t})\n\t.fetchJson(function (json) {\n\t\tconsole.log(json)\n\t})\n\t.catch(function (error) {\n\t\tconsole.error(error)\n\t})\n```\n\n#### Use response\n\n```javascript\n\npasiri.get('/search')\n\t.data({\n\t\tq: 'word1 word2',\n\t})\n\t.fetch(function (response) {\n\t\tconsole.log('Status', response.status)\n\t\treturn response.json()\n\t})\n\t.then(function (json) {\n\t\tconsole.log(json)\n\t})\n\t.catch(function (error) {\n\t\tconsole.error(error)\n\t})\n```\n\n\n### 2. Mock\n\n#### Application API mock\n\n```javascript\n\npasiri.mock()\n\t.get('/user/orders', function(data) {\n\t\treturn {'coffee': 1, 'tea': 1}\n\t})\n\n```\n\n`pasiri.mock().get(url, callback)` is same as `pasiri.mock().request('GET', url, callback)`.\n\n```javascript\n\npasiri.mock()\n\t.post('/user/orders', function(data) {\n\t\tapp.orders.push(data)\n\n\t\treturn {result: 'OK'}\n\t})\n\n```\n\nWhen return HTTP status code, use [Response](https://developer.mozilla.org/ja/docs/Web/API/Response).\n\n```javascript\n\npasiri.mock()\n\t.put('/user/orders/123', function(data) {\n\t\treturn new Response({\n\t\t\tstatus: 400,\n\t\t\theaders: {\n\t\t\t},\n\t\t}, 'Invalid argument')\n\t})\n\n```\n\n#### External server API mock\n\n```javascript\n\npasiri.mock()\n\t.get('https://api.github.com/user/orgs', function(data) {\n\t\treturn [\n\t\t\t{\n\t\t\t\thome_url: 'http://...',\n\t\t\t\tavatar_url: 'http://...',\n\t\t\t}\n\t\t]\n\t})\n\n```\n\n## License\n\n[MIT](http://opensource.org/licenses/MIT).\n","versions":[{"number":"0.0.1","date":"2015-09-16T20:28:26.968Z"},{"number":"0.1.0","date":"2015-09-17T11:31:18.821Z"},{"number":"0.1.2","date":"2015-09-17T21:23:01.113Z"},{"number":"0.1.3","date":"2015-09-18T19:40:27.209Z"},{"number":"0.1.4","date":"2015-09-18T21:57:56.225Z"},{"number":"1.0.0","date":"2015-09-20T19:08:28.362Z"},{"number":"1.0.1","date":"2015-09-20T19:20:49.649Z"},{"number":"1.0.2","date":"2015-09-21T01:23:41.213Z"},{"number":"1.0.3","date":"2015-09-26T23:49:09.734Z"}],"created":"2015-09-16T20:28:26.968Z","modified":"2015-09-26T23:49:09.734Z","lastPublisher":{"name":"jumilla","email":"fumio@jumilla.me"},"owners":[{"name":"jumilla","email":"fumio@jumilla.me"}],"other":{"_attachments":{},"_from":".","_id":"pasiri","_nodeVersion":"4.1.1","_npmUser":{"name":"jumilla","email":"fumio@jumilla.me"},"_npmVersion":"3.3.3","_rev":"1-f08b78331ed48e4496e9fee63c0defd9","_shasum":"f1e9392583553a24ad3c11e35616e3523c31a498","author":{"name":"Fumio Furukawa"},"bugs":{"url":"https://github.com/jumilla/pasiri/issues"},"directories":{},"dist-tags":{"latest":"1.0.3"},"dist":{"shasum":"f1e9392583553a24ad3c11e35616e3523c31a498","tarball":"http://registry.npmjs.org/pasiri/-/pasiri-1.0.3.tgz"},"maintainers":[{"name":"jumilla","email":"fumio@jumilla.me"}],"readmeFilename":"README.md","time":{"modified":"2015-09-26T23:49:09.734Z","created":"2015-09-16T20:28:26.968Z","0.0.1":"2015-09-16T20:28:26.968Z","0.1.0":"2015-09-17T11:31:18.821Z","0.1.2":"2015-09-17T21:23:01.113Z","0.1.3":"2015-09-18T19:40:27.209Z","0.1.4":"2015-09-18T21:57:56.225Z","1.0.0":"2015-09-20T19:08:28.362Z","1.0.1":"2015-09-20T19:20:49.649Z","1.0.2":"2015-09-21T01:23:41.213Z","1.0.3":"2015-09-26T23:49:09.734Z"}}}