{"name":"onespot-httpplease","version":"0.16.5","description":"The polite HTTP request library for node and the browser","main":"./lib/index.js","browser":{"./lib/xhr.js":"./lib/xhr-browser.js"},"dependencies":{"xmlhttprequest":"*","urllite":"~0.5.0","xtend":"~3.0.0"},"devDependencies":{"browserify":"~3.44.2","chai":"~1.9.1","cors":"~2.2.0","eslint":"^0.21.0","express":"~4.0.0","grunt":"~0.4.4","grunt-browserify":"^3.1.0","grunt-bump":"0.0.13","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.7.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.6.1","grunt-express":"~1.2.1","grunt-mocha":"~0.4.10","grunt-mocha-test":"~0.10.2","mocha":"~1.18.2"},"scripts":{"prepublish":"grunt build","test":"grunt test"},"repository":"https://github.com/onespot/httpplease.js","keywords":["xhr","request","http","XMLHttpRequest","isomorphic"],"license":"MIT","gitHead":"2bdca56c93cef496353b9b71f8ea515bc460b386","homepage":"https://github.com/onespot/httpplease.js#readme","versions":[{"number":"0.16.5","date":"2017-01-13T14:43:15.012Z"}],"readme":"HTTP, Please\n============\n\nThere are a lot of JS libraries for making HTTP requests in JavaScript. Why use\nthis one? Because it's awesome, that's why. And this is why it's awesome:\n\n* Designed for **\"isomorphic\" JavaScript** (supporting both client and server\n  with the same codebase)\n* …but with a **browser-driven focus** that keeps in mind the limitations of\n  that environment (filesize, old IE)\n* Extensible via a **simple but powerful plugin system** (which it dogfoods)\n    * Supports **cross-domain requests in IE9** transparently with the\n      [oldiexdomain plugin](#plugins)\n    * Supports promises (thenable/catchable request objects) with the\n      [promises plugin]\n\n[browserify] and [webpack] users can simply `npm install httpplease`.\n\n[Bower] users can `bower install httpplease`.\n\n`<script>` tag fans can grab the standalone build from the \"browser-builds\"\ndirectory.\n\nMinified and gzipped, the standalone browser build is <2K.\n\n\n## API\n\n\n### Making a request\n\n```javascript\nhttpplease.get('http://example.com', function (err, res) {\n    // Do something with the result.\n});\n```\n\nAlternatively, you can pass a request options object as the first parameter:\n\n```javascript\nhttpplease.get({url: 'http://example.com'}, function (err, res) {\n    // Do something with the result.\n});\n```\n\nIf you'd rather include the method in the object, that's okay too:\n\n```javascript\nhttpplease({method: 'GET', url: 'http://example.com'}, function (err, res) {\n    // Do something with the result.\n});\n```\n\nYou can create a new http function with default request object values:\n\n```javascript\nvar http = httpplease.defaults({method: 'GET', errorOn404: false});\nhttp('http://example.com', function (err, res) {\n    // This request was made using the defaults specified above.\n});\n```\n\n\n### The request object\n\nWhen you call one of the http functions (`http`, `http.get`, etc.), the result\nis a Request object. This object can also be processed by [plugins](#plugins).\nIt has the same properties as the request options object you pass to the http\nfunction (though properties that you didn't pass will be filled by defaults).\nThose properties are:\n\n<table>\n    <tr>\n        <th>Name</th>\n        <th>Description</th>\n    </tr>\n    <tr>\n        <td><code>url</code></td>\n        <td>The URL to request.</td>\n    </tr>\n    <tr>\n        <td><code>method</code></td>\n        <td>The HTTP method to use for the request.</td>\n    </tr>\n    <tr>\n        <td><code>body</code></td>\n        <td>The body to send with the request.</td>\n    </tr>\n    <tr>\n        <td><code>headers</code></td>\n        <td>\n            An object containing HTTP headers to send, for example:\n            <code>{Accept: '*/*'}</code>.\n        </td>\n    </tr>\n    <tr>\n        <td><code>timeout</code></td>\n        <td>\n            The number of milliseconds to wait before canceling the request. If\n            the request takes longer than this, your callback will be invoked\n            with an error whose name is <code>\"Timeout\"</code>.\n        </td>\n    </tr>\n    <tr>\n        <td><code>errorOn404</code></td>\n        <td>\n          A boolean specifying whether a 404 response should be treated as an\n          error or not. Defaults to <code>true</code>.\n        </td>\n    </tr>\n    <tr>\n        <td><code>header</code></td>\n        <td>\n            A method for getting and setting individual headers. This is simply\n            a convenience method for reading and manipulating the\n            <code>headers</code> dictionary that accounts for the\n            case-insensitivity of headers. For example:\n            <code>req.header('Content-Type', 'text/html')</code> sets a header\n            and <code>req.header('Content-Type')</code> returns its value.\n        </td>\n    </tr>\n    <tr>\n        <td><code>abort</code></td>\n        <td>\n            A method for aborting the request. This will will result in your\n            callback being invoked. If an error was caused by an\n            <code>abort()</code> call, its name will be <code>\"Abort\"</code>.\n        </td>\n    </tr>\n</table>\n\n\n### The error object\n\nIn the event of an error, an error object will be passed as the first argument\nto your callback. If the error is an HTTP error, it will have all of the\nproperties that a response object has (listed below), but will be a JS Error\nobject (which can be useful if relying on instanceof checks). It also has one\nadditional property—`message`—which contains a description of the error.\n\n\n### The response object\n\nThe response object passed to your callback in the event of a successful request\nhas the following properties:\n\n<table>\n    <tr>\n        <td><code>status</code></td>\n        <td>The numeric status code.</td>\n    </tr>\n    <tr>\n        <td><code>text</code></td>\n        <td>The raw response text.</td>\n    </tr>\n    <tr>\n        <td><code>body</code></td>\n        <td>\n            The processed response body. Depending on the content type of the\n            response and the plugins being used, this may be the same as\n            `response.text` (a string) or some other object (like a parsed JSON\n            object).\n        </td>\n    </tr>\n    <tr>\n        <td><code>contentType</code></td>\n        <td>The content type of the response.</td>\n    </tr>\n    <tr>\n        <td><code>headers</code></td>\n        <td>An object containing the parsed response headers.</td>\n    </tr>\n    <tr>\n        <td><code>header</code></td>\n        <td>\n            A method for looking up the value of a specific header. This takes\n            into account the case-insensitivity of headers. For example,\n            <code>res.header('content-type')</code> will return the correct\n            value regardless of the actual capitalization.\n        </td>\n    </tr>\n    <tr>\n        <td><code>isHttpError</code></td>\n        <td>\n          A boolean that specifies whether this object represents a\n          server-reported HTTP error. This may be false—even on error objects—in\n          the case of non-HTTP errors like XDomain failures or plugin errors.\n        </td>\n    </tr>\n    <tr>\n        <td><code>request</code></td>\n        <td>An object representing the request.</td>\n    </tr>\n    <tr>\n        <td><code>xhr</code></td>\n        <td>The XHR or XDomain object used to make the request.</td>\n    </tr>\n</table>\n\n\n### Plugins\n\nhttpplease supports plugins for changing how requests are made. Some plugins\nare built in:\n\n<table>\n    <tr>\n        <th>Name</th>\n        <th>Enabled by Default?</th>\n        <th>Description</th>\n    </tr>\n    <tr>\n        <td>jsonresponse</td>\n        <td>No</td>\n        <td>\n            Converts JSON responses into JS objects on\n            <code>response.body</code>.\n        </td>\n    </tr>\n    <tr>\n        <td>jsonrequest</td>\n        <td>No</td>\n        <td>\n            Serializes regular JavaScript objects stored on\n            <code>request.body</code> and sets the Content-Type header to\n            \"application/json\".\n        </td>\n    </tr>\n    <tr>\n        <td>json</td>\n        <td>No</td>\n        <td>\n            Combines the \"jsonrequest\" and \"jsonresponse\" plugins.\n        </td>\n    </tr>\n    <tr>\n        <td>cleanurl</td>\n        <td>Yes</td>\n        <td>\n            Encodes unencoded characters in the request URL. Required by some\n            browsers if you're using non-ASCII characters.\n        </td>\n    </tr>\n    <tr>\n        <td>oldiexdomain</td>\n        <td>No</td>\n        <td>\n            Enables cross domain requests in IE9 by (transparently) using the\n            <code>XDomainRequest</code> object when necessary.\n        </td>\n    </tr>\n    <tr>\n        <td>oldieactivex</td>\n        <td>No</td>\n        <td>\n            For\n            <a href=\"http://en.wikipedia.org/wiki/XMLHttpRequest#Support_in_Internet_Explorer_versions_5.2C_5.5.2C_and_6\">super old versions of IE</a>\n            that didn't define XMLHttpRequest, use an ActiveX object.\n        </td>\n    </tr>\n    <tr>\n        <td>setprotocol</td>\n        <td>No</td>\n        <td>\n            Automatically set the protocol for protocol-relative URLs, allowing\n            them to be used in Node. Protocol-relative URLs are important and\n            should be preferred since some browsers don't allow cross-protocol\n            requests. This plugin can also optionally force an override of\n            protocols even when they're present in the URL so that you can be\n            sure you won't have cross-protocol request issues in browsers.\n        </td>\n    </tr>\n</table>\n\nPlugins are enabled with the `use` method:\n\n```javascript\nvar json = require('httpplease/plugins/json');\nhttpplease = httpplease.use(json);\n```\n\nOr, if you're using the standalone build:\n\n```html\n<script src=\"httpplease.js\" type=\"text/javascript\"></script>\n<script src=\"httppleaseplugins.js\" type=\"text/javascript\"></script>\n```\n\n```javascript\nvar json = httppleaseplugins.json;\nhttpplease = httpplease.use(json);\n```\n\nNotice that `use` returns a new httpplease instance. This is so that you can\ncreate multiple instances, each with their own plugins:\n\n```javascript\nvar http = httpplease.use(json);\n\nhttp\n  .use(oldiexdomain)\n  .get('http://example.com', function (err, res) { ... }); // Uses \"json\" plugin and \"oldiexdomain\".\nhttp.get('http://example.com', function (err, res) { ... }); // Only uses \"json\" plugin.\nhttpplease.get('http://example.com', function (err, res) { ... }); // No extra plugins are used.\n```\n\nYou can use as many plugins as you want—either by passing multiple plugins to\n`use` or chaining calls:\n\n```javascript\nvar http = httpplease\n  .use(json, oldiexdomain, myPlugin)\n  .use(anotherPlugin);\n```\n\nIn order to keep your builds as small as possible, **most plugins aren't enabled\nby default**. (See the table above.) However, some small plugins are. If you\nwant to disable all plugins, use the `bare()` method:\n\n```javascript\nvar http = httpplease.bare();\n```\n\nLike `use()`, this method also returns a new httpplease instance so you can\ncontinue to use the old object with the original plugins intact.\n\n\n#### Custom Plugins\n\nIn addition to the bundled plugins, you can create your own. Plugins are simply\nobjects that implement one or more of the following methods:\n\n<table>\n    <tr>\n        <th>Method</th>\n        <th>Description</th>\n    </tr>\n    <tr>\n        <td><code>createXHR(req)</code></td>\n        <td>\n            Creates an XHR object. The first plugin that return a non-null value\n            from this method will be used.\n        </td>\n    </tr>\n    <tr>\n        <td><code>processRequest(req)</code></td>\n        <td>\n            This method gives the plugin a chance to manipulate the request\n            object before the request is made. For example, it can change the\n            body or add headers.\n        </td>\n    </tr>\n    <tr>\n        <td><code>processResponse(res)</code></td>\n        <td>\n            This method gives the plugin a chance to manipulate the response\n            object before the callback is invoked.\n        </td>\n    </tr>\n</table>\n\n\n## Similar Projects\n\n* [xhr] \\(browser only\\)\n* [request] \\(node only\\)\n* [httpify] \\(wraps xhr and [request]\\)\n\n\n## Thanks\n\nThis project is mostly just a small wrapper around XMLHttpRequest and an (I\nhope) sensible structure for extending functionality. The reason it works on the\nserver is because of [driverdan]'s awesome [node-XMLHttpRequest] library—it's\nthe secret sauce that makes the browser-focused design of httpplease possible!\n\n\n## Changelog\n\nI try to write good commit messages so the [commit log] should be very readable,\nbut here's a summary of some notable changes.\n\n* v0.16.0\n    * Use `onload` on `onerror` where available since `onreadystatechange` can't\n      differentiate between 0 status code errors and successes\n      (matthewwithanm/react-inlinesvg#10)\n* v0.15.0\n    * Rename \"jsonparser\" to \"jsonresponse\"\n    * Set Accept header in \"jsonresponse\" instead of \"jsonrequest\"\n    * Add \"json\" plugin that combines \"jsonrequest\" and \"jsonresponse\"\n* v0.14.0\n    * Move plugins from `httpplease/lib/plugins` to `httpplease/plugins`\n* v0.13.1\n    * Don't add Content-Type header if request has no body in jsonrequest\n      plugin. (This avoids an unneeded preflight request.)\n* v0.13.0\n    * Add support for timeouts\n* v0.12.0\n    * Add `abort` to request object\n* v0.11.0\n    * Add `setprotocol` plugin\n* v0.9.0\n    * Ignore request headers when using oldiexdomain\n    * Change when plugin methods are called\n* v0.8.1\n    * Add Accept header if not present for jsonrequest\n* v0.8.0\n    * Add `onload` and `onerror`\n* v0.7.0\n    * Goodbye CoffeeScript\n* v0.6.0\n    * Add jsonrequest plugin\n    * Add `header()` to Request and Response objects\n    * More tests\n* v0.5.3\n    * Improve content-type matching\n* v0.5.1\n    * Fix bug with non-404s being suppressed by `errorOn404`\n* v0.5.0\n    * Return request object from http methods\n* v0.4.0\n    * Added `errorOn404` option\n    * Make `defaults` a method\n    * Make `plugins` a method\n* v0.3.0\n    * Response-like errors\n    * More tests\n* v0.2.0\n    * Initial release as \"httpplease\"\n\n\n[promises plugin]: https://github.com/matthewwithanm/httpplease-promises\n[browserify]: http://browserify.org\n[webpack]: http://webpack.github.io\n[Bower]: http://bower.io\n[driverdan]: https://github.com/driverdan\n[node-XMLHttpRequest]: https://github.com/driverdan/node-XMLHttpRequest\n[xhr]: https://github.com/Raynos/xhr\n[httpify]: https://github.com/scottcorgan/httpify\n[request]: https://github.com/mikeal/request\n[commit log]: https://github.com/matthewwithanm/httpplease.js/commits/master\n","created":"2017-01-13T14:43:15.012Z","modified":"2017-04-13T21:54:35.733Z","lastPublisher":{"name":"onespot","email":"dev@onespot.com"},"owners":[{"name":"onespotdev","email":"dev@onespot.com"}],"other":{"_attachments":{},"_from":".","_id":"onespot-httpplease","_nodeVersion":"6.7.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/onespot-httpplease-0.16.5.tgz_1484318592580_0.4152112032752484"},"_npmUser":{"name":"onespot","email":"dev@onespot.com"},"_npmVersion":"3.10.7","_rev":"2-a37a8f943e3f89581a5388fe73aef420","_shasum":"015eee6df1b8cfadb2f6df85a37148724317ae64","author":{"name":"Matthew Dapena-Tretter","email":"m@tthewwithanm.com"},"bugs":{"url":"https://github.com/onespot/httpplease.js/issues"},"directories":{"test":"test"},"dist-tags":{"latest":"0.16.5"},"dist":{"shasum":"015eee6df1b8cfadb2f6df85a37148724317ae64","tarball":"https://registry.npmjs.org/onespot-httpplease/-/onespot-httpplease-0.16.5.tgz"},"maintainers":[{"name":"onespotdev","email":"dev@onespot.com"}],"readmeFilename":"README.md","time":{"modified":"2017-04-13T21:54:35.733Z","created":"2017-01-13T14:43:15.012Z","0.16.5":"2017-01-13T14:43:15.012Z"}}}