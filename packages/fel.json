{"name":"fel","description":"Create errors with HTTP codes and cause refs for use in logging","main":"dist/index.js","scripts":{"test":"NODE_ENV=test mocha","test-cov":"NODE_ENV=test istanbul cover _mocha","lint":"eslint --cache .","build":"rm -rf dist && babel src --out-dir dist","update-npmignore":"npmignore","version":"npm run update-npmignore && git add .npmignore","commit":"git-cz","prepublish":"npm run build","semantic-release":"semantic-release pre && npm publish && semantic-release post"},"dependencies":{"boom":"3.0.0"},"devDependencies":{"babel-cli":"6.9.0","babel-core":"6.9.0","babel-eslint":"6.0.4","babel-plugin-transform-strict-mode":"6.8.0","babel-preset-es2015-node4":"2.1.0","commitizen":"2.8.1","cz-conventional-changelog":"1.1.6","eslint":"2.11.0","eslint-config-springworks":"7.0.3","eslint-plugin-import":"1.8.1","eslint-plugin-mocha":"2.2.0","eslint-plugin-springworks":"2.0.1","istanbul":"0.4.3","joi":"8.2.1","mocha":"2.5.3","npmignore":"0.2.0","semantic-release":"4.3.5","should":"8.4.0"},"config":{"commitizen":{"path":"node_modules/cz-conventional-changelog"}},"engines":{"node":">=4.0.0"},"repository":"https://github.com/Springworks/fel","license":"MIT","homepage":"https://github.com/Springworks/fel#readme","version":"1.1.13","gitHead":"b427bc55396ddb2907e4b7f13edee08a3a21272e","versions":[{"number":"1.0.0","date":"2015-10-25T23:33:03.455Z"},{"number":"1.1.0","date":"2015-11-20T10:19:59.855Z"},{"number":"1.1.1","date":"2015-12-06T22:51:34.591Z"},{"number":"1.1.2","date":"2016-01-26T10:45:46.278Z"},{"number":"1.1.3","date":"2016-02-08T08:59:31.976Z"},{"number":"1.1.4","date":"2016-02-16T15:31:18.098Z"},{"number":"1.1.5","date":"2016-03-10T12:32:46.868Z"},{"number":"1.1.6","date":"2016-03-15T13:26:07.444Z"},{"number":"1.1.7","date":"2016-04-05T06:38:04.109Z"},{"number":"1.1.8","date":"2016-04-06T19:31:15.672Z"},{"number":"1.1.9","date":"2016-04-08T18:29:15.003Z"},{"number":"1.1.10","date":"2016-04-11T08:01:28.742Z"},{"number":"1.1.11","date":"2016-04-21T07:47:01.278Z"},{"number":"1.1.12","date":"2016-05-03T08:12:22.956Z"},{"number":"1.1.13","date":"2016-05-28T23:57:23.628Z"}],"readme":"# fel\n\nExports the `createError` function that creates an error.\n\nThe error has a unique id and a reference to the cause, this is to facilitate with logging.\n\n`createError` uses [`boom.wrap`](https://github.com/hapijs/boom#wraperror-statuscode-message) to decorate the error with `boom` properties.\n\n`createError` takes the following optional params:\n\n- `code` HTTP status code >= 400. Defaults to 500.\n- `message` Error message. Defaults to the default message for `code`.\n- `cause` The cause of the error.\n- `root_error_id` Id of the root cause. Defaults to `cause.root_error_id || error_id`.\n- `stack_from` Function to start stack trace from. Defaults to `createError`.\n\nThe created error has the following properties added to it:\n\n- `code` HTTP status code\n- `message` Error message\n- `cause` The cause\n- `error_id` A unique id string\n- `root_error_id` A unique id string\n- `output` See boom\n- `details` if `cause` is a [joi](https://github.com/hapijs/joi) error then the `details` array is copied. It is also added to `output.payload`.\n\n**Example:**\n\n```js\nimport { createError } from 'fel';\n\nlet error = createError();\n// error.code == 500\n// error.message == 'Internal Server Error'\n// error.error_id == (unique id string)\n// error.root_error_id == (unique id string)\n\ncreateError({ code: 400 });\ncreateError({ code: 400, message: 'cannot process the request' });\n\nfunction readJsonFile(filename, callback) {\n  fs.readFile(filename, { encoding: 'utf8' }, (err, str) => {\n    if (err) {\n      return callback(createError({ cause: err, message: 'Unable to read the file' }));\n    }\n    let obj;\n    try {\n      obj = JSON.parse(str);\n    }\n    catch (json_err) {\n      return callback(createError({ cause: json_err, message: 'Unable to parse the file' }));\n    }\n    callback(null, obj);\n  });\n}\n```\n","created":"2015-10-25T23:33:03.455Z","modified":"2016-05-28T23:57:23.628Z","lastPublisher":{"name":"springworks","email":"hello@springworks.se"},"owners":[{"name":"springworks","email":"hello@springworks.se"}],"other":{"_attachments":{},"_from":".","_id":"fel","_nodeVersion":"4.4.5","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/fel-1.1.13.tgz_1464479841443_0.5286083025857806"},"_npmUser":{"name":"springworks","email":"hello@springworks.se"},"_npmVersion":"3.9.3","_rev":"1-a872a08301cd190610a174cffe9a0823","_shasum":"bcc48cc82516cd90522203b44669b3d629db1ccc","author":{"name":"Springworks"},"bugs":{"url":"https://github.com/Springworks/fel/issues"},"directories":{},"dist-tags":{"latest":"1.1.13"},"dist":{"shasum":"bcc48cc82516cd90522203b44669b3d629db1ccc","tarball":"http://registry.npmjs.org/fel/-/fel-1.1.13.tgz"},"maintainers":[{"name":"springworks","email":"hello@springworks.se"}],"readmeFilename":"README.md","time":{"modified":"2016-05-28T23:57:23.628Z","created":"2015-10-25T23:33:03.455Z","1.0.0":"2015-10-25T23:33:03.455Z","1.1.0":"2015-11-20T10:19:59.855Z","1.1.1":"2015-12-06T22:51:34.591Z","1.1.2":"2016-01-26T10:45:46.278Z","1.1.3":"2016-02-08T08:59:31.976Z","1.1.4":"2016-02-16T15:31:18.098Z","1.1.5":"2016-03-10T12:32:46.868Z","1.1.6":"2016-03-15T13:26:07.444Z","1.1.7":"2016-04-05T06:38:04.109Z","1.1.8":"2016-04-06T19:31:15.672Z","1.1.9":"2016-04-08T18:29:15.003Z","1.1.10":"2016-04-11T08:01:28.742Z","1.1.11":"2016-04-21T07:47:01.278Z","1.1.12":"2016-05-03T08:12:22.956Z","1.1.13":"2016-05-28T23:57:23.628Z"}}}