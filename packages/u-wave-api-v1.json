{"name":"u-wave-api-v1","version":"0.2.1","description":"HTTP API interface for üWave.","license":"MIT","repository":"https://github.com/u-wave/api-v1","main":"lib/index.js","engines":{"node":">= 4","npm":">= 3"},"scripts":{"test":"eslint --cache .","build":"gulp build","watch":"gulp watch","prepublish":"npm run build"},"dependencies":{"array-find":"^1.0.0","bcryptjs":"^2.4.3","bluebird":"^3.4.6","body-parser":"^1.15.0","clamp":"^1.0.1","debounce":"^1.0.0","debug":"^2.2.0","escape-string-regexp":"^1.0.5","ioredis":"^3.0.0","is-empty-object":"^1.1.1","jsonwebtoken":"^7.1.9","lodash":"^4.16.1","ms":"^2.0.0","qs":"^6.2.1","random-string":"^0.2.0","ratelimiter":"^3.0.2","request":"^2.70.0","router":"^1.1.4","try-json-parse":"^0.1.1","ultron":"^1.0.2","ws":"^3.0.0"},"devDependencies":{"babel-eslint":"^7.1.1","babel-plugin-transform-class-properties":"^6.5.0","babel-plugin-transform-export-extensions":"^6.5.0","babel-plugin-transform-flow-comments":"^6.5.0","babel-preset-env":"^1.2.2","babel-preset-stage-2":"^6.5.0","eslint":"^3.10.2","eslint-config-airbnb-base":"^11.0.0","eslint-plugin-import":"^2.2.0","gulp":"^3.9.1","gulp-babel":"^6.1.2","gulp-newer":"^1.1.0","gulp-plumber":"^1.1.0","gulp-util":"^3.0.7","gulp-watch":"^4.3.5","through2":"^2.0.1"},"gitHead":"2d2012565c14610c9b6681b884646655ff7fb47b","homepage":"https://github.com/u-wave/api-v1#readme","versions":[{"number":"0.1.0","date":"2016-12-30T20:23:04.954Z"},{"number":"0.2.0","date":"2017-06-15T11:37:23.358Z"},{"number":"0.2.1","date":"2017-06-21T19:06:06.380Z"}],"readme":"# u-wave-api-v1\n\nREST API plugin for üWave, the collaborative listening platform.\n\n[Getting Started](#getting-started) - [API](#api) - [Building](#contributing) -\n[License](#license)\n\n> Note: üWave is still under development. Particularly the `u-wave-core` and\n> `u-wave-api-v1` modules will change a lot before the \"official\" 1.0.0 release.\n> Make sure to always upgrade both of them at the same time.\n\n## Getting Started\n\n```\nnpm install u-wave-api-v1\n```\n\nThe module exports a middleware that can be used with express-style HTTP request\nhandlers.\n\n## API\n\n### api = createWebApi(uwave, options={})\n\nCreates a middleware for use with [Express][] or another such library. The first\nparameter is a `u-wave-core` instance. Available options are:\n\n - `server` - An HTTP server instance. `u-wave-api-v1` uses WebSockets, and it\n   needs an HTTP server to listen to for incoming WebSocket connections. An\n   example for how to obtain this server from an Express app is shown below.\n - `socketPort` - The WebSocket server can also listen on its own port instead\n   of attaching to the HTTP server. In that case, specify the port number here.\n - `secret` - A string or Buffer containing a secret used to encrypt\n   authentication tokens. It's important that this is the same as the `secret`\n   option passed to the core library.\n - `recaptcha` - If you want to force ReCaptcha validation on new registrations,\n   pass an object with ReCaptcha options. The only available option is `secret`,\n   which is the ReCaptcha secret obtained from the \"Server-side integration\"\n   panel on your [ReCaptcha site admin page][recaptcha].\n\n```js\nimport express from 'express';\nimport uwave from 'u-wave-core';\nimport createWebApi from 'u-wave-api-v1';\n\nconst app = express();\nconst server = app.listen();\n\nconst secret = fs.readFileSync('./secret.dat');\n\nconst uw = uwave({\n  secret: secret,\n});\nconst api = createWebApi(uw, {\n  secret: secret, // Encryption secret\n  server: server, // HTTP server\n  recaptcha: { secret: 'AABBCC...' }, // Optional\n});\n\napp.use('/v1', api);\n```\n\n### api.attachUwaveToRequest()\n\nReturns a middleware that attaches the üWave core object and the üWave api-v1\nobject to the request. The `u-wave-core` instance will be available as\n`req.uwave`, and the `u-wave-api-v1` instance will be available as\n`req.uwaveApiV1`. This is useful if you want to access these objects in custom\nroutes, that are not in the `u-wave-api-v1` namespace. E.g.:\n\n```js\napp.use('/v1', api);\n\n// A custom profile page.\napp.get('/profile/:user', api.attachUwaveToRequest(), (req, res) => {\n  const uwave = req.uwave;\n  uwave.getUser(req.params.user).then((user) => {\n    res.send(`<h1>Profile of user ${user.username}!</h1>`);\n  });\n});\n```\n\n## Contributing\n\n### Building\n\nThe build step compiles the futuristic JavaScript that's used in this repository\nto code that can be used in engines today, using Babel. To compile the code,\nrun:\n\n```\nnpm run build\n```\n\nWhen developing, it might be useful to recompile automatically on changes\ninstead, using:\n\n```\nnpm run watch\n```\n\n## License\n\n[MIT][]\n\n[recaptcha]: https://www.google.com/recaptcha/admin#list\n[Express]: https://expressjs.com\n\n[MIT]: ./LICENSE\n","created":"2016-12-30T20:23:04.954Z","modified":"2017-06-21T19:06:06.380Z","lastPublisher":{"name":"goto-bus-stop","email":"rene@kooi.me"},"owners":[{"name":"goto-bus-stop","email":"rene@kooi.me"},{"name":"waf","email":"felix@fawong.com"}],"other":{"_attachments":{},"_from":".","_id":"u-wave-api-v1","_nodeVersion":"8.1.2","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/u-wave-api-v1-0.2.1.tgz_1498071965160_0.3197654299438"},"_npmUser":{"name":"goto-bus-stop","email":"rene@kooi.me"},"_npmVersion":"4.6.1","_rev":"13-ef5a37d3d22e51afd295b78bbe2a1f3f","_shasum":"105ba861834ef165be70199a7e717d70cbcc55e6","author":{"name":"Sooyou","email":"souyoou@googlemail.com"},"bugs":{"url":"https://github.com/u-wave/api-v1/issues"},"contributors":[{"name":"Felix Wong","email":"felix@fawong.com"},{"name":"Goz3rr","email":"goz3rr@gmail.com"},{"name":"Renée Kooi","email":"renee@kooi.me"},{"name":"xBytez","email":"me@xbytez.eu"}],"directories":{},"dist-tags":{"latest":"0.2.1"},"dist":{"shasum":"105ba861834ef165be70199a7e717d70cbcc55e6","tarball":"https://registry.npmjs.org/u-wave-api-v1/-/u-wave-api-v1-0.2.1.tgz"},"maintainers":[{"name":"goto-bus-stop","email":"rene@kooi.me"},{"name":"waf","email":"felix@fawong.com"}],"readmeFilename":"README.md","time":{"modified":"2017-06-21T19:06:06.380Z","created":"2016-12-30T20:23:04.954Z","0.1.0":"2016-12-30T20:23:04.954Z","0.2.0":"2017-06-15T11:37:23.358Z","0.2.1":"2017-06-21T19:06:06.380Z"}}}