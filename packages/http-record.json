{"name":"http-record","version":"0.0.4","description":"Record http(s) sessions","homepage":"https://www.npmjs.com/package/http-record","repository":"https://github.com/mindera/http-record","license":"MIT","files":["index.js","lib/**/*","bin/**/*"],"keywords":["http-record","http","record","mitm","proxy"],"dependencies":{"thin":"^0.1.4","ws":"^0.7.1"},"devDependencies":{"grunt-cli":"^0.1.13","grunt-contrib-jshint":"^0.10.0","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-watch":"^0.6.1","load-grunt-tasks":"^1.0.0","time-grunt":"^1.0.0","grunt-mocha-cli":"^1.11.0","jshint-stylish":"^1.0.0"},"scripts":{"test":"grunt"},"gitHead":"dca1a133513ca8949be0c867b6bfbc9b4af4bf5f","versions":[{"number":"0.0.1","date":"2015-03-02T15:47:33.598Z"},{"number":"0.0.2","date":"2015-03-08T13:11:09.245Z"},{"number":"0.0.3","date":"2015-03-17T18:37:58.610Z"},{"number":"0.0.4","date":"2015-09-07T16:55:02.374Z"}],"readme":"#  [![NPM version][npm-image]][npm-url]\n\nhttp-record is a high level module that works as a bridge over the [node-thin](https://github.com/runk/node-thin) \nmodule to capture http records for future usage.\n\n> Note: this module is very raw - please open any issues.\n\n## Install\n\n```sh\n$ npm install --save http-record\n```\n\n## Usage\n\n### API\n\nIt can be used via it's API by creating a new `http-record` instance and calling the `record` method.\n\nThe first argument is an `options` object:\n\n* `options.listenPort` - proxy listen port (default: `8001`)\n* `options.listenHost` - proxy listen host (default: `localhost`)\n* `options.strictSSL` - requires ssl certificates be valid (default: `false`)\n* `options.rejectUnauthorized` - reject clients with invalid ssl certificates (default: `false`)\n* `options.websocket` - enable basic websocket support (default: `false`)\n* `options.websocket.host` - websocket server listen host (default: `localhost`)\n* `options.websocket.port` - websocket server listen port (default: `8002`)\n\nThe second argument is a `callback` to be executed after the proxy starts listening. It receives a `session` object \nargument:\n\n* `session.proxy` - proxy instance running\n* `session.requests` - array with all the captured requests or `[]`\n* `session.websocket` - object with the running websocket details\n* `session.websocket.server` - instance of websocket server or `undefined`\n* `session.websocket.clients` - array with all the connected clients or `[]`\n\nExample:\n\n```js\nvar httpRecord = require('http-record');\n\nhttpRecord.record(options, function(session){\n    \n    // Do some http requests through the proxy\n    // ...\n\n    // Stop the recording session\n    httpRecord.stop(session);\n    \n    // Do whatever you want with the session.requests array\n    // ...\n    \n});\n```\n\nReference of the http-record methods:\n\n* `record` - creates a new instance of http-record and starts the mitm proxy - returns a recursive session object\n* `stop` - stops the mitm proxy - should always be called in the callback of the `record` method to stop the proxy \nand avoid un-wanted requests\n\n### WebSockets\n\nIf you enable websocket support `http-record` will expose a basic websocket server which will push all captured requests\nas stringified JSON objects to the connected clients.\n\n### CLI\n\nIt can also be used as a standalone CLI tool by doing:\n\n```sh\n$ node bin/http-record.js\n\n# Do some http requests through the proxy\n# ...\n\nCTRL^C\n$ \n```\n\nIt will save a JSON object representing all the requests captured in `/tmp/http-record-results.json`.\n\n## Contributors\n\n[Miguel Fonseca](miguel.fonseca@mindera.com)\n\n## License\n\nLicensed under the MIT License\n\n[npm-url]: https://npmjs.org/package/http-record\n[npm-image]: https://badge.fury.io/js/http-record.svg\n","created":"2015-03-02T15:47:33.598Z","modified":"2015-09-07T16:55:02.374Z","lastPublisher":{"name":"miguelcnf","email":"miguel.cnf@gmail.com"},"owners":[{"name":"miguelcnf","email":"miguel.cnf@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"http-record","_nodeVersion":"0.12.0","_npmUser":{"name":"miguelcnf","email":"miguel.cnf@gmail.com"},"_npmVersion":"2.14.2","_rev":"1-7c28286ea5226f5a082e82d0e0532671","_shasum":"bb4f60550d2dea2d0657be2449b5437a971b7015","author":{"name":"Miguel Fonseca","email":"miguel.fonseca@mindera.com"},"bugs":{"url":"https://github.com/mindera/http-record/issues"},"directories":{},"dist-tags":{"latest":"0.0.4"},"dist":{"shasum":"bb4f60550d2dea2d0657be2449b5437a971b7015","tarball":"http://registry.npmjs.org/http-record/-/http-record-0.0.4.tgz"},"maintainers":[{"name":"miguelcnf","email":"miguel.cnf@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-09-07T16:55:02.374Z","created":"2015-03-02T15:47:33.598Z","0.0.1":"2015-03-02T15:47:33.598Z","0.0.2":"2015-03-08T13:11:09.245Z","0.0.3":"2015-03-17T18:37:58.610Z","0.0.4":"2015-09-07T16:55:02.374Z"}}}