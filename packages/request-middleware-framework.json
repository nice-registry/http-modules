{"name":"request-middleware-framework","version":"0.0.5","description":"A framework to intercept HTTP calls made via the request HTTP client.","main":"src/index.js","scripts":{"test":"grunt"},"repository":"https://github.com/Cimpress-MCP/request-middleware-framework","keywords":["request"],"license":"MIT","homepage":"https://github.com/Cimpress-MCP/request-middleware-framework#readme","dependencies":{"assert-plus":"^1.0.0","lodash":"^4.15.0"},"devDependencies":{"chai":"^3.5.0","chai-spies":"^0.7.1","grunt":"^1.0.1","grunt-contrib-jshint":"^1.0.0","grunt-jscs":"^3.0.1","grunt-mocha-istanbul":"^5.0.2","grunt-mocha-test":"^0.12.7","mocha":"^3.0.2","mocha-istanbul":"^0.3.0","node-uuid":"^1.4.7"},"gitHead":"541768a20592935b1379fb91775e902dbdef8102","versions":[{"number":"0.0.4","date":"2016-10-06T21:49:29.120Z"},{"number":"0.0.5","date":"2016-10-19T19:46:32.169Z"}],"readme":"# request-middleware-framework\n\nA framework to intercept HTTP calls made via the request HTTP client.\n\n## Installation\n\n    npm install request-middleware-framework\n\n## Middleware Definition\n\nThe framework simply expects any middleware to be a function of form:\n```\nfunction(options, callback, next) {\n  // Add custom logic here.\n  next(options, callback);\n}\n```\n\nThe ``next()`` call will call the next middleware in the chain. To add any logic on the response, you can modify the callback as follows:\n```\nfunction(options, callback, next) {\n  var _callback = function(err, response, body) {\n    // Add custom response logic here.\n    callback(err, response, body);\n  };\n  next(options, _callback);\n}\n```\n\nIf instead you want to completely short-circuit the HTTP call, you can simply call the callback and provide your own error or response:\n```\nfunction(options, callback, next) {\n  var body = \"Everything's fine.\"\n  callback(null, { statusCode: 200, body: body }, body);\n}\n```\n\n## Examples\n\nOnce you've defined your middleware, you can simply register it by creating a new framework object, and then getting the request object:\n```\nvar requestMiddlewareFramework = new RequestMiddlewareFramework(require(\"request\"), middleware);\nvar request = requestMiddlewareFramework.getMiddlewareEnabledRequest();\n```\n\nYou can then use returned ``request`` object just like you normally would.\n\nFor a full example inside an express app, see the [sample](sample) directory within this repository.\n\n## License\n\n[MIT](LICENSE)\n","created":"2016-10-06T21:49:29.120Z","modified":"2016-10-19T19:46:32.169Z","lastPublisher":{"name":"cimpress_mcp_infrastructure","email":"mcp_infrastructure@cimpress.com"},"owners":[{"name":"cimpress_mcp_infrastructure","email":"mcp_infrastructure@cimpress.com"}],"other":{"_attachments":{},"_from":".","_id":"request-middleware-framework","_nodeVersion":"5.12.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/request-middleware-framework-0.0.5.tgz_1476906391622_0.7240076793823391"},"_npmUser":{"name":"cimpress_mcp_infrastructure","email":"mcp_infrastructure@cimpress.com"},"_npmVersion":"3.8.6","_rev":"1-09ddea1f374e1f3776cd800fe8845611","_shasum":"b83281e15eb88a9f500e94dd1f316053175dc624","author":{"name":"Cimpress-MCP"},"bugs":{"url":"https://github.com/Cimpress-MCP/request-middleware-framework/issues"},"directories":{},"dist-tags":{"latest":"0.0.5"},"dist":{"shasum":"b83281e15eb88a9f500e94dd1f316053175dc624","tarball":"http://registry.npmjs.org/request-middleware-framework/-/request-middleware-framework-0.0.5.tgz"},"maintainers":[{"name":"cimpress_mcp_infrastructure","email":"mcp_infrastructure@cimpress.com"}],"readmeFilename":"README.md","time":{"modified":"2016-10-19T19:46:32.169Z","created":"2016-10-06T21:49:29.120Z","0.0.4":"2016-10-06T21:49:29.120Z","0.0.5":"2016-10-19T19:46:32.169Z"}}}