{"name":"protractor-http-mock-async","version":"0.1.0-temp","description":"Mock HTTP calls in your protractor specs.","main":"index.js","scripts":{"example":"grunt example"},"license":"BSD-2-Clause","devDependencies":{"grunt":"~0.4.5","grunt-browserify":"^3.8.0","grunt-contrib-connect":"^0.8.0","grunt-contrib-jasmine":"^0.8.2","grunt-contrib-jshint":"~0.10.0","grunt-jasmine-node":"~0.2.1","grunt-protractor-runner":"^1.1.4","protractor":"~1.5.0"},"repository":"https://github.com/atecarlos/protractor-http-mock","dependencies":{"query-string":"^1.0.0"},"gitHead":"324793ebcd936d9e2f681d2742dfe6cc2fb7c655","homepage":"https://github.com/atecarlos/protractor-http-mock#readme","versions":[{"number":"0.1.0-temp","date":"2015-09-30T12:43:01.209Z"}],"readme":"# Protractor Mock\nA NodeJS module to be used alongside [Protractor](https://github.com/angular/protractor) to facilitate setting up mocks for HTTP calls for the AngularJS applications under test. \n\nThis allows the developer to isolate the UI and client-side application code in our tests without any dependencies on an API.\n\n**This plugin does not depend on Angular Mocks (ngMockE2E) being loaded into your app; therefore, there is no need to modify anything within your current Angular web application.**\n\n## Installation\n\tnpm install protractor-http-mock --save-dev\n## Configuration\nIn your protractor configuration file, we can set the following options:\n\n### Mocks\nWe can set a collection of default mocks to load for every test, and the name of the folder where your mocks will reside. More on this later.\n\n  \tmocks: {\n    \tdefault: ['mock-login'], // default value: []\n    \tdir: 'my-mocks' // default value: 'mocks'\n  \t},\n\n### Directories and file names\nWe can also configure our root directory where the mocks and protractor configuration will be located; as well as, the name of the protractor configuration file.\n\n  \tonPrepare: function(){\n    \trequire('protractor-http-mock').config = {\n\t\t\trootDirectory: __dirname, // default value: process.cwd()\n\t\t\tprotractorConfig: 'my-protractor-config.conf' // default value: 'protractor.conf'\n    \t};\n  \t}\n\n## Usage\nMocks are defined as JSON objects describing the request and response for a particular HTTP call:\n\n  \t  {\n\t\trequest: {\n\t      path: '/users/1',\n\t      method: 'GET'\n\t    },\n\t    response: {\n\t      data: {\n\t        userName: 'pro-mock',\n\t        email: 'pro-mock@email.com'\n\t      }\n\t    }\n\t  }\n\nAnd then set the mock at the beginning of your test before your application loads:\n\n\tvar mock = require('protractor-http-mock');\n\t...\n\n\t  mock([{\n\t    request: {\n\t      path: '/users/1',\n\t      method: 'GET'\n\t    },\n\t    response: {\n\t      data: {\n\t        userName: 'pro-mock',\n\t        email: 'pro-mock@email.com'\n\t      }\n\t    }\n\t  }]);\n\nMake sure to clean up after test execution. This should be typically done in the `afterEach` call to ensure the teardown is executed regardless of what happens in the test execution:\n\n\tafterEach(function(){\n\t  mock.teardown();\n\t});\n\t\nPlease note that the `mock()` function needs to be called before the browser opens. If you have different mock data for different tests, please make sure that, either the tests always start in a new browser window, or that its possible to setup all the mocks for each test case before any of tests start running.\n\n### Mock files\nMocks can also be loaded from physical files located in the `mocks.dir` directory that we defined in our configuration: \n\n  \ttests\n\t    e2e\n\t      protractor.conf.js\n\t      mocks\n\t        users.js\n\t      specs\n\t        ...\n\n\nYou could simply load your mocks as follows:\n\n\tmock(['users']);\n\nFiles are structured as standard node modules. The strings passed are the path of the file relative to the mocks directory - the same as if you would be doing a standard `require()` call.\n\n\tmodule.exports = { ... }; // for a single mock.\n\nor\n\n\tmodule.exports = [ ... ]; // for multiple mocks.\n\n\n### Schema\nThe full GET schema for defining your mocks is as follows:\n\n\t  request: {\n\t    path: '/products/1/items',\n\t    method: 'GET',\n\t    params: { // These match params as they would be passed to the $http service. This is an optional field.\n\t      page: 2,\n\t      status: 'onsale'\n\t    },\n\t    queryString: { // These match query string parameters that are part of the URL as passed in to the $http service. This is an optional field.\n\t      param1: 'My first qs parameters',\n\t      param2: 'Second parameter'\n\t    },\n\t    headers: { //These match headers as the end result of the expression provided to the $http method.\n\t    \thead1: 'val1,\n\t    \thead2: 'val2'\n\t    }\n\t  },\n\t  response: {\n\t  \tdata: {}, // This is the return value for the matched request\n\t    status: 500 // The HTTP status code for the mocked response. This is an optional field.\n\t  }\n\nA full mock for a POST call takes the following options:\n\n\t  request: {\n\t    path: '/products/1/items',\n\t    method: 'POST',\n\t    data: { // These match POST data. This is an optional field.\n\t      status: 'onsale',\n\t      title: 'Blue Jeans',\n          price: 24.99\n\t    }\n\t  },\n\t  response: {\n\t    data: { // This is the return value for the matched request\n\t      status: 'onsale',\n\t      title: 'Blue Jeans',\n          id: 'abc123',\n          price: 24.99\n        },\n\t    status: 204 // The HTTP status code for the mocked response. This is an optional field.\n\t  }\n\nPUT, DELETE, HEAD, PATCH, and JSONP methods are also supported. Please see the examples in the source code for more information.\n\n#### Request\nDefining `params`, `queryString`, `headers`, or `data` will help the plugin match more specific responses but neither is required. Both correspond to their matching objects as they would be passed into the $http object call.\n\nHeaders must be defined as the headers that will be used in the http call. Therefore, if in the code to be tested, the headers are defined using properties with function values, these functions will be evaluated as per the $http specification and matched by end result.\n\nProtractor mock will respond with the **last** matched request in case there are several matches.\n\n#### Response\nThe default `status` value is 200 if none is specified.\n\n### Inspection\nFor testing or debugging purposes, it is possible to extract a list of http requests. Simply call the `requestsMade` function as follows:\n\n\tvar mock = require('protractor-http-mock');\n\t...\n\n\t  expect(mock.requestsMade()).toEqual([\n\t\t\t{ url : '/default', method : 'GET' },\n\t\t\t{ url : '/users', method : 'GET' }\n\t\t]);\n\nIt is also possible to clear the list of requests with the `clearRequests()` method.\n\t\t\n### Examples\nIncluded in the code base is an extensive list examples on how to use all the features of this plugin. Please take a look if you have any questions.\n\nTo run these tests locally, please follow these steps from the root directory:\n\n1. `npm install`\n2. `node_modules/.bin/webdriver-manager update`\n3. `npm run example`\n\n\n### Contributions and recognition\n\n* `jdgblinq` for their contribution to query string matching.\n* `ReactiveRaven` for adding convenience methods key for getting this to work with ngResource.\n* `nielssj` for the `requestsMade` functionality and for pointing out a few bugs.\n* `nadersoliman` for their input and pull request on allowing the user to set custom name for the protractor configuration file.\n* `kharnt0x` for submitting a bug fix for proper callback handling.\n* `zigzackattack` for their contribution on post data matching.\n* `matthewjh` for their pull request to allow the plugin to play nice with interceptors.\n* `stevehenry13` for their pull request to allow the plugin to work with transforms.\n","created":"2015-09-30T12:43:01.209Z","modified":"2015-09-30T12:43:01.209Z","lastPublisher":{"name":"mikeryan52","email":"mike.ryan52@gmail.com"},"owners":[{"name":"mikeryan52","email":"mike.ryan52@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"protractor-http-mock-async","_nodeVersion":"4.1.0","_npmUser":{"name":"mikeryan52","email":"mike.ryan52@gmail.com"},"_npmVersion":"3.3.3","_rev":"1-02a7b91193fb0b00a491d1feffe063ca","_shasum":"2d964bab21c055df6f72045c4c1c9c75a4b3130e","author":{"name":"Carlos Atencio"},"bugs":{"url":"https://github.com/atecarlos/protractor-http-mock/issues"},"directories":{},"dist-tags":{"latest":"0.1.0-temp"},"dist":{"shasum":"2d964bab21c055df6f72045c4c1c9c75a4b3130e","tarball":"http://registry.npmjs.org/protractor-http-mock-async/-/protractor-http-mock-async-0.1.0-temp.tgz"},"maintainers":[{"name":"mikeryan52","email":"mike.ryan52@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-09-30T12:43:01.209Z","created":"2015-09-30T12:43:01.209Z","0.1.0-temp":"2015-09-30T12:43:01.209Z"}}}