{"name":"url-metadata","version":"2.1.7","description":"Request an http url and scrape its metadata.","main":"index.js","scripts":{"lint":"standard","test":"npm run lint"},"repository":"https://github.com/LevelNewsOrg/url-metadata","license":"MIT","homepage":"https://github.com/LevelNewsOrg/url-metadata#readme","keywords":["url","metadata","meta","tags","article","scrape","scraper","node","node.js","javascript","js","og","open graph","og tags"],"dependencies":{"cheerio":"^0.22.0","q":"^1.4.1","request":"^2.75.0","standard":"^8.4.0","underscore":"^1.8.3"},"gitHead":"3c96bbbc31d6fb22a3be8db97b3e69e587cdd3ca","readme":"# url-metadata\nRequest an http url and scrape its metadata. Many of the metadata fields returned are [Open Graph Protocol (og:)](http://ogp.me/) so far.\n\n## Usage\n\nInstall via npm to use in a Node.js project:\n```\nnpm install url-metadata --save`\n```\n\nThen in your project file (from example/basic.js):\n```\nconst urlMetadata = require('url-metadata')\nurlMetadata('http://bit.ly/2ePIrDy').then(\n  function (metadata) { // success handler\n    console.log(metadata)\n  },\n  function (error) { // failure handler\n    console.log(error)\n  })\n```\nIf you'd like to override the default options (see below), pass in a second argument:\n```\nconst urlMetadata = require('urlMetadata')\nurlMetadata('http://bit.ly/2ePIrDy', {fromEmail: 'me@myexample.com'}).then(...)\n```\n\n### Options\nDefaults are the values below that you may want to override:\n```\n{\n  userAgent: 'MetadataScraper', // name the bot that will make url request\n  fromEmail: 'example@example.com', // your email\n  maxRedirects: 10,\n  timeout: 10000, // 10 seconds\n  descriptionLength: 750, // number of chars to truncate description to\n  ensureSecureImageRequest: true,\n  sourceMap: {} // example: https://github.com/LevelNewsOrg/source-map\n  encode: undefined, // a function to encode metadata with, see example/encoding.js\n}\n```\n\n### Returns\nReturns a promise that gets resolved with the following url metadata if the url request response returns successfully. Note that the `url` field returned below will be the last hop in the request chain. So if you passed in a url that was generated by a link shortener, for example, you'll get back the final destination of the link as the `url`.\n```\n{\n  'url'                  : '',\n  'canonical'            : '',\n  'title'                : '',\n  'image'                : '',\n  'author'               : '',\n  'description'          : '',\n  'keywords'             : '',\n  'source'               : '',\n  'og:url'               : '',\n  'og:locale'            : '',\n  'og:locale:alternate'  : '',\n  'og:title'             : '',\n  'og:type'              : '',\n  'og:description'       : '',\n  'description'          : '',\n  'og:determiner'        : '',\n  'og:site_name'         : '',\n  'og:image'             : '',\n  'og:image:secure_url'  : '',\n  'og:image:type'        : '',\n  'og:image:width'       : '',\n  'og:image:height'      : ''\n}\n```\n\nAdditional fields are also returned if the url has an `og:type` set to `article`. These fields are:\n```\n{\n  'article:published_time'     : '',\n  'article:modified_time'      : '',\n  'article:expiration_time'    : '',\n  'article:author'             : '',\n  'article:section'            : '',\n  'article:tag'                : '',\n  'og:article:published_time'  : '',\n  'og:article:modified_time'   : '',\n  'og:article:expiration_time' : '',\n  'og:article:author'          : '',\n  'og:article:section'         : '',\n  'og:article:tag'             : ''\n}\n```\n","versions":[{"number":"1.0.0","date":"2016-05-21T19:18:39.585Z"},{"number":"1.0.1","date":"2016-10-22T20:35:04.346Z"},{"number":"1.0.2","date":"2016-10-22T20:41:24.222Z"},{"number":"1.0.3","date":"2016-10-22T21:07:23.355Z"},{"number":"1.0.4","date":"2016-10-22T21:12:00.284Z"},{"number":"1.0.5","date":"2016-10-22T21:16:03.561Z"},{"number":"2.0.0","date":"2016-10-23T11:58:56.048Z"},{"number":"2.0.1","date":"2016-10-23T12:21:36.931Z"},{"number":"2.0.2","date":"2016-10-23T12:33:44.729Z"},{"number":"2.1.0","date":"2016-10-23T15:27:28.727Z"},{"number":"2.1.1","date":"2016-10-23T15:29:34.494Z"},{"number":"2.1.2","date":"2016-10-23T16:10:55.627Z"},{"number":"2.1.3","date":"2016-10-23T16:22:17.343Z"},{"number":"2.1.4","date":"2016-10-23T17:20:53.268Z"},{"number":"2.1.5","date":"2016-11-03T16:32:26.378Z"},{"number":"2.1.6","date":"2016-11-03T16:35:24.100Z"},{"number":"2.1.7","date":"2017-01-05T06:23:14.661Z"}],"created":"2016-05-21T19:18:39.585Z","modified":"2017-01-05T06:23:14.661Z","lastPublisher":{"name":"laurengarcia","email":"lauren.garcia@gmail.com"},"owners":[{"name":"laurengarcia","email":"lauren.garcia@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"url-metadata","_nodeVersion":"6.2.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/url-metadata-2.1.7.tgz_1483597392494_0.9310552603565156"},"_npmUser":{"name":"laurengarcia","email":"lauren.garcia@gmail.com"},"_npmVersion":"3.10.7","_rev":"16-b9dcf9597348a764c2d4ff87e9220096","_shasum":"90349e110d1974031227946c6550e4870a0bb377","author":{"name":"Lauren Garcia","email":"lauren.garcia@gmail.com","url":"https://github.com/laurengarcia"},"bugs":{"url":"https://github.com/LevelNewsOrg/url-metadata/issues"},"directories":{},"dist-tags":{"latest":"2.1.7"},"dist":{"shasum":"90349e110d1974031227946c6550e4870a0bb377","tarball":"http://registry.npmjs.org/url-metadata/-/url-metadata-2.1.7.tgz"},"maintainers":[{"name":"laurengarcia","email":"lauren.garcia@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-01-05T06:23:14.661Z","created":"2016-05-21T19:18:39.585Z","1.0.0":"2016-05-21T19:18:39.585Z","1.0.1":"2016-10-22T20:35:04.346Z","1.0.2":"2016-10-22T20:41:24.222Z","1.0.3":"2016-10-22T21:07:23.355Z","1.0.4":"2016-10-22T21:12:00.284Z","1.0.5":"2016-10-22T21:16:03.561Z","2.0.0":"2016-10-23T11:58:56.048Z","2.0.1":"2016-10-23T12:21:36.931Z","2.0.2":"2016-10-23T12:33:44.729Z","2.1.0":"2016-10-23T15:27:28.727Z","2.1.1":"2016-10-23T15:29:34.494Z","2.1.2":"2016-10-23T16:10:55.627Z","2.1.3":"2016-10-23T16:22:17.343Z","2.1.4":"2016-10-23T17:20:53.268Z","2.1.5":"2016-11-03T16:32:26.378Z","2.1.6":"2016-11-03T16:35:24.100Z","2.1.7":"2017-01-05T06:23:14.661Z"}}}