{"name":"simple-http-mock","version":"1.0.5","description":"Simple mock module","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/ilacomp/simple-mock","keywords":["mocks","http","server"],"license":"ISC","homepage":"https://github.com/ilacomp/simple-mock#readme","dependencies":{"body-parser":"^1.15.2","express":"^4.14.0","express-http-proxy":"^0.10.1","glob":"^7.1.1","morgan":"^1.7.0"},"gitHead":"a15826490eb90766cc58ccaa14083c1775f76a53","versions":[{"number":"1.0.0","date":"2017-01-17T07:47:58.657Z"},{"number":"1.0.1","date":"2017-01-17T07:50:36.336Z"},{"number":"1.0.2","date":"2017-01-17T08:01:13.935Z"},{"number":"1.0.3","date":"2017-01-17T08:05:04.688Z"},{"number":"1.0.4","date":"2017-01-20T07:31:31.183Z"},{"number":"1.0.5","date":"2017-01-23T08:20:09.345Z"}],"readme":"# simple-http-mock\r\nNodeJS simple mock module used to mock http responses and optionaly proxy them to other host.\r\nIt can be used as middleware constructor, or standalone http/https server.\r\nBasic usage: Add your mocks to mocks directory, start mock server and debug http requests/responses.\r\n\r\n##Install\r\nClone repository\r\n```bash\r\n$ npm install simple-http-mock --save-dev\r\n```\r\n\r\n##API\r\n```js\r\nvar simpleMock = require('simple-http-mock');\r\n```\r\n\r\n### simpleMock.createServer(options)\r\n\r\nRuns http/https server base on options.\r\n\r\n### simpleMock.mocks(options)\r\n\r\nReturns array of middlewares, which can be used in your app.\r\n\r\n#### Options\r\n\r\nsimpleMock accepts these properties in the options object.\r\n\r\n#### mocksDir\r\n\r\nDirectory where you place your mocks.\r\n\r\n#### server\r\n\r\nAnd object with http/https server options.\r\n\r\n```js\r\n// EXAMPLE: create http and https server\r\nserver: {\r\n    httpPort: 3000,\r\n    httpsPort: 3443,\r\n    privateKey: \"sslcert/server.key\",\r\n    cert: \"sslcert/server.crt\"\r\n}\r\n```\r\n\r\n#### proxies\r\n\r\nList of objects, contain proxy servers.\r\n\r\n```js\r\n// EXAMPLE: Use proxy for requests to /auth\r\nproxies: [\r\n    {\r\n        uri: \"/auth\",\r\n        host: \"google.com\"\r\n    }\r\n]\r\n```\r\n\r\n#### log\r\n\r\nObject with log options. loglevel is a loglevel for morgan middleware.\r\n\r\n```js\r\n// EXAMPLE: Write logs to logfile.log\r\nlog: {\r\n    logfile: \"logfile.log\",\r\n    loglevel: \"combined\"\r\n}\r\n```\r\n\r\n##Creating mocks\r\n###Simple mock\r\nCreate json file in mocks folder\r\n```js\r\n{\r\n    \"method\": \"post\",\r\n    \"uri\": \"/a/b\",\r\n    \"status\": 403,\r\n    \"response\": {\r\n        \"answer\": \"ok\"\r\n    },\r\n    \"headers\": [\r\n    {\r\n      \"name\": \"Myheader\",\r\n      \"value\": \"Myvalue\"\r\n    },\r\n    {\r\n      \"name\": \"Anything-else\",\r\n      \"value\": \"More values\"\r\n    }\r\n    ],\r\n    \"cookies\": [\r\n        {\r\n          \"name\": \"mycookie\",\r\n          \"value\": \"something\"\r\n        }\r\n    ]\r\n}\r\n```\r\n###Advanced mock\r\nYou can create your own mock function using NodeJS and express framework.\r\n\r\nMock function is a Express middleware, which will receive params:\r\n\r\n`req` - object with request information\r\n\r\n`res` - object with response\r\n\r\n`next` - function, which must be called if you wish to pass request to other middlewares.\r\n\r\nJust put your module to mocks directory.\r\n\r\nExample module:\r\n\r\n```js\r\nvar express = require('express');\r\nvar router = express.Router();\r\n\r\nrouter.route('/mock/:id1')\r\n    .get(function(req, res, next){\r\n        res.json({answer: 'not ok'});\r\n    })\r\n    .post(function(req, res, next){\r\n        console.log('This is PUT middleware:', req.url);\r\n        next();\r\n    });\r\n\r\nmodule.exports = router;\r\n```","created":"2017-01-17T07:47:58.657Z","modified":"2017-01-23T08:20:09.345Z","lastPublisher":{"name":"ilacomp","email":"ila.comp@gmail.com"},"owners":[{"name":"ilacomp","email":"ila.comp@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"simple-http-mock","_nodeVersion":"4.4.4","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/simple-http-mock-1.0.5.tgz_1485159608688_0.5116760418750346"},"_npmUser":{"name":"ilacomp","email":"ila.comp@gmail.com"},"_npmVersion":"3.10.8","_rev":"6-2544f6ff34547167284fbe0950efb019","_shasum":"7f8f4e87c235d7e3ff9639ce813ce1da051ab586","author":{"name":"ilacomp","url":"ila.comp@gmail.com"},"bugs":{"url":"https://github.com/ilacomp/simple-mock/issues"},"directories":{},"dist-tags":{"latest":"1.0.5"},"dist":{"shasum":"7f8f4e87c235d7e3ff9639ce813ce1da051ab586","tarball":"https://registry.npmjs.org/simple-http-mock/-/simple-http-mock-1.0.5.tgz"},"maintainers":[{"name":"ilacomp","email":"ila.comp@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-01-23T08:20:09.345Z","created":"2017-01-17T07:47:58.657Z","1.0.0":"2017-01-17T07:47:58.657Z","1.0.1":"2017-01-17T07:50:36.336Z","1.0.2":"2017-01-17T08:01:13.935Z","1.0.3":"2017-01-17T08:05:04.688Z","1.0.4":"2017-01-20T07:31:31.183Z","1.0.5":"2017-01-23T08:20:09.345Z"}}}