{"name":"bedrock-ledger-http","version":"0.4.1","description":"Bedrock ledger HTTP API","main":"./lib","repository":"https://github.com/digitalbazaar/bedrock-ledger-http","homepage":"https://github.com/digitalbazaar/bedrock-ledger-http","peerDependencies":{"bedrock":"^1.2.4","bedrock-ledger":"^0.3.0","bedrock-express":"^2.0.4","bedrock-identity":"^4.2.2","bedrock-identity-http":"^1.0.0","bedrock-key":"^3.1.2","bedrock-key-http":"^2.1.1","bedrock-mail":"^2.0.1","bedrock-passport":"^3.1.2","bedrock-permission":"^2.3.2","bedrock-rest":"^2.0.1","bedrock-server":"^2.1.2","bedrock-validation":"^2.1.0","bedrock-views":"^4.2.1","jsonld":"^0.4.11","jsonld-signatures":"^1.1.5"},"engines":{"node":">=6.3.0"},"gitHead":"e08e00779d7b68ff94a85fae8dd216862e6504b0","scripts":{},"versions":[{"number":"0.3.4","date":"2017-05-03T21:20:14.389Z"},{"number":"0.3.5","date":"2017-05-04T17:40:54.825Z"},{"number":"0.4.0","date":"2017-05-05T17:52:24.036Z"},{"number":"0.4.1","date":"2017-05-11T20:03:38.087Z"}],"readme":"[![Build Status](http://ci.digitalbazaar.com/buildStatus/icon?job=bedrock-ledger-http)](http://ci.digitalbazaar.com/job/bedrock-ledger-http)\n\n# Bedrock Ledger HTTP API\n\nA [bedrock][] module to control the creation and management of decentralized\nledgers via an HTTP API.\n\n## Requirements\n\n- npm v3+\n\n## Quick Examples\n\n```\nnpm install bedrock-ledger-http\n```\n\n```js\nvar actor = 'admin';\n\nvar ledgerEndpoint = 'https://example.org/ledgers/';\n\nvar ledgerConfigEvent = {\n  '@context': 'https://w3id.org/flex/v1',\n  id: 'did:c02915fc-672d-4568-8e6e-b12a0b35cbb3/events/1',\n  type: 'LedgerConfigurationEvent',\n  ledgerConfig: {\n    id: 'did:c02915fc-672d-4568-8e6e-b12a0b35cbb3',\n    type: 'LedgerConfiguration',\n    name: 'test-ledger',\n    description: 'A test ledger',\n    storageMechanism: 'SequentialList',\n    consensusAlgorithm: {\n      type: 'ProofOfSignature2016',\n      approvedSigner: [ 'https://example.org/keys/authorized-1' ],\n      minimumSignaturesRequired: 1\n    },\n  },\n  previousEvent: {\n    hash: 'urn:sha256:0000000000000000000000000000000000000000000000000000000000000000';\n  }\n};\n\njsigs.sign(ledgerConfigurationEvent, {\n    algorithm: 'LinkedDataSignature2015',\n    privateKeyPem: myPrivateKey,\n    creator: 'https://example.org/keys/authorized-1'\n  }, function(err, signedConfigEvent) {\n    if(err) {\n      return console.log('Signature failed:', err);\n    }\n    request.post({\n      url: ledgerEndpoint,\n      body: signedConfigEvent,\n      json: true\n    }, function(err, res, body) {\n      if(err) {\n        console.log('Ledger creation failed!');\n      } else if(res.statusCode === 201) {\n        console.log('Ledger created!')\n      }\n    });\n  });\n```\n\n## Configuration\n\nFor documentation on configuration, see [config.js](./lib/config.js).\n\n## API\n\n### POST /ledgers\n\nCreate a new ledger\n\nSchema: [services.ledger.postConfig](./schemas/services.ledger.js)\n\n * Response codes:\n    * 201: Ledger creation was successful. HTTP Location header contains URL of newly created ledger.\n    * 400: Ledger creation failed due to malformed request.\n    * 403: Ledger creation failed due to invalid digital signature.\n    * 409: Ledger creation failed due to duplicate information.\n\n### POST /ledgers/{ledger}\n\nAppend a new event to a ledger.\n\nSchema: [services.ledger.postLedgerEvent](./schemas/services.ledger.js)\n\n  * Response Codes:\n    * 201: Ledger was appended successfully. HTTP Location header contains URL of newly appended event.\n    * 400: Ledger append failed due to malformed request.\n    * 403: Ledger append failed due to invalid digital signature\n    * 409: Ledger append failed due to duplicate information.\n\n### GET /ledgers\n\nGet metadata for all ledgers known to the system.\n\n  * Response Codes:\n    * 200: [Successful response](./docs/examples/get.ledgers.jsonld)\n\n### GET /ledgers/{ledger}\n\nGet metadata for specific ledger known to the system.\n\n  * Response Codes:\n    * 200: [Successful response](./docs/examples/get.ledger.jsonld)\n    * 404: Ledger not found.\n\n### GET /ledgers/{ledger}/state\n\nGet state machine information for a particular object.\n\n  * Response Codes:\n    * 200: [Successful response](./docs/examples/get.ledger.state.jsonld)\n    * 400: Retrieval failed due to malformed query.\n    * 404: Query generated zero results; object not found.\n\n### GET /ledgers/{ledger}/{ledgerId}/events/{eventNumber}\n\nGet metadata for specific ledger event.\n\n  * Response Codes:\n    * 200: [Successful response](./docs/examples/get.ledger.event.jsonld)\n    * 404: Ledger event was not found.\n\n[bedrock]: https://github.com/digitalbazaar/bedrock\n","created":"2017-05-03T21:20:14.389Z","modified":"2017-05-11T20:03:38.087Z","lastPublisher":{"name":"mattcollier","email":"mcollier@digitalbazaar.com"},"owners":[{"name":"davidlehn","email":"dil@lehn.org"},{"name":"dlongley","email":"dlongley@digitalbazaar.com"},{"name":"mattcollier","email":"mcollier@digitalbazaar.com"},{"name":"msporny","email":"msporny@digitalbazaar.com"}],"other":{"_attachments":{},"_from":".","_id":"bedrock-ledger-http","_nodeVersion":"7.2.1","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/bedrock-ledger-http-0.4.1.tgz_1494533016549_0.390100838849321"},"_npmUser":{"name":"mattcollier","email":"mcollier@digitalbazaar.com"},"_npmVersion":"3.10.10","_rev":"7-808741a7792dd76ec1fc7ef8d7952df9","_shasum":"e427dc782f4481e48736f37df4a33eb732754c89","author":{"name":"Digital Bazaar, Inc.","email":"support@digitalbazaar.com","url":"http://digitalbazaar.com"},"bugs":{"url":"https://github.com/digitalbazaar/bedrock-ledger-http/issues"},"directories":{},"dist-tags":{"latest":"0.4.1"},"dist":{"shasum":"e427dc782f4481e48736f37df4a33eb732754c89","tarball":"https://registry.npmjs.org/bedrock-ledger-http/-/bedrock-ledger-http-0.4.1.tgz"},"maintainers":[{"name":"davidlehn","email":"dil@lehn.org"},{"name":"dlongley","email":"dlongley@digitalbazaar.com"},{"name":"mattcollier","email":"mcollier@digitalbazaar.com"},{"name":"msporny","email":"msporny@digitalbazaar.com"}],"readmeFilename":"README.md","time":{"modified":"2017-05-11T20:03:38.087Z","created":"2017-05-03T21:20:14.389Z","0.3.4":"2017-05-03T21:20:14.389Z","0.3.5":"2017-05-04T17:40:54.825Z","0.4.0":"2017-05-05T17:52:24.036Z","0.4.1":"2017-05-11T20:03:38.087Z"}}}