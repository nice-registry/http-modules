{"name":"dat-rest-server","version":"1.0.6","description":"An http server for [dat](http://dat-data.com).","main":"index.js","bin":{"dat-rest-server":"cli.js"},"scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/karissa/dat-rest-server","license":"ISC","homepage":"https://github.com/karissa/dat-rest-server","dependencies":{"dat":"^7.0.2","debug":"^2.2.0","getport":"^0.1.0","http-hash-router":"^1.1.0","minimist":"^1.1.2","ndjson":"^1.4.1","pump":"^1.0.0"},"gitHead":"15bef8e7f47548a05afba9e9eff308858f4f5625","versions":[{"number":"1.0.0","date":"2015-07-28T15:25:15.112Z"},{"number":"1.0.1","date":"2015-09-01T22:58:29.711Z"},{"number":"1.0.2","date":"2015-09-01T22:59:43.246Z"},{"number":"1.0.3","date":"2015-09-02T14:44:26.389Z"},{"number":"1.0.4","date":"2015-09-02T20:50:32.808Z"},{"number":"1.0.5","date":"2015-09-03T21:55:11.222Z"},{"number":"1.0.6","date":"2015-09-15T22:50:55.384Z"}],"readme":"# dat-rest-server\n\nA http server for [dat](http://dat-data.com). Parameters to routes are the same as the [cli documentation](https://github.com/maxogden/dat/blob/master/docs/cli-docs.md).\n\n```\nnpm install -g dat-rest-server\ndat-rest-server --port=<port> --path=<path/to/dat>\n```\n## GET /\n\nGets basic information about the state of the dat\n\n```\n{\n  dat: true,\n  version: \"7.0.4\",\n  status: {\n    head: \"a2c77bedfb59f2237825614b57109ef35e097f5b1bf9320e9a52ef90768d566a\",\n    transaction: false,\n    checkout: false,\n    modified: \"2015-09-01T22:53:17.775Z\",\n    datasets: 3,\n    rows: 2686,\n    files: 2,\n    versions: 4,\n    size: 1704743\n  },\n  datasets: [\n    \"organisms2\",\n    \"organisms\",\n    \"files\"\n  ]\n}\n```\n\n## POST /\n\nUsed for replication during clone:\n\n```\ndat clone mydatserver.com\n```\n\n## GET /datasets\n\n```\nGET mydatserver.com/datasets\n```\n\nReturns\n```\n[\n  \"files\",\n  \"sac-crime\",\n  \"models\"\n]\n```\n\n## GET /changes\n\nGets changes from dat\n\nOptional params: `live`\n\n```\nGET mydatserver.com/changes?live=true\n```\n\nReturns\n\n```\n{\"root\":true,\"change\":1,\"date\":\"2015-09-01T20:47:40.582Z\",\"version\":\"3ffbf6b75e57a934024c47e747390732bb0b8210310b037bb4974b5529820ea9\",\"message\":\"\",\"links\":[],\"puts\":0,\"deletes\":0,\"files\":0}\n{\"root\":false,\"change\":2,\"date\":\"2015-09-01T20:47:40.590Z\",\"version\":\"dbf404f13567d5dd727534b80816b1b95211523611410024bafb53a3831f0f18\",\"message\":\"\",\"links\":[\"3ffbf6b75e57a934024c47e747390732bb0b8210310b037bb4974b5529820ea9\"],\"puts\":1,\"deletes\":0,\"files\":1}\n{\"root\":false,\"change\":3,\"date\":\"2015-09-01T20:47:45.274Z\",\"version\":\"969be9bd7e4670633e1b8412f9617311c80b6e3aec6d6013de15b705292fcb28\",\"message\":\"\",\"links\":[\"dbf404f13567d5dd727534b80816b1b95211523611410024bafb53a3831f0f18\"],\"puts\":1342,\"deletes\":0,\"files\":0}\n{\"root\":false,\"change\":4,\"date\":\"2015-09-01T22:52:45.479Z\",\"version\":\"2e8cd3a9578e9a5281768d8a7625adc2c7e99d60660fde5a8807205240d89601\",\"message\":\"\",\"links\":[\"969be9bd7e4670633e1b8412f9617311c80b6e3aec6d6013de15b705292fcb28\"],\"puts\":1,\"deletes\":0,\"files\":1}\n{\"root\":false,\"change\":5,\"date\":\"2015-09-01T22:53:17.775Z\",\"version\":\"a2c77bedfb59f2237825614b57109ef35e097f5b1bf9320e9a52ef90768d566a\",\"message\":\"complete->completed\",\"links\":[\"2e8cd3a9578e9a5281768d8a7625adc2c7e99d60660fde5a8807205240d89601\"],\"puts\":1342,\"deletes\":0,\"files\":0}\n```\n\n## GET /files\n\nGet file list from dat.\n\n```\nGET mydatserver.com/files\n```\n\n```\n{\n  files: [\n    \"/Users/karissa/Dropbox/throwaway/bug.mov\",\n    \"asdf\",\n    \"black_crappie.json\",\n    \"bug.mov\",\n    \"fishing/black_crappie.json\",\n    \"fishing/yellow_perch.json\",\n    \"package.json\"\n  ]\n}\n```\n\n## GET /files/:name\n\nGet file contents with the given name\n\n```\nGET mydatserver.com/files/package.json\n```\n\n```\n{\n  name: \"Hunting-and-Fishing\",\n  publisher: \"waldoj\",\n  description: \"Hunting-and-Fishing\"\n}\n```\n\n## GET /datasets/:name\n\nGets dat data out.\n\nOptional params: `format`\n\n```\nGET mydatserver.com/datasets/<dataset>?format=csv\n```\n\nReturns\n```\ncdatetime,address,district,beat,grid,crimedescr,ucr_ncic_code,latitude,longitude\n1/1/06 0:00,3108 OCCIDENTAL DR,3,3C        ,1115,10851(A)VC TAKE VEH W/O OWNER,2404,38.55042047,-121.3914158\n1/1/06 0:00,2082 EXPEDITION WAY,5,5A        ,1512,459 PC  BURGLARY RESIDENCE,2204,38.47350069,-121.4901858\n1/1/06 0:00,4 PALEN CT,2,2A        ,212,10851(A)VC TAKE VEH W/O OWNER,2404,38.65784584,-121.4621009\n1/1/06 0:00,22 BECKFORD CT,6,6C        ,1443,476 PC PASS FICTICIOUS CHECK,2501,38.50677377,-121.4269508\n1/1/06 0:00,3421 AUBURN BLVD,2,2A        ,508,459 PC  BURGLARY-UNSPECIFIED,2299,38.6374478,-121.3846125\n1/1/06 0:00,5301 BONNIEMAE WAY,6,6B        ,1084,530.5 PC USE PERSONAL ID INFO,2604,38.52697863,-121.4513383\n1/1/06 0:00,2217 16TH AVE,4,4A        ,957,459 PC  BURGLARY VEHICLE,2299,38.537173,-121.4875774\n1/1/06 0:00,3547 P ST,3,3C        ,853,484 PC   PETTY THEFT/INSIDE,2308,38.56433456,-121.4618826\n1/1/06 0:00,3421 AUBURN BLVD,2,2A        ,508,459 PC  BURGLARY BUSINESS,2203,38.6374478,-121.3846125\n1/1/06 0:00,1326 HELMSMAN WAY,1,1B        ,444,1708 US   THEFT OF MAIL,2310,38.60960217,-121.4918375\n```\n\n\n## POST /datasets/:dataset\n\nPut data in dat.\n\nOptional params: `message`, `format`, `key`.\n\n```\nPOST mydatserver.com/datasets/<dataset>\n```\n\nBe sure to push data in the request with an appropriate `Content-Type` header:\n\n```\n'json': 'application/json',\n'csv': 'text/csv',\n'ndjson': 'application/x-ndjson',\n'sse': 'text/event-stream'\n```\n\n","created":"2015-07-28T15:25:15.112Z","modified":"2015-09-15T22:50:55.384Z","lastPublisher":{"name":"karissa","email":"krmckelv@gmail.com"},"owners":[{"name":"karissa","email":"krmckelv@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"dat-rest-server","_nodeVersion":"4.0.0","_npmUser":{"name":"karissa","email":"krmckelv@gmail.com"},"_npmVersion":"2.14.2","_rev":"1-6e8f2bd5d1e4b7ba711848fc9dcca8a6","_shasum":"a95b5026ac4919023e73601e1584e39a2b63ea7b","author":{"name":"Karissa McKelvey","email":"karissa@karissamck.com","url":"http://karissamck.com/"},"bugs":{"url":"https://github.com/karissa/dat-rest-server/issues"},"directories":{},"dist-tags":{"latest":"1.0.6"},"dist":{"shasum":"a95b5026ac4919023e73601e1584e39a2b63ea7b","tarball":"http://registry.npmjs.org/dat-rest-server/-/dat-rest-server-1.0.6.tgz"},"maintainers":[{"name":"karissa","email":"krmckelv@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-09-15T22:50:55.384Z","created":"2015-07-28T15:25:15.112Z","1.0.0":"2015-07-28T15:25:15.112Z","1.0.1":"2015-09-01T22:58:29.711Z","1.0.2":"2015-09-01T22:59:43.246Z","1.0.3":"2015-09-02T14:44:26.389Z","1.0.4":"2015-09-02T20:50:32.808Z","1.0.5":"2015-09-03T21:55:11.222Z","1.0.6":"2015-09-15T22:50:55.384Z"}}}