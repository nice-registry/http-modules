{"name":"persistent-tunnel","version":"1.2.4","description":"HTTP Agent for tunneling proxies with persistent sockets","main":"index.js","scripts":{"pretest":"coffee -o build -c lib","test":"mocha --compilers coffee:coffee-script/register","prepublish":"coffee -o build -c lib"},"repository":"https://github.com/resin-io/persistent-tunnel","keywords":["http","agent","proxy","tunnel"],"license":"MIT","homepage":"https://github.com/resin-io/persistent-tunnel#readme","devDependencies":{"bluebird":"^3.3.1","chai":"^3.5.0","coffee-script":"^1.10.0","mocha":"^2.4.5","node-tunnel":"^0.1.2"},"dependencies":{"typed-error":"^0.1.0"},"engines":{"node":"4.x"},"gitHead":"00de7d21758ce1936c9451796e1b3b640845d1d1","versions":[{"number":"1.1.0","date":"2016-02-22T10:59:37.292Z"},{"number":"1.1.1","date":"2016-02-22T11:28:16.651Z"},{"number":"1.1.2","date":"2016-02-22T11:55:25.064Z"},{"number":"1.1.3","date":"2016-02-23T09:36:42.522Z"},{"number":"1.1.4","date":"2016-02-23T10:03:04.598Z"},{"number":"1.1.5","date":"2016-02-23T11:13:05.700Z"},{"number":"1.1.6","date":"2016-02-23T11:35:18.633Z"},{"number":"1.2.0","date":"2016-02-23T13:20:55.591Z"},{"number":"1.2.1","date":"2016-02-23T13:24:46.280Z"},{"number":"1.2.2","date":"2016-03-03T05:49:03.404Z"},{"number":"1.2.3","date":"2016-05-05T11:10:14.546Z"},{"number":"1.2.4","date":"2016-06-06T09:16:33.031Z"}],"readme":"# persistent-tunnel\n\nHTTP Agent for tunneling proxies with persistent sockets\n\n## Motivation\n\nThis tunneling agent combines the latest http.Agent with a custom `createConnection` function\nthat returns the socket of an established tunnel.\n\nInspired from\n\n* [http.Agent on nodejs/node#master](https://github.com/nodejs/node/commit/9bee03aaf2d8137a5e490150e759750ccdc65202)\n* [koichik/node-tunnel](https://github.com/koichik/node-tunnel)\n\n## Use cases\n\n### Simple tunneling\n\n```javascript\nvar tunnel = require('persistent-tunnel');\n\nvar tunnelingAgent = new tunnel.Agent({\n  proxy: {\n    host: 'localhost',\n    port: 3128\n  }\n});\ntunnelingAgent.createConnection = tunnel.createConnection;\n\nvar req = http.request({\n  host: 'example.com',\n  port: 80,\n  agent: tunnelingAgent\n});\n```\n\n### Simple tunneling with persistent tunnels\n\n```javascript\nvar tunnel = require('persistent-tunnel');\n\nvar tunnelingAgent = new tunnel.Agent({\n  keepAlive: true   // create persistent sockets over tunnel\n  proxy: {\n    host: 'localhost',\n    port: 3128\n  },\n});\ntunnelingAgent.createConnection = tunnel.createConnection;\n\nvar req = http.request({\n  host: 'example.com',\n  port: 80,\n  agent: tunnelingAgent\n});\n```\n\n### Simple tunneling with persistent tunnels that expire after a timeout\n\n```javascript\nvar tunnel = require('persistent-tunnel');\n\nvar tunnelingAgent = new tunnel.Agent({\n  keepAlive: true,\n  proxy: {\n    host: 'localhost',\n    port: 3128\n    timeout: 2000 // tunnel sockets close after 2s of inactivity\n  },\n});\ntunnelingAgent.createConnection = tunnel.createConnection;\n\nvar req = http.request({\n  host: 'example.com',\n  port: 80,\n  agent: tunnelingAgent\n});\n```\n\n## Configuration\n\n### `keepAlive` setting\n\nWhen `keepAlive` is set to `true`, socket pooling / reuse\nis enabled by the HTTP Agent. In addition to managing the pool,\nthe HTTP Agent calls `setKeepAlive()` on each pooled socket so\nthat TCP KeepAlive packets are sent over the established connection\nin small intervals. Any intermediate TCP Load Balancers / Proxies\nalong the tunnel connection should detect the TCP KeepAlive packets\nand keep the connection alive.\n\n### `timeout` setting\n\nWhen `timeout` is set, the connection will get severed if no data has\nbeen transfered over the socket for the specified time. TCP KeepAlive\npackets do not count as data. The `timeout` setting is useful for making sure\nthat idle sockets will eventually get `destroy()`'ed and release their\nresources.\n\nIf no `timeout` value is set, the pooled tunneling sockets will be kept alive forever.\n\nIn any case, if a tunnel connection gets dropped for any reason, the underlying\nsocket will emit an error that [will result in it being removed from the\nHTTP Agent pool](https://github.com/resin-io/persistent-tunnel/blob/master/vendor/_http_agent.js#L246-L252) (and its resources released, too).\n\nTODO\n----\n* https support\n* proxy authorization\n\nSupport\n-------\n\nIf you're having any problem, please [raise an issue](https://github.com/resin-io/persistent-tunnel/issues/new) on GitHub and the Resin.io team will be happy to help.\n\n## License\n\nLicensed under the [MIT](https://github.com/resin-io/persistent-tunnel/blob/master/LICENSE) license.\n","created":"2016-02-22T10:59:37.292Z","modified":"2016-06-06T09:16:33.031Z","lastPublisher":{"name":"resin.io","email":"accounts@resin.io"},"owners":[{"name":"resin.io","email":"accounts@resin.io"}],"other":{"_attachments":{},"_from":".","_id":"persistent-tunnel","_nodeVersion":"4.3.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/persistent-tunnel-1.2.4.tgz_1465204591417_0.4434903443325311"},"_npmUser":{"name":"resin.io","email":"accounts@resin.io"},"_npmVersion":"2.14.12","_rev":"1-dc7264e19fb320a92771978e7521ddac","_shasum":"e4519c4ced8012bae5304097ec1131defff4aab8","author":{"name":"Kostas Lekkas","email":"kostas@resin.io"},"bugs":{"url":"https://github.com/resin-io/persistent-tunnel/issues"},"directories":{"test":"test"},"dist-tags":{"latest":"1.2.4"},"dist":{"shasum":"e4519c4ced8012bae5304097ec1131defff4aab8","tarball":"http://registry.npmjs.org/persistent-tunnel/-/persistent-tunnel-1.2.4.tgz"},"maintainers":[{"name":"resin.io","email":"accounts@resin.io"}],"readmeFilename":"README.md","time":{"modified":"2016-06-06T09:16:33.031Z","created":"2016-02-22T10:59:37.292Z","1.1.0":"2016-02-22T10:59:37.292Z","1.1.1":"2016-02-22T11:28:16.651Z","1.1.2":"2016-02-22T11:55:25.064Z","1.1.3":"2016-02-23T09:36:42.522Z","1.1.4":"2016-02-23T10:03:04.598Z","1.1.5":"2016-02-23T11:13:05.700Z","1.1.6":"2016-02-23T11:35:18.633Z","1.2.0":"2016-02-23T13:20:55.591Z","1.2.1":"2016-02-23T13:24:46.280Z","1.2.2":"2016-03-03T05:49:03.404Z","1.2.3":"2016-05-05T11:10:14.546Z","1.2.4":"2016-06-06T09:16:33.031Z"}}}