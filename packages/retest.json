{"name":"retest","version":"1.0.1","description":"Request driven library for testing HTTP servers","main":"retest.js","scripts":{"test":"istanbul cover _mocha -- -R spec"},"repository":"https://github.com/blakeembrey/retest","keywords":["request","test","tdd","http"],"license":"MIT","homepage":"https://github.com/blakeembrey/retest","devDependencies":{"body-parser":"^1.6.5","cookie-parser":"^1.3.2","express":"^4.8.4","formidable":"^1.0.15","istanbul":"^0.3.0","mocha":"^1.21.4"},"dependencies":{"form-data":"^0.1.4","request":"2.x"},"gitHead":"466b1bd4695e0693e1897119f6e39e6c4d9c7af2","versions":[{"number":"0.0.1","date":"2014-02-03T22:37:50.310Z"},{"number":"0.0.2","date":"2014-02-04T01:23:14.503Z"},{"number":"0.0.3","date":"2014-02-04T13:49:44.300Z"},{"number":"0.0.4","date":"2014-02-04T13:56:46.847Z"},{"number":"0.0.5","date":"2014-02-07T18:39:56.992Z"},{"number":"0.0.6","date":"2014-02-07T18:42:41.756Z"},{"number":"0.0.7","date":"2014-08-13T23:55:20.166Z"},{"number":"1.0.0","date":"2014-08-17T22:13:47.924Z"},{"number":"1.0.1","date":"2015-06-19T08:08:10.411Z"}],"readme":"# Retest\n\n[![NPM version][npm-image]][npm-url]\n[![NPM downloads][downloads-image]][downloads-url]\n[![Build status][travis-image]][travis-url]\n[![Test coverage][coveralls-image]][coveralls-url]\n\nRequest driven library for testing node.js HTTP servers via [request](https://github.com/mikeal/request).\n\n**Note:** This library is not heavily maintained. If you're looking for a functional request library with hte ability to mount servers during tests, consider trying [Popsicle](https://github.com/blakeembrey/popsicle) with the [server plugin](https://github.com/blakeembrey/popsicle-server).\n\n## Installation\n\n```\nnpm install retest --save-dev\n```\n\n## Usage\n\nYou may pass a `http.Server`, function or string to `retest()` - if the server is not listening for connections it will be bound to an ephemeral port so there is no need to keep track of ports.\n\n```javascript\nvar retest  = require('retest');\nvar express = require('express');\n\nvar app = express();\n\napp.get('/', function (req, res) {\n  res.send('hello');\n});\n\nretest(app).get('/user', function (err, res) {\n  if (err) throw err;\n});\n```\n\nA retest instance accepts the same arguments as [request](https://github.com/mikeal/request), including the [options object](https://github.com/mikeal/request#requestoptions-callback).\n\n### Multipart Requests\n\nA multipart request can be sent using the [form-data](https://github.com/felixge/node-form-data) module. Just use `retest.form()` to create an instance and pass it as the body option, as you would any other object.\n\n```javascript\nvar retest = require('retest');\nvar test   = retest(app);\n\nvar form = test.form();\n\n// Append fields and files as you normally would.\nform.append('username', 'blakeembrey');\nform.append('password', 'hunter2');\n\ntest.post({\n  uri: '/user',\n  body: form\n}, function (err, res) {\n  // ...\n});\n```\n\n### Callbacks\n\nThe callback function is called with two arguments, the `error` and `response`. The response body will be automatically parsed when possible based on the content type (current `application/json` and `application/x-www-form-urlencoded`).\n\n### Agent\n\nCreate an instance that will reuse cookies between requests by calling `retest.agent(app)`.\n\n## License\n\nMIT\n\n[npm-image]: https://img.shields.io/npm/v/retest.svg?style=flat\n[npm-url]: https://npmjs.org/package/retest\n[downloads-image]: https://img.shields.io/npm/dm/retest.svg?style=flat\n[downloads-url]: https://npmjs.org/package/retest\n[travis-image]: https://img.shields.io/travis/blakeembrey/retest.svg?style=flat\n[travis-url]: https://travis-ci.org/blakeembrey/retest\n[coveralls-image]: https://img.shields.io/coveralls/blakeembrey/retest.svg?style=flat\n[coveralls-url]: https://coveralls.io/r/blakeembrey/retest?branch=master\n","created":"2014-02-03T22:37:50.310Z","modified":"2015-06-19T08:08:10.411Z","lastPublisher":{"name":"blakeembrey","email":"hello@blakeembrey.com"},"owners":[{"name":"blakeembrey","email":"hello@blakeembrey.com"}],"other":{"_attachments":{},"_from":".","_id":"retest","_nodeVersion":"2.2.1","_npmUser":{"name":"blakeembrey","email":"hello@blakeembrey.com"},"_npmVersion":"2.11.0","_rev":"1-ada15c0a9d6e1cb5553749b6d700977c","_shasum":"96609c9b1afbe8fe141007e2c824c3d3b0ae325c","author":{"name":"Blake Embrey","email":"hello@blakeembrey.com","url":"http://blakeembrey.me"},"bugs":{"url":"https://github.com/blakeembrey/retest/issues"},"directories":{},"dist-tags":{"latest":"1.0.1"},"dist":{"shasum":"96609c9b1afbe8fe141007e2c824c3d3b0ae325c","tarball":"http://registry.npmjs.org/retest/-/retest-1.0.1.tgz"},"maintainers":[{"name":"blakeembrey","email":"hello@blakeembrey.com"}],"readmeFilename":"README.md","time":{"modified":"2015-06-19T08:08:10.411Z","created":"2014-02-03T22:37:50.310Z","0.0.1":"2014-02-03T22:37:50.310Z","0.0.2":"2014-02-04T01:23:14.503Z","0.0.3":"2014-02-04T13:49:44.300Z","0.0.4":"2014-02-04T13:56:46.847Z","0.0.5":"2014-02-07T18:39:56.992Z","0.0.6":"2014-02-07T18:42:41.756Z","0.0.7":"2014-08-13T23:55:20.166Z","1.0.0":"2014-08-17T22:13:47.924Z","1.0.1":"2015-06-19T08:08:10.411Z"}}}