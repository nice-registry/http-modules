{"name":"knoxxnxt-auth-http-spec","version":"6.1.0-1.0.0","description":"HTTP spec for js_auth","main":"./spec.js","scripts":{"docs":"node --harmony ./bin/spec2table","test":"mocha --bail --harmony --reporter spec","test-watch":"mocha --bail --watch --harmony --reporter min","test-debug":"node --debug-brk --harmony test"},"repository":{"type":"git","url":"git+ssh://git@gitlab.com/jksdua__common/auth-http-spec.git"},"keywords":["auth","authentication"],"devDependencies":{"knoxxnxt-auth":"^6.1.2","chai":"^2.0.0","jshint":"^2.5.11","jsonschema":"^1.0.0","jsonschema-extra":"^1.2.0","mocha":"^2.1.0","precommit-hook":"^1.0.7"},"dependencies":{"lodash.merge":"^2.4.1"},"gitHead":"4e9721bdc2e839b013f26688ab7993cb219d6da8","homepage":"https://gitlab.com/jksdua__common/auth-http-spec#README","versions":[{"number":"7.0.0-1.0.0","date":"2017-02-05T02:27:59.404Z"},{"number":"6.1.0-1.0.0","date":"2017-02-05T02:28:59.824Z"}],"readme":"# auth-http-spec\n\nHTTP spec for @knoxxnxt/auth\n\n\nVersions are kept consistent with @knoxxnxt/auth to make it easier to track compatibility.\n\n\n## Installation\n\n```bash\n$ npm i @knoxxnxt/auth-http-spec\n```\n\n\n## API\n\n\n### get\n\nFetch a particular user by email\n\n#### URL\n\n```http\nGET /user/:email\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"role\": \"user admin\",\n  \"authenticated\": true,\n  \"status\": \"enabled\"\n}\n```\n\n\n\n### all\n\nFetch all the users based on arguments passed\n\n#### URL\n\n```http\nGET /user\n```\n\n#### Request Parameters\n\n```json\n{\n  \"query\": {\n    \"required\": false,\n    \"properties\": {},\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"role\": \"user admin\",\n  \"authenticated\": true,\n  \"status\": \"enabled\"\n}\n```\n\n\n\n### login\n\nLogin a user\n\n#### URL\n\n```http\nPOST /login\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"pass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### logout\n\nLogout a user\n\n#### URL\n\n```http\nPOST /logout\n```\n\n#### Request Parameters\n\n```json\nundefined\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": true\n}\n```\n\n\n\n### resume\n\nResume an existing user session\n\n#### URL\n\n```http\nGET /resume\n```\n\n#### Request Parameters\n\n```json\nundefined\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"skip\": true\n}\n```\n\n\n\n### register\n\nRegister a user\n\n#### URL\n\n```http\nPOST /register\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"pass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### activate\n\nActivate a registered user\n\n#### URL\n\n```http\nPOST /activate\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"token\": {\n        \"type\": \"string\",\n        \"minLength\": 64,\n        \"maxLength\": 64,\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### resendActicationEmail\n\nResend activation email to registered user\n\n#### URL\n\n```http\nPOST /resend-activation\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### resendActivationEmail2\n\nResend activation email to registered user\n\n#### URL\n\n```http\nPOST /resend-activation-2\n```\n\n#### Request Parameters\n\n```json\n{}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": true,\n  \"status\": \"registered\"\n}\n```\n\n\n\n### resendInvitationEmail\n\nResend activation email to registered user\n\n#### URL\n\n```http\nPOST /resend-invitation\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### adminActivate\n\n(Admin) Activate a registered user\n\n#### URL\n\n```http\nPOST /user/:email/activate\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"token\": {\n        \"type\": \"string\",\n        \"minLength\": 64,\n        \"maxLength\": 64,\n        \"required\": false\n      },\n      \"skipTokenVerification\": {\n        \"type\": \"boolean\",\n        \"required\": false,\n        \"default\": false\n      }\n    },\n    \"additionalProperties\": false\n  },\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"role\": \"user admin\",\n  \"authenticated\": true,\n  \"status\": \"enabled\"\n}\n```\n\n\n\n### invite\n\nInvite a user. Sends an activation email to the user for activating their account.\n\n#### URL\n\n```http\nPOST /invite\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"roles\": {\n        \"type\": \"array\",\n        \"required\": false,\n        \"minItems\": 1,\n        \"items\": {\n          \"type\": \"string\",\n          \"required\": true\n        }\n      },\n      \"properties\": {\n        \"type\": \"object\",\n        \"required\": false\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": true,\n  \"role\": \"user admin\"\n}\n```\n\n\n\n### acceptInvite\n\nAccept an invitation\n\n#### URL\n\n```http\nPOST /invite/accept\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"pass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      },\n      \"token\": {\n        \"type\": \"string\",\n        \"minLength\": 64,\n        \"maxLength\": 64,\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### adminAcceptInvite\n\nAccept an invitation\n\n#### URL\n\n```http\nPOST /user/:email/invite/accept\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  },\n  \"body\": {\n    \"properties\": {\n      \"pass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      },\n      \"token\": {\n        \"type\": \"string\",\n        \"minLength\": 64,\n        \"maxLength\": 64,\n        \"required\": false\n      },\n      \"skipTokenVerification\": {\n        \"type\": \"boolean\",\n        \"required\": false,\n        \"default\": false\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": true,\n  \"role\": \"user admin\"\n}\n```\n\n\n\n### rejectInvite\n\nReject an invitation\n\n#### URL\n\n```http\nPOST /invite/reject\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"token\": {\n        \"type\": \"string\",\n        \"minLength\": 64,\n        \"maxLength\": 64,\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### adminRejectInvite\n\nReject an invitation\n\n#### URL\n\n```http\nPOST /user/:email/invite/reject\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  },\n  \"body\": {\n    \"properties\": {\n      \"token\": {\n        \"type\": \"string\",\n        \"minLength\": 64,\n        \"maxLength\": 64,\n        \"required\": false\n      },\n      \"skipTokenVerification\": {\n        \"type\": \"boolean\",\n        \"required\": false,\n        \"default\": false\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": true,\n  \"role\": \"user admin\"\n}\n```\n\n\n\n### getProperties\n\nGet the properties of a user\n\n#### URL\n\n```http\nGET /user/:email/properties\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"role\": \"user admin\",\n  \"authenticated\": true,\n  \"status\": \"enabled\"\n}\n```\n\n\n\n### setProperties\n\nSet the properties of a user\n\n#### URL\n\n```http\nPUT /user/:email/properties\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  },\n  \"body\": {\n    \"properties\": {\n      \"properties\": {\n        \"type\": \"object\",\n        \"required\": false\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"role\": \"user admin\",\n  \"authenticated\": true,\n  \"status\": \"enabled\"\n}\n```\n\n\n\n### changePassword\n\nChange currently logged in user's password\n\n#### URL\n\n```http\nPOST /password/change\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"oldPass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      },\n      \"newPass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"role\": \"user\",\n  \"authenticated\": true,\n  \"status\": \"enabled\"\n}\n```\n\n\n\n### adminChangePassword\n\n(Admin) Change user's password\n\n#### URL\n\n```http\nPOST /user/:email/password/change\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  },\n  \"body\": {\n    \"properties\": {\n      \"oldPass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      },\n      \"newPass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"role\": \"user admin\",\n  \"authenticated\": true,\n  \"status\": \"enabled\"\n}\n```\n\n\n\n### resetRequest\n\nRequest a password reset\n\n#### URL\n\n```http\nPOST /password/reset-request\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"mailOptions\": {\n        \"type\": \"object\",\n        \"required\": false\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### adminResetRequest\n\n(Admin) Request a password reset\n\n#### URL\n\n```http\nPOST /user/:email/password/reset-request\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"mailOptions\": {\n        \"type\": \"object\",\n        \"required\": false\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### resetResponse\n\nProcess a password reset\n\n#### URL\n\n```http\nPOST /password/reset-response\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"pass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      },\n      \"token\": {\n        \"type\": \"string\",\n        \"minLength\": 64,\n        \"maxLength\": 64,\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### adminResetResponse\n\n(Admin) Process a password reset\n\n#### URL\n\n```http\nPOST /user/:email/password/reset-response\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  },\n  \"body\": {\n    \"properties\": {\n      \"pass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      },\n      \"token\": {\n        \"type\": \"string\",\n        \"minLength\": 64,\n        \"maxLength\": 64,\n        \"required\": false\n      },\n      \"skipTokenVerification\": {\n        \"type\": \"boolean\",\n        \"required\": false,\n        \"default\": false\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": false\n}\n```\n\n\n\n### disable\n\nDisable a user\n\n#### URL\n\n```http\nPOST /user/:email/disable\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"role\": \"user admin\",\n  \"authenticated\": true,\n  \"status\": \"enabled\"\n}\n```\n\n\n\n### enable\n\nEnable a user\n\n#### URL\n\n```http\nPOST /user/:email/enable\n```\n\n#### Request Parameters\n\n```json\n{\n  \"params\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"role\": \"user admin\",\n  \"authenticated\": true,\n  \"status\": \"enabled\"\n}\n```\n\n\n\n### insert\n\nLow-level method for inserting a user. **Not recommended** - use `invite` or `register` instead\n\n#### URL\n\n```http\nPOST /raw/insert\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      },\n      \"pass\": {\n        \"type\": \"string\",\n        \"minLength\": 8,\n        \"maxLength\": 100,\n        \"required\": true\n      },\n      \"roles\": {\n        \"type\": \"object\",\n        \"required\": false\n      },\n      \"properties\": {\n        \"type\": \"object\",\n        \"required\": false\n      }\n    }\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": true,\n  \"role\": \"user admin\"\n}\n```\n\n\n\n### update\n\nLow-level method for updating a user. **Not recommended** - use `setProperties` instead\n\n#### URL\n\n```http\nPOST /raw/update\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {},\n    \"additionalProperties\": true\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": true,\n  \"role\": \"user admin\"\n}\n```\n\n\n\n### remove\n\nLow-level method for permanently removing a user. **Not recommended** - use `disable` instead\n\n#### URL\n\n```http\nPOST /raw/remove\n```\n\n#### Request Parameters\n\n```json\n{\n  \"body\": {\n    \"properties\": {\n      \"email\": {\n        \"type\": \"string\",\n        \"format\": \"email\",\n        \"required\": true\n      }\n    },\n    \"additionalProperties\": false\n  }\n}\n```\n\n#### Access control\n\nWho can access this method?\n\n```json\n{\n  \"authenticated\": true,\n  \"role\": \"user admin\"\n}\n```\n\n\n## Implementations\n- [koa-auth](https://gitlab.com/jksdua__common/koa-auth) for [koa-framework](https://www.npmjs.com/package/koa-framework)\n\n\n## Changelog\n\n### v6.1.0-1.0.0 (7 December 2015)\n- Updated to work with auth 6.1.x\n  - Added new routes for resending activation and invitation emails\n\n### v6.0.0-1.0.2 (29 July 2015)\n- Fixed issue where certain schema properties were being omitted\n\n### v6.0.0-1.0.1 (29 July 2015)\n- Fixed issue where original auth method schema was being overwritten\n\n### v6.0.0-1.0.0 (23 July 2015)\n- Updated @knoxxnxt/auth\n- Added two new methods - `resendActivationEmail`, `resendActivationEmail2`\n- Changed name to @knoxxnxt/auth-http-spec\n\n### v5.0.0-2.0.1 (23 April 2015)\n- Fixed state property for `/resume` session\n\n### v5.0.0-2.0.0 (10 April 2015)\n- Added resume session spec `/resume`\n\n### v5.0.0-1.0.1 (16 February 2015)\n- Schema bug fix\n\n### v5.0.0-1.0.0 (15 February 2015)\n- Upgraded `auth` support to version 5.0.x\n\n### v4.0.0 (28 January 2015)\n- Upgraded `auth` support to version 4.0.x\n- Added additional properties to describe session changes\n\n### v3.0.0 (22 January 2015)\n- Initial commit\n","created":"2017-02-05T02:27:59.404Z","modified":"2017-02-05T02:28:59.824Z","lastPublisher":{"name":"jksdua","email":"jksdua@gmail.com"},"owners":[{"name":"jksdua","email":"jksdua@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"knoxxnxt-auth-http-spec","_nodeVersion":"6.9.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/knoxxnxt-auth-http-spec-6.1.0-1.0.0.tgz_1486261739606_0.6834480257239193"},"_npmUser":{"name":"jksdua","email":"jksdua@gmail.com"},"_npmVersion":"3.10.8","_rev":"2-189d4b3d8c5f297aed862a00a564154f","_shasum":"5513221f76b3a8330f1952eb193b8e5d718e3b37","author":{"name":"Jaap Karan Singh","email":"jksdua@gmail.com"},"bugs":{"url":"https://gitlab.com/jksdua__common/auth-http-spec/issues"},"directories":{},"dist-tags":{"latest":"6.1.0-1.0.0"},"dist":{"shasum":"5513221f76b3a8330f1952eb193b8e5d718e3b37","tarball":"https://registry.npmjs.org/knoxxnxt-auth-http-spec/-/knoxxnxt-auth-http-spec-6.1.0-1.0.0.tgz"},"maintainers":[{"name":"jksdua","email":"jksdua@gmail.com"}],"readmeFilename":"readme.md","time":{"modified":"2017-02-05T02:28:59.824Z","created":"2017-02-05T02:27:59.404Z","7.0.0-1.0.0":"2017-02-05T02:27:59.404Z","6.1.0-1.0.0":"2017-02-05T02:28:59.824Z"}}}