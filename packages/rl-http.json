{"name":"rl-http","version":"1.5.1","description":"Tool for simplifying http requests with angular","main":"index.js","typings":"index.d.ts","keywords":["typescript","@angular","http"],"repository":{"type":"git","url":"git+https://gitlab.com/RenovoSolutions/rl-http.git"},"scripts":{"prepublish":"npm run build","clean":"gulp clean","build":"gulp clean && tsc && echo Build complete","build.watch":"tsc -w","test":"karma start config/karma.conf.js","test.debug":"karma start config/karma.debug.conf.js","build-test":"npm run build && npm run test","build-test.watch":"npm run build && npm-run-all --parallel build.watch test.debug"},"devDependencies":{"@types/chai":"^3.4.33","@types/es6-shim":"^0.31.32","@types/sinon":"^1.16.31","chai":"~3.5.0","del":"^2.2.2","gulp":"~3.9.1","jasmine":"^2.5.2","jasmine-core":"^2.5.2","karma":"~0.13.21","karma-chai":"~0.1.0","karma-chrome-launcher":"~0.2.2","karma-jasmine":"~1.0.2","karma-sinon":"~1.0.4","npm-run-all":"~3.1.0","sinon":"~1.17.3","typescript":"~2.0.3"},"dependencies":{"@angular/common":"~2.4.0","@angular/compiler":"~2.4.0","@angular/core":"~2.4.0","@angular/http":"~2.4.0","@angular/platform-browser":"~2.4.0","@angular/platform-browser-dynamic":"~2.4.0","@types/lodash":"^4.14.36","es6-shim":"^0.35.0","lodash":"~4.5.1","reflect-metadata":"0.1.2","rxjs":"~5.0.0","systemjs":"~0.19.37","zone.js":"~0.7.2"},"license":"MIT","gitHead":"c7dc3e5c6d6e26e99eabb9b54b4ab2696c5c86bd","homepage":"https://gitlab.com/RenovoSolutions/rl-http#README","versions":[{"number":"0.0.0","date":"2016-08-25T22:06:07.660Z"},{"number":"0.0.1","date":"2016-08-25T22:10:55.377Z"},{"number":"0.0.2","date":"2016-08-26T15:53:26.431Z"},{"number":"1.0.0","date":"2016-09-25T01:04:14.070Z"},{"number":"1.0.1","date":"2016-09-26T14:48:21.806Z"},{"number":"1.0.2","date":"2016-09-26T14:50:48.710Z"},{"number":"1.0.3","date":"2016-09-26T18:02:42.769Z"},{"number":"1.0.4","date":"2016-09-26T18:06:21.591Z"},{"number":"1.0.5","date":"2016-09-26T18:17:27.227Z"},{"number":"1.1.0","date":"2016-09-27T12:13:00.808Z"},{"number":"1.1.1","date":"2016-09-27T15:03:41.136Z"},{"number":"1.1.2","date":"2016-09-27T15:26:42.208Z"},{"number":"1.2.0","date":"2016-10-13T17:25:26.950Z"},{"number":"1.2.1","date":"2016-10-14T13:00:10.255Z"},{"number":"1.3.0","date":"2016-11-15T16:26:02.500Z"},{"number":"1.3.1","date":"2016-11-15T16:38:17.828Z"},{"number":"1.4.0","date":"2017-01-16T18:17:29.826Z"},{"number":"1.5.0","date":"2017-01-16T20:16:51.211Z"},{"number":"1.5.1","date":"2017-01-16T22:00:50.406Z"}],"readme":"A simple wrapper for angular's http service\r\n\r\nRequires @angular/core and @angular/http\r\n\r\n## Installation\r\nInstall rl-http from npm:\r\n```\r\nnpm install rl-http --save\r\n```\r\nConfigure with Angular-CLI and SystemJs:\r\n```\r\n/** Map relative paths to URLs. */\r\nconst map: any = {\r\n    'rl-http': 'vendor/rl-http'\r\n};\r\n\r\n/** User packages configuration. */\r\nconst packages: any = {\r\n    'rl-http': {\r\n        main: 'index.js'\r\n    }\r\n};\r\n```\r\nModify angular-cli-build.js by adding this line to vendorNpmFiles:\r\n```\r\n'rl-http/**/*.+(js|js.map)'\r\n```\r\n\r\n## Usage\r\nThe rl-http utility is meant be used as a substitute for angular's http. The provider is made available by importing the RLHttpModule into your main app module\r\n```\r\nimport { RLHttpModule } from 'rl-http';\r\n\r\n// module definition\r\nimports: [RLHttpModule],\r\n```\r\nServices can inject his to make get, put, post, and delete requests\r\n```\r\nconstructor(private http: HttpUtility) {}\r\n\r\nmyFunc(): void {\r\n    this.http.get('/api/test', { search: 'what' });         // GET against /api/test?search=what\r\n    this.http.post('api/test', testObj);                    // POST request against /api/test with testObj as the body\r\n    this.http.put('/api/test/1', testObj);                  // PUT request against /api/test/1 with testObj as the body\r\n    this.http.delete('/api/test/1', { softDelete: true });  // DELETE request against /api/test/1?softDelete=true\r\n}\r\n```\r\nThe rl-http utility handles the details of building the params object into a URLSearchParams object to provide to angular's http. It also builds a header to specify the content type as application/json. Finally, it jsonizes the body of PUT and POST requests, and parses the response of any request from JSON. These are things that angular's http service doesn't handle internally.\r\n\r\n### Interceptor\r\nIn addition to making http requests easier to manage, the rl-http utility also provides the ability to specify an http interceptor. This interceptor runs when each http request completes to allow you to specify default success/error behavior. This is particularly useful for providing default behavior for handling certain http status codes.\r\nTo use the interceptor, you have to specify a provider for the abstract class HttpInterceptor. This will then get picked up by the rl-http utility and used for all requests.\r\n```\r\nimport { HttpInterceptor } from 'rl-http';\r\n\r\nclass MyInterceptor extends HttpInterceptor {\r\n    // optional\r\n    handleSuccess(response: Response): any {\r\n        if (response.status == 204) {\r\n            console.log('No body to display');\r\n        }\r\n    }\r\n    \r\n    // optional\r\n    handleError(response: Response): Observable<any> {\r\n        if (response.status == 401) {\r\n            login();\r\n        }\r\n    }\r\n}\r\n\r\n// provider\r\nprovide(HttpInterceptor, {\r\n   useClass: MyInterceptor, \r\n}),\r\n```\r\nNote that the interceptor functions run over the raw http response, not the parsed data that the rl-http service returns. This gives the interceptor access to the http status codes.\r\n\r\n## Tests\r\nThis project uses systemjs and karma to run unit tests.\r\n```\r\nnpm install\r\nnpm run build\r\nnpm test\r\n```\r\nAlternately:\r\n```\r\nnpm install\r\nnpm run build-test\r\n```\r\nIf you encounter an issue and want to debug it:\r\n```\r\nnpm run test.debug\r\n```\r\nor\r\n```\r\nnpm run build-test.watch\r\n```\r\n(Runs tsc in watch mode and concurrently runs the test debugger)","created":"2016-08-25T22:06:07.660Z","modified":"2017-01-16T22:00:50.406Z","lastPublisher":{"name":"samgraber","email":"sgraber@renovo1.com"},"owners":[{"name":"joshdsommer","email":"joshdsommer@gmail.com"},{"name":"samgraber","email":"sgraber@renovo1.com"}],"other":{"_attachments":{},"_from":".","_id":"rl-http","_nodeVersion":"4.2.4","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/rl-http-1.5.1.tgz_1484604048594_0.7366115562617779"},"_npmUser":{"name":"samgraber","email":"sgraber@renovo1.com"},"_npmVersion":"3.5.3","_rev":"6-16b767b02b2df396569d895bae486f40","_shasum":"f169ce7f1a210904e3a6b28cde219daa471deff4","author":{"name":"Renovo Development Team"},"bugs":{"url":"https://gitlab.com/RenovoSolutions/rl-http/issues"},"directories":{},"dist-tags":{"latest":"1.5.1"},"dist":{"shasum":"f169ce7f1a210904e3a6b28cde219daa471deff4","tarball":"https://registry.npmjs.org/rl-http/-/rl-http-1.5.1.tgz"},"maintainers":[{"name":"joshdsommer","email":"joshdsommer@gmail.com"},{"name":"samgraber","email":"sgraber@renovo1.com"}],"readmeFilename":"README.md","time":{"modified":"2017-01-16T22:00:50.406Z","created":"2016-08-25T22:06:07.660Z","0.0.0":"2016-08-25T22:06:07.660Z","0.0.1":"2016-08-25T22:10:55.377Z","0.0.2":"2016-08-26T15:53:26.431Z","1.0.0":"2016-09-25T01:04:14.070Z","1.0.1":"2016-09-26T14:48:21.806Z","1.0.2":"2016-09-26T14:50:48.710Z","1.0.3":"2016-09-26T18:02:42.769Z","1.0.4":"2016-09-26T18:06:21.591Z","1.0.5":"2016-09-26T18:17:27.227Z","1.1.0":"2016-09-27T12:13:00.808Z","1.1.1":"2016-09-27T15:03:41.136Z","1.1.2":"2016-09-27T15:26:42.208Z","1.2.0":"2016-10-13T17:25:26.950Z","1.2.1":"2016-10-14T13:00:10.255Z","1.3.0":"2016-11-15T16:26:02.500Z","1.3.1":"2016-11-15T16:38:17.828Z","1.4.0":"2017-01-16T18:17:29.826Z","1.5.0":"2017-01-16T20:16:51.211Z","1.5.1":"2017-01-16T22:00:50.406Z"}}}