{"name":"fis3-deploy-http-push","version":"2.0.6","description":"fis3 deploy http-push plugin","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"keywords":["fis","fis-plus","fis3","deploy"],"license":"BSD","repository":"https://github.com/fex-team/fis3-deploy-http-push","dependencies":{"prompt":"1.0.0"},"gitHead":"cef0f98562470dcc64e86fd2c7d165b3b5a8b10a","homepage":"https://github.com/fex-team/fis3-deploy-http-push#readme","versions":[{"number":"1.0.0","date":"2015-05-22T02:39:39.421Z"},{"number":"1.0.1","date":"2015-05-29T09:02:20.837Z"},{"number":"1.0.2","date":"2016-06-08T02:42:54.880Z"},{"number":"1.0.3","date":"2016-06-08T10:20:23.583Z"},{"number":"1.1.0","date":"2016-07-13T03:44:27.419Z"},{"number":"1.1.1","date":"2016-08-03T08:08:00.158Z"},{"number":"2.0.0","date":"2016-12-15T07:31:11.455Z"},{"number":"2.0.1","date":"2016-12-15T08:03:42.556Z"},{"number":"2.0.2","date":"2016-12-15T09:32:50.098Z"},{"number":"2.0.3","date":"2016-12-15T10:35:20.555Z"},{"number":"2.0.4","date":"2016-12-17T11:07:09.196Z"},{"number":"2.0.5","date":"2016-12-20T08:12:11.488Z"},{"number":"2.0.6","date":"2017-01-19T06:53:44.232Z"}],"readme":"# fis3 http 部署插件\n\nFIS 默认的部署插件，提供本地部署以及远程upload部署能力。\n\n## 安装\n\n全局安装或者本地安装都可以。\n\n```\nnpm install fis3-deploy-http-push --save-dev\n```\n\n## 使用方法\n\n也可以使用统一的 deploy 插件配置方法\n\n```javascript\nfis.match('*.js', {\n    deploy: fis.plugin('http-push', {\n        //如果配置了receiver，fis会把文件逐个post到接收端上\n        receiver: 'http://www.example.com:8080/receiver.php',\n        //这个参数会跟随post请求一起发送\n        to: '/home/fis/www',\n        // 附加参数, 后端通过 $_POST['xx'] 获取\n        // 如果 data 中 含有 to 这个 key, 那么上面那个to参数会覆盖掉data里面的to\n        data: {\n            token : 'abcdefghijk',\n            user : 'maxming',\n            uid : 1\n        }\n    })\n})\n```\n\n## 另类使用方法\n\n比如: 部署时需要 token 输入\n\n举一反三\n\n```javascript\nconst crypto = require('crypto');\nconst readlineSync = require('readline-sync');\nfis.match('**', {\n  deploy: [\n    function (options, modified, total, next) {\n      var token = readlineSync.question('\\r\\n请输入授权token : ', {\n        hideEchoBack: true\n      });\n      if (!token) {\n        return false;\n      }\n      var md5 = crypto.createHash('md5');\n      fis.set('project.token', md5.update(token).digest('hex'));\n      next();\n    },\n    function () {\n      arguments[0] = {\n        //如果配置了receiver，fis会把文件逐个post到接收端上\n        receiver: 'http://127.0.0.1/receiver.php?debug=false',\n        // receiver: 'http://127.0.0.1/receiver.php',\n        //这个参数会跟随post请求一起发送\n        to: '/home/fis/www',\n        // to: '/Users/fis/www',\n        // 附加参数, 后端通过 $_POST['xx'] 获取\n        data: {\n          token: fis.get('project.token')\n        }\n      };\n      require('fis3-deploy-http-push').apply(this, arguments);\n    }\n  ]\n});\n```\n","created":"2015-05-22T02:39:39.421Z","modified":"2017-01-19T06:53:44.232Z","lastPublisher":{"name":"2betop","email":"2betop.cn@gmail.com"},"owners":[{"name":"2betop","email":"2betop.cn@gmail.com"},{"name":"fansekey","email":"fansekey@gmail.com"},{"name":"fis-dev","email":"fansekey@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"fis3-deploy-http-push","_nodeVersion":"6.1.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/fis3-deploy-http-push-2.0.6.tgz_1484808822318_0.5032810065895319"},"_npmUser":{"name":"2betop","email":"2betop.cn@gmail.com"},"_npmVersion":"3.8.6","_rev":"8-00e9ca95b61c13f8f9473adca4ada0fd","_shasum":"63da30415b4af2f6899d157ff20fb1a17cf0d234","author":{"name":"FIS"},"bugs":{"url":"https://github.com/fex-team/fis3-deploy-http-push/issues"},"directories":{},"dist-tags":{"latest":"2.0.6"},"dist":{"shasum":"63da30415b4af2f6899d157ff20fb1a17cf0d234","tarball":"https://registry.npmjs.org/fis3-deploy-http-push/-/fis3-deploy-http-push-2.0.6.tgz"},"maintainers":[{"name":"2betop","email":"2betop.cn@gmail.com"},{"name":"fansekey","email":"fansekey@gmail.com"},{"name":"fis-dev","email":"fansekey@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-01-19T06:53:44.232Z","created":"2015-05-22T02:39:39.421Z","1.0.0":"2015-05-22T02:39:39.421Z","1.0.1":"2015-05-29T09:02:20.837Z","1.0.2":"2016-06-08T02:42:54.880Z","1.0.3":"2016-06-08T10:20:23.583Z","1.1.0":"2016-07-13T03:44:27.419Z","1.1.1":"2016-08-03T08:08:00.158Z","2.0.0":"2016-12-15T07:31:11.455Z","2.0.1":"2016-12-15T08:03:42.556Z","2.0.2":"2016-12-15T09:32:50.098Z","2.0.3":"2016-12-15T10:35:20.555Z","2.0.4":"2016-12-17T11:07:09.196Z","2.0.5":"2016-12-20T08:12:11.488Z","2.0.6":"2017-01-19T06:53:44.232Z"}}}