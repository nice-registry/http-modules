{"name":"http-intercept","version":"0.1.1","description":"Enhancement for Node's HTTP `IncomingMessage` & `ServerResponse` for data going from/to such streams to be intercepted - and modified... :)","main":"intercept.js","scripts":{"test":"echo \"Please contribute!\" && exit 1"},"repository":"https://github.com/pvoisin/node-http-intercept","keywords":["HTTP","intercept","proxy","stream","transform"],"dependencies":{"lodash":"~1.3.1"},"license":"MIT","versions":[{"number":"0.1.0","date":"2013-07-05T04:44:40.625Z"},{"number":"0.1.1","date":"2014-11-27T05:00:47.856Z"}],"readme":"# Usage\n\nApproach is pretty simple: just call the `intercept` method on either request or response and register for the \"`interception`\" event (or just pass your callback when calling `intercept`).\nWhen it is triggered you'll get the intercepted data. At that point you could do whatever you want with it, then normal flow of things will resume...\n\n\n## Modifying Request Data\nLet's say you want to change incoming data:\n\n```\nvar HTTP = require(\"http\");\nvar Query = require(\"querystring\");\nvar read = require(\"concat-stream\");\n\nvar server = HTTP.createServer(function(request, response) {\n//*\n\trequest.intercept(function(context) {\n\t\tcontext.buffer = \"user=Jack\";\n\t});\n//*/\n\n\trequest.pipe(read(function(data) {\n\t\tvar query = Query.parse(String(data) || \"\");\n\t\tresponse.end(\"Hello, \" + query.user + \"!\");\n\t}));\n}).listen(80);\n```\n<u>Note</u>: post something like \"user=Barnab√©\" and you'll see that it is turned into \"Jack\" in the greeting message.\n\n\n## Modifying Response Data\n\n```\nvar HTTP = require(\"http\");\nvar Query = require(\"querystring\");\nvar read = require(\"concat-stream\");\n\nvar server = HTTP.createServer(function(request, response) {\n\tvar user;\n//*\n\trequest.intercept(function(context) {\n\t\tuser = Query.parse(String(context.buffer) || \"\").user;\n\t\tcontext.buffer = \"user=Jack\";\n\t});\n//*/\n\n//*\n\tresponse.intercept(function(context) {\n\t\tcontext.buffer = \"Well... I guess you're not \" + query.user + \", but \" + user + \", right?\";\n\t});\n//*/\n\n\tvar query;\n\n\trequest.pipe(read(function(data) {\n\t\tquery = Query.parse(String(data) || \"\");\n\t\tresponse.end(\"Hello, \" + query.user + \"!\");\n\t}));\n}).listen(80);\n```","created":"2013-07-05T04:44:39.148Z","modified":"2014-11-27T05:00:47.856Z","lastPublisher":{"name":"pvoisin","email":"pierre.voisin@gmail.com"},"owners":[{"name":"pvoisin","email":"pierre.voisin@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"http-intercept","_npmUser":{"name":"pvoisin","email":"pierre.voisin@gmail.com"},"_npmVersion":"1.3.10","_rev":"1-5d59dc464ad7af28aaab3aec0453b01c","author":{"name":"Pierre Voisin","email":"pierre.voisin@gmail.com"},"bugs":{"url":"https://github.com/pvoisin/node-http-intercept/issues"},"directories":{},"dist-tags":{"latest":"0.1.1"},"dist":{"shasum":"4276216cdf1094f143d33350e925c8fb7f905c2a","tarball":"http://registry.npmjs.org/http-intercept/-/http-intercept-0.1.1.tgz"},"maintainers":[{"name":"pvoisin","email":"pierre.voisin@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2014-11-27T05:00:47.856Z","created":"2013-07-05T04:44:39.148Z","0.1.0":"2013-07-05T04:44:40.625Z","0.1.1":"2014-11-27T05:00:47.856Z"}}}