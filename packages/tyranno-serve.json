{"name":"tyranno-serve","version":"0.1.1","description":"Useful and easy http server that can do both rest and static files.","main":"tyranno-serve.js","bin":{"tyranno-serve":"index.js"},"scripts":{"test":"mocha","documentation":"documentation .\\tyranno-serve.js -f html -o doc"},"repository":"https://github.com/LukeMagill/tyranno-serve","keywords":["server","static","rest","file"],"license":"MIT","homepage":"https://github.com/LukeMagill/tyranno-serve#readme","dependencies":{"faye-websocket":"^0.10.0","lodash":"^3.10.1","mime":"^1.3.4","opn":"^3.0.2","send":"^0.13.0","watchr":"^2.4.13"},"engines":{"node":">=4.2.1 < 5.0.0"},"devDependencies":{"documentation":"^3.0.4","mocha":"^2.3.3","request":"^2.65.0"},"gitHead":"c49f060a589ca09794f7ea3c960be4be92882362","versions":[{"number":"0.1.0","date":"2015-11-21T02:14:32.640Z"},{"number":"0.1.1","date":"2016-03-12T16:04:15.174Z"}],"readme":"# Tyranno Serve\n\n![Curdely Drawn Dinosaur](https://raw.githubusercontent.com/LukeMagill/tyranno-serve/master/icon.JPG)\n\nTyranno Serve is a server written in nodejs. It's purpose is to function both as a super lightweight static file server but to be flexible enough to expand to a more powerful system as the developer's needs increase. It is also meant to provide as many commonly used features as is reasonably possible and make everything very easy to access.\n\n## Why?\n\n- Tyranno-Serve sounds kind of like tyrannosaur and tyrannosaurs are awesome.\n- Tyranno-Serve works from the command line, from a settings file, or from your node code.\n- Tyranno-Serve can operate as a simple static file server.\n- Tyranno-Serve can also do rest routing.\n- Tyranno-Serve can do live reloads and automatically open a browser tab when it starts.\n\n## Usage\n\n### Command Line\n\nTo use tyranno-serve from the command line, it must be installed like this:\n\n```\nnpm install -g tyranno-serve\n```\n\nThe simplest possible example is as a static file server. Create a folder and add index.html like this:\n\nindex.html:\n```\n<!DOCTYPE html>\n<html>\n    <head><title>Simple example</title></head>\n    <body>\n        <p>Tyrannosaurs rule!</p>\n    </body>\n</html>\n```\n\nThen in your command line window, type\n\n```\ntyranno-serve\n```\n\nWow! It just opened up a browser tab with your file in it! Also when you make changes the page reloads. Sweet.\n\nThe next thing you might want to do is serve files from a different folder. Let's say your folder is called src:\n\n```\ntyranno-serve src\n```\n\nWill serve from the src folder.\n\nWow it's so cool you say! What else can it do? The next big thing you might want to do is download an NPM module like angular2. Now, you notice that when you install angular2 in npm it shows up in your node__modules folder. Since your other files are served from your src folder you would have to copy them there. But then what if you update? You would have to copy them again. What a pain.\n\nNever fear. Tyranno-serve let's you assign different paths to different folders. You can assign node__modules/angular2 to one path and src to everything else like this:\n\n```\ntyranno-serve --path =src --path node_modules/angular2=node_modules/angular2\n```\n\nNote that in this example, the paths overlap. The rule here is that if two paths overlap, the one with the most specific rule wins.\n\nAre there any other features related to paths? Indeed yes!\n\nSuppose you want to have tyranno-serve first look in one folder then, if it can't find anything, look in another. You can assign as many folders as you want to a particular path which causes it to fallback:\n\n```\ntyranno-serve --path =src --path =extra\n```\n\nAlso, other options are suported. Try tyranno-serve --help for info on these.\n\n### Settings File\n\nOver time, you may start to realize that your command line instructios are becoming really hard to read. One way to help this is to create a settings json file. If your settings file is called tyranno.json, it will be read automatically. Otherwise you can specify a location with --settings. Here is an example:\n\ntyranno.json:\n```\n{\n    \"paths\": {\n        \"\": \"src\",\n        \"node_modules/angular2\": \"node_modules/angular2\"\n    },\n    \"no-browser\": true\n}\n```\n\n### In code\n\nNow at some point, you are probably going to decide that your service needs to have a little more complexity. You may need to add some rest APIs to back your app. At this point you may want to actually start using tyranno-serve from node code. The good news is that's very easy:\n\napp.js:\n```\nvar TyrannoServe = require('tyranno-serve')\n\nvar server = new TyrannoServer({ // could also be the string \"tyranno.json\" which will load from the settings file you had earlier.\n    \"paths\": {\n        \"\": \"src\",\n        \"node_modules/angular2\": \"node_modules/angular2\"\n    },\n    \"no-browser\": true\n});\n\nvar db = new Db();\nserver.addRoute('GET', '/api/v1.0/users/:userId', db.get);\nserver.addRoute('POST', '/api/v1.0/users/:userId', db.post);\n\n// Write your database code here\nfunction Db() {\n    this.get = function(request, response) {\n        // resuset.routeParams.userId has the user id\n        mybackend.get(request.routeParams.userId).then(function(user) {\n            response.ok().data(user);\n        }, function() {\n            request.internalServerError().doDefault();\n        });\n    }\n    this.post = function(request, response) {\n        // response.body is the user object\n        mybackend.set(request.routeParams.userId, request.body).then(function() {\n            request.ok().content(\"\");\n        }, function() {\n            request.internalServerError().doDefault();\n        });\n    }\n}\n```\n\nNotice that tyranno-serve allows you to set up certain paths as rest endpoints, so you can do with them whatever you want. The rest APIs act just like a regular function to the node http server but we add a few extra utilities for you:\n  - If you specified route parameters (like :userId) then request.routeParams will have it.\n  - If it is a post or put, you can look up the body with request.body.\n  - Methods ok, internalServerError, badRequest, and notFound have been added to the response object. Each of these methods returns a ResponseSender which has data (to which you pass json data), content (to which you pass string content), and file (to which you pass a filename to serve).\n  - Method redirect has been added to the response which can be called with a url as a parameter.\n\n## FAQ\n\nThis section provides answers to problems that people have that I can't actually fix as far as I know.\n\n- \"Help! Everything seems fine but tyranno-serve just won't start up with certain folders.\" Check to see if there are a lot of files in the folder. File watcher can get overloaded which freezes your whole node instance. You can fix this by turning listening off or turning listening off for particular folders. Hopefully some of these will not actually be js files so you can safely ignore their change.\n\n# NOTES\n\n## Local editing\n\nIf you edit locally and want to test the command, do this:\n\n```\n<<cd to source directory>>\nnpm install -g .\n\nnpm link .\n\n<<cd into other directory>>\nnpm uninstall tyranno-serve\nnpm link tyranno-serve\n```\n\n## Local testing\n\nTyrannoServe uses mocha for testing. Be sure to run\n\n```\nnpm install -g mocha\n```\n","created":"2015-11-21T02:14:32.640Z","modified":"2016-03-12T16:04:15.174Z","lastPublisher":{"name":"lukemagill","email":"lukemagill@hotmail.com"},"owners":[{"name":"lukemagill","email":"lukemagill@hotmail.com"}],"other":{"_attachments":{},"_from":".","_id":"tyranno-serve","_nodeVersion":"5.7.0","_npmOperationalInternal":{"host":"packages-13-west.internal.npmjs.com","tmp":"tmp/tyranno-serve-0.1.1.tgz_1457798654746_0.6495353672653437"},"_npmUser":{"name":"lukemagill","email":"lukemagill@hotmail.com"},"_npmVersion":"3.6.0","_rev":"1-27bf24ceda9acac2a7df9ad2c2a1f092","_shasum":"f5ff649ffe261baeb320b0ddac475fc0e4a03a5e","author":{"name":"Luke Magill"},"bugs":{"url":"https://github.com/LukeMagill/tyranno-serve/issues"},"directories":{},"dist-tags":{"latest":"0.1.1"},"dist":{"shasum":"f5ff649ffe261baeb320b0ddac475fc0e4a03a5e","tarball":"http://registry.npmjs.org/tyranno-serve/-/tyranno-serve-0.1.1.tgz"},"maintainers":[{"name":"lukemagill","email":"lukemagill@hotmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-03-12T16:04:15.174Z","created":"2015-11-21T02:14:32.640Z","0.1.0":"2015-11-21T02:14:32.640Z","0.1.1":"2016-03-12T16:04:15.174Z"}}}