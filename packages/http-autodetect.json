{"name":"http-autodetect","description":"Support deployment via FastCGI, Passenger, or node http.","version":"0.0.2","license":"MIT","repository":"https://github.com/binki/http-autodetect","dependencies":{"node-fastcgi":"~1 >=1.3.0"},"gitHead":"9040f8829acd1fd91103747acb017cb20e8e5207","homepage":"https://github.com/binki/http-autodetect#readme","scripts":{},"versions":[{"number":"0.0.0","date":"2016-08-23T05:58:19.650Z"},{"number":"0.0.1","date":"2016-08-24T05:05:23.046Z"},{"number":"0.0.2","date":"2016-09-28T03:33:42.935Z"}],"readme":"This is being renamed to [`autoserve`](https://npmjs.com/package/autoserve).\n\nEnable a webapp to get the optimal `http` implementation based on how\nit is deployed. Also provide a way to get the `baseUrl` of the\ndeployment.\n\nWays one might deploy a node-based webapp:\n\n* [http](https://nodejs.org/api/http.html)\n* [node-fastcgi](https://github.com/fbbdev/node-fastcgi)\n* CGI (in the future just as proof of concept, please donâ€™t use in production)\n* Passenger\n\n# Usage\n\n`script.cgi`:\n\n    #!/usr/bin/env node\n    'use strict';\n    \n    const httpAutodetect = require('http-autodetect');\n    \n    const app = function (req, res) {\n        res.writeHead(200, { 'Content-Type': 'text/plain; charset=utf-8', });\n        // It is recommended to use a framework like express to calculate\n        // the host and protocol of your deployment. getBaseUrl() only\n        // solves the path portion of the deployment.\n        res.end(`Hello, World! I am deployed at https://${req.headers.host}${httpAutodetect.getBaseUrl(req)}`);\n    };\n    \n    httpAutodetect(app);\n\n## Express Usage\n\nYou need extra middleware to get Express to respect\n`getBaseUrl()`. See\n[express-http-autodetect](https://github.com/binki/express-http-autodetect)\nfor that or use this snippet:\n\n    #!/usr/bin/env node\n    'use strict';\n    const expressHttpAutodetect = require('express-http-autodetect');\n    \n    // If you followed the Express-4 migration guide or used\n    // express-generator, your app definition will be its own\n    // CommonJS module.\n    const app = require('./app');\n    \n    expressHttpAutodetect(app);\n\nNote the Connect is not supported as it does not have the concept of\nmanaging `baseUrl`/mounting sub-apps. It only chains handlers and is\nmissing the sort of routing handling that proper `baseUrl` handling\nrequires.\n","created":"2016-08-23T05:58:19.650Z","modified":"2016-09-28T03:33:42.935Z","lastPublisher":{"name":"binki","email":"ohnobinki@ohnopublishing.net"},"owners":[{"name":"binki","email":"ohnobinki@ohnopublishing.net"}],"other":{"_attachments":{},"_from":".","_id":"http-autodetect","_nodeVersion":"4.4.6","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/http-autodetect-0.0.2.tgz_1475033622324_0.23223336483351886"},"_npmUser":{"name":"binki","email":"ohnobinki@ohnopublishing.net"},"_npmVersion":"2.15.5","_rev":"1-29be3cfd5aafc1507cb68186c56518c3","_shasum":"1fd91a5c2c65b24210a13ff0fa88febf122c6acd","bugs":{"url":"https://github.com/binki/http-autodetect/issues"},"directories":{},"dist-tags":{"latest":"0.0.2"},"dist":{"shasum":"1fd91a5c2c65b24210a13ff0fa88febf122c6acd","tarball":"http://registry.npmjs.org/http-autodetect/-/http-autodetect-0.0.2.tgz"},"maintainers":[{"name":"binki","email":"ohnobinki@ohnopublishing.net"}],"readmeFilename":"README.md","time":{"modified":"2016-09-28T03:33:42.935Z","created":"2016-08-23T05:58:19.650Z","0.0.0":"2016-08-23T05:58:19.650Z","0.0.1":"2016-08-24T05:05:23.046Z","0.0.2":"2016-09-28T03:33:42.935Z"}}}