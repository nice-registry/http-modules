{"name":"parse-header-stream","version":"1.1.1","description":"parse http or smtp headers from a stream","main":"index.js","dependencies":{"readable-stream":"^1.0.32","split":"~0.3.0","through2":"~1.1.1"},"devDependencies":{"tape":"^2.13.2","covert":"^1.0.0","concat-stream":"^1.4.6"},"scripts":{"test":"tape test/*.js","coverage":"(cd test; covert *.js)"},"repository":"https://github.com/substack/parse-header-stream","homepage":"https://github.com/substack/parse-header-stream","keywords":["parse","http","smtp","email","header","lines","key","value","stream","streaming"],"license":"MIT","gitHead":"2454964b059795782b5a6b2fd8c8900e1c24e53b","versions":[{"number":"1.0.0","date":"2014-08-29T11:14:09.372Z"},{"number":"1.0.1","date":"2014-08-29T13:08:50.162Z"},{"number":"1.0.2","date":"2014-08-30T04:40:37.343Z"},{"number":"1.1.0","date":"2014-09-12T19:35:46.002Z"},{"number":"1.1.1","date":"2014-09-27T01:35:54.210Z"}],"readme":"# parse-header-stream\n\nparse http or smtp headers from a stream\n\n[![build status](https://secure.travis-ci.org/substack/parse-header-stream.png)](http://travis-ci.org/substack/parse-header-stream)\n\n# example\n\n## header example\n\n``` js\nvar parse = require('parse-header-stream');\n\nprocess.stdin.pipe(parse(function (err, headers) {\n    console.log(headers);\n}));\n```\n\nGiven some email input:\n\n```\nDate: 23 Oct 81 11:22:33\nFrom: SMTP@HOSTY.ARPA\nTo: JOE@HOSTW.ARPA\nSubject: Mail System Problem\n\nSorry JOE, your message to SAM@HOSTZ.ARPA lost.\n\nHOSTZ.ARPA said this:\n \"550 No Such User\"\n```\n\nproduces:\n\n```\n{ date: '23 Oct 81 11:22:33',\n  from: 'SMTP@HOSTY.ARPA',\n  to: 'JOE@HOSTW.ARPA',\n  subject: 'Mail System Problem' }\n```\n\nor given some http input:\n\n```\nHTTP/1.1 200 OK\r\nserver: ecstatic-0.4.13\r\netag: \"197162-2662-Sun Aug 17 2014 20:53:29 GMT+0000 (UTC)\"\r\nlast-modified: Sun, 17 Aug 2014 20:53:29 GMT\r\ncache-control: max-age=3600\r\ncontent-length: 2662\r\ncontent-type: text/plain; charset=UTF-8\r\nDate: Fri, 29 Aug 2014 10:49:08 GMT\r\nConnection: keep-alive\r\n\r\n 45.5%    James Halliday (substack)\n\n    browserify     hyperspace       brfs                   deck\n    hacker-deps    trumpet          glog                   hyperquest\n    browser-pack   module-deps      insert-module-globals  optimist\n...\n```\n\nproduces:\n\n```\n{ server: 'ecstatic-0.4.13',\n  etag: '\"197162-2662-Sun Aug 17 2014 20:53:29 GMT+0000 (UTC)\"',\n  'last-modified': 'Sun, 17 Aug 2014 20:53:29 GMT',\n  'cache-control': 'max-age=3600',\n  'content-length': '2662',\n  'content-type': 'text/plain; charset=UTF-8',\n  date: 'Fri, 29 Aug 2014 10:49:08 GMT',\n  connection: 'keep-alive' }\n```\n\n## body example\n\nYou can also strip the leading headers by listening for the `'body'` event:\n\n``` js\nvar parse = require('parse-header-stream');\nvar p = process.stdin.pipe(parse());\np.on('body', function (body) {\n    body.pipe(process.stdout);\n});\n```\n\nGiven this email data:\n\n```\nDate: 23 Oct 81 11:22:33\nFrom: SMTP@HOSTY.ARPA\nTo: JOE@HOSTW.ARPA\nSubject: Mail System Problem\n\nSorry JOE, your message to SAM@HOSTZ.ARPA lost.\n\nHOSTZ.ARPA said this:\n \"550 No Such User\"\n```\n\nProduces this output:\n\n```\nSorry JOE, your message to SAM@HOSTZ.ARPA lost.\n\nHOSTZ.ARPA said this:\n \"550 No Such User\"\n```\n\n# methods\n\n``` js\nvar parser = require('parse-header-stream')\n```\n\n## var stream = parser(opts={}, cb)\n\nReturn a writable `stream` that parses incoming lines for http/email style\nheaders. When the headers are fully read, `cb(err, headers)` fires with the\nheader fields or an error.\n\nOptions are:\n\n* `opts.preserveCase` - if true, the cases of keys are preserved instead of being\nconverted to lower-case. Default: false\n* `opts.maxLength` - maximum size for the entire header payload to be before\nraising an error event\n\n# events\n\n## stream.on('header', function (key, value) {})\n\nAs each header is parsed, this event fires with the `key` and `value` strings.\n\n## stream.on('headers', function (headers) {})\n\n## stream.on('body', function (body) {})\n\nAfter the header is parsed, the 'body' event fires with `body`, a stream with\nall the raw data after the header.\n\n# install\n\nWith [npm](https://npmjs.org) do:\n\n```\nnpm install parse-header-stream\n```\n\n# license\n\nMIT\n","created":"2014-08-29T11:14:09.372Z","modified":"2014-09-27T01:35:54.210Z","lastPublisher":{"name":"substack","email":"mail@substack.net"},"owners":[{"name":"substack","email":"mail@substack.net"}],"other":{"_attachments":{},"_from":".","_id":"parse-header-stream","_nodeVersion":"0.10.12","_npmUser":{"name":"substack","email":"mail@substack.net"},"_npmVersion":"2.0.2","_rev":"1-d29853476dbaf4d93214df1bc6dc5f5e","_shasum":"b357691807aaae978336a571e8330bfbbcafad45","author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"bugs":{"url":"https://github.com/substack/parse-header-stream/issues"},"directories":{},"dist-tags":{"latest":"1.1.1"},"dist":{"shasum":"b357691807aaae978336a571e8330bfbbcafad45","tarball":"http://registry.npmjs.org/parse-header-stream/-/parse-header-stream-1.1.1.tgz"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"readmeFilename":"readme.markdown","time":{"modified":"2014-09-27T01:35:54.210Z","created":"2014-08-29T11:14:09.372Z","1.0.0":"2014-08-29T11:14:09.372Z","1.0.1":"2014-08-29T13:08:50.162Z","1.0.2":"2014-08-30T04:40:37.343Z","1.1.0":"2014-09-12T19:35:46.002Z","1.1.1":"2014-09-27T01:35:54.210Z"}}}