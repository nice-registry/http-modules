{"name":"rainbow-dns","version":"4.0.0","description":"DNS server with http API","bin":{"rainbow-dns":"./index.js"},"main":"index.js","scripts":{"test":"mocha -R nyan -w --check-leaks"},"repository":"https://github.com/asbjornenge/rainbow-dns","keywords":["dns","server","api"],"license":"BSD","homepage":"https://github.com/asbjornenge/rainbow-dns","dependencies":{"ansi-rainbow":"0.0.8","chalk":"^1.0.0","hapi":"^6.8.1","minimist":"^1.1.0","native-dns":"^0.6.1","native-dns-packet":"^0.1.1","random-domain":"^1.0.2","transducers.js":"^0.2.1"},"devDependencies":{"mocha":"^3.2.0"},"gitHead":"fcf6186b3811a9b2e45da0fa9450186cf6237d3c","versions":[{"number":"1.0.0","date":"2014-09-22T09:38:10.208Z"},{"number":"1.0.1","date":"2014-09-22T09:42:12.407Z"},{"number":"1.1.0","date":"2014-09-22T11:34:15.776Z"},{"number":"1.1.1","date":"2014-09-22T12:19:50.127Z"},{"number":"1.1.2","date":"2014-09-23T08:45:23.088Z"},{"number":"1.1.3","date":"2014-09-23T09:29:34.775Z"},{"number":"1.2.0","date":"2014-09-23T11:07:52.165Z"},{"number":"1.2.1","date":"2014-10-14T08:20:46.056Z"},{"number":"2.0.0","date":"2014-10-22T07:07:31.584Z"},{"number":"3.0.0","date":"2014-10-28T12:19:09.260Z"},{"number":"3.0.1","date":"2015-01-28T11:42:15.547Z"},{"number":"4.0.0","date":"2017-02-28T11:43:44.396Z"}],"readme":"# DNS Server with http API\n\n:rainbow:-dns is a DNS server with an http API for populating it's records. Inspired by [skydns](https://github.com/skynetservices/skydns).\n\n## Install\n\n    npm install -g rainbow-dns\n\n## Use\n\n    rainbow-dns\n\n## CLI Options\n\n    --apihost       // API host          (default 127.0.0.1)\n    --apiport       // API port          (default 8080)\n    --dnshost       // DNS host          (default 127.0.0.1)\n    --dnsport       // DNS port          (default 53)\n    --ttl           // Time To Live      (default 300 -> seconds)\n    --store         // Records datastore (default mem -> memory)\n    --domain        // Domain            (default random)\n    --fwdhost       // Forward host\n    --fwdport       // Forward port\n    --static        // Path to static records file\n    --ipv4-for-ipv6 // Broken linux NODATA response handling crutch\n\n### fwdhost\n\nBy passing a ***\\-\\-fwdhost*** flag you can **forward** requests to another dns server if rainbow-dns don't have any matching records.\n\n    rainbow-dns --fwdhost 8.8.8.8\n\n### static\n\nBy passing a ***\\-\\-static*** flag you can inject some **static records** from a **json** file.\n\n    rainbow-dns --static ./static.json --domain dance.kiwi\n\n    // Example static.json\n    {\n        \"records\" : [\n            { \"name\" : \"break\",   \"A\"     : [{\"address\" : \"192.168.1.100\"}] }\n            { \"name\" : \"popping\", \"CNAME\" : [{\"data\"    : \"break.dance.kiwi\"}] }\n        ]\n    }\n\n### ipv4-for-ipv6\n\nDue to an [issue](https://github.com/asbjornenge/rainbow-dns/issues/5) with some recent linux distributions not properly handling (valid) [NODATA](https://www.ietf.org/rfc/rfc2308.txt) responses, you can set the **\\-\\-ipv4-for-ipv6** flag to include A records\nin response to AAAA requests and thereby working around this issue.\n\n**Symptom:**\n\n    curl app.domain.com\n    // unable to resolve hostname\n    curl app.domain.com -4\n    // 200 OK\n\n## API\n\n    GET /\n        List all records\n    PUT /{name}\n        Add record name.domain\n    DELETE /{name}\n        Delete record name.domain\n\n    // Valid json payload\n    {\n        \"A\"     : [{\"address\" : \"192.168.1.1\"},{\"address\" : \"192.168.10.1\"}],\n        \"AAAA\"  : [{\"address\" : \"2605:f8b0:4006:802:0:0:0:1010\"}]\n    }\n\nRainbow-dns supports all **record types** listed **[here](https://github.com/tjfontaine/node-dns#resourcerecord)** provided that you include the **required properties**, with appropriate key and value, for the respective record type. Rainbow-dns will **not validate** your input and will only eject an error message upon requests if your record data is invalid.\n\nThe payload for a **CNAME** record would look something like this:\n\n    {\n        \"CNAME\" : [{\"data\" : \"elsewhere.domain.com\"}]\n    }\n\n**Defaults** (domain, ttl) can be included in the payload and thereby **overwritten** by PUTs.\n\n## Example cURL\n\n    curl -X PUT localhost:8080/database -d '{\"A\": [{\"address\" : \"192.168.1.10\"}], \"ttl\" : 999}' -H 'Content-Type: application/json'\n\n## Example dig\n\n    dig @localhost database.polychromatic.mo +short\n    // 192.168.1.10\n    dig @localhost polychromatic.mo\n    // polychromatic.mo.             5   IN  A   192.168.1.10\n    dig @localhost \"*.polychromatic.mo\"\n    // database.polychromatic.mo.    5   IN  A   192.168.1.10\n\n## Changelog\n\n### 4.0.0\n\n* Fixed issue with case sensitive matching. `rainbow-dns`'s matching is now case insensitive :point_right: [rfc 4343](https://tools.ietf.org/html/rfc4343). Thanks to [@valentin2105](https://github.com/valentin2105) for catching this one! :rainbow: :tada:\n\n### 3.0.1\n\n* Advertising recursion (setting ra header), fixes resolving on some platforms\n\n### 3.0.0\n\n* Flexible record support (support any record supported by native-dns as long as you set the correct data)\n* Support for CNAME records :tada:\n* Renamed --ipv4-only -> --ipv4-for-ipv6\n\n### 2.0.0\n\n* Removed default forward host - if no fwdhost is specified, empty results are returned\n* Added --ipv4-only crazy mode for Docker\n\n### 1.2.1\n\n* New and improved query matcher\n* Groups now respond with the same name for all matches (!)\n\n### 1.2.0\n\n* Added support for group responses\n\n### 1.1.3\n\n* Fixed query match but no ipv4/ipv6 data bug\n\n### 1.1.2\n\n* TTL sensitive interval for staticloop (with a minimum for 1s -> same as ttloop)\n\n### 1.1.1\n\n* Support relative paths for --static\n\n### 1.1.0\n\n* Added support for static records\n\n### 1.0.0\n\n* Intial release :tada:\n","starsCount":4,"created":"2014-09-22T09:38:10.208Z","modified":"2017-02-28T11:43:44.396Z","lastPublisher":{"name":"asbjornenge","email":"asbjorn@asbjornenge.com"},"owners":[{"name":"asbjornenge","email":"asbjorn@asbjornenge.com"}],"other":{"_attachments":{},"_from":".","_id":"rainbow-dns","_nodeVersion":"6.9.2","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/rainbow-dns-4.0.0.tgz_1488282222454_0.7095933696255088"},"_npmUser":{"name":"asbjornenge","email":"asbjorn@asbjornenge.com"},"_npmVersion":"3.10.9","_rev":"2-523cb2aa89aabe0b0f0d413f6007eb47","_shasum":"1d77138beaddbc51d133a778461c436f48847251","author":{"name":"Asbjorn Enge","email":"asbjorn@hanafjedle.net"},"bugs":{"url":"https://github.com/asbjornenge/rainbow-dns/issues"},"directories":{},"dist-tags":{"latest":"4.0.0"},"dist":{"shasum":"1d77138beaddbc51d133a778461c436f48847251","tarball":"https://registry.npmjs.org/rainbow-dns/-/rainbow-dns-4.0.0.tgz"},"maintainers":[{"name":"asbjornenge","email":"asbjorn@asbjornenge.com"}],"readmeFilename":"README.md","time":{"modified":"2017-02-28T11:43:44.396Z","created":"2014-09-22T09:38:10.208Z","1.0.0":"2014-09-22T09:38:10.208Z","1.0.1":"2014-09-22T09:42:12.407Z","1.1.0":"2014-09-22T11:34:15.776Z","1.1.1":"2014-09-22T12:19:50.127Z","1.1.2":"2014-09-23T08:45:23.088Z","1.1.3":"2014-09-23T09:29:34.775Z","1.2.0":"2014-09-23T11:07:52.165Z","1.2.1":"2014-10-14T08:20:46.056Z","2.0.0":"2014-10-22T07:07:31.584Z","3.0.0":"2014-10-28T12:19:09.260Z","3.0.1":"2015-01-28T11:42:15.547Z","4.0.0":"2017-02-28T11:43:44.396Z"},"users":{"asbjornenge":true,"ivangaravito":true,"jsumners":true,"ishanmarikar":true}}}