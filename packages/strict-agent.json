{"name":"strict-agent","version":"1.1.0","description":"HTTP Agent with strict queue requests limit","main":"index.js","scripts":{"test":"mocha","cover":"istanbul cover  _mocha -- -R spec","jshint":"jshint *.js"},"repository":"https://github.com/michae1/strict-http-agent","license":"MIT","keywords":["nodejs","js","request","http","agent"],"files":["LICENSE","HISTORY.md","README.md","index.js"],"engines":{"node":">= 0.10"},"dependencies":{"simple-timed-queue":"1.0.x"},"devDependencies":{"es6-promise":"^3.0.2","istanbul":"^0.3.21","jshint":"2.6.x","mocha":"^2.3.0","node-mocks-http":"^1.4.3","restify":"^3.0.3","restler":"^3.4.0"},"gitHead":"2823f67736343467ceccef319c1f1e118f87a876","homepage":"https://github.com/michae1/strict-http-agent","versions":[{"number":"1.0.0","date":"2015-08-31T11:59:40.057Z"},{"number":"1.0.1","date":"2015-08-31T13:05:59.213Z"},{"number":"1.0.2","date":"2015-09-04T12:09:57.053Z"},{"number":"1.0.3","date":"2015-09-04T14:06:31.815Z"},{"number":"1.1.0","date":"2015-10-07T14:47:51.305Z"}],"readme":"\n[![Build Status][travis-badge]][travis-url]\n[![NPM Version][npm-image]][npm-url]\n\n# strict-http-agent\nNode.js HTTP Agent with strict queued requests limit\n\nMain goal is to prevent this scenario:\n\nNode process sending requests to some slow service. By default after reaching maxSockets, new requests are coming into unlimited queue (javascript array).\nThere are timeouts for requests which are in use, but not for those in queue.\nAfter time there will be huge queue in memory.\nThis module prevents this situation by limiting queue size (fast way) and/or ttl for queues requests (slower).\n\nRequires Node.js>=0.10 or io.js\n\n## Usage\n### HTTP get example:\n```javascript\nvar strictAgent = require(\"strict-http-agent\");\n...\nvar myAgent = new strictAgent({ maxSockets: 10, queueLimit: 100000, queueTTL: 1000 });\n\nvar options = {\n\thost: 'localhost',\n\tport: 8000,\n\tpath: '/',\n\tagent: myAgent\n};\n\nvar req = http.get(options, function(res) {\n\t\tres.pipe( process.stdout );\n\t}).on('error', function(e) {\n\t\t...\n\t});\n```\n\n### queueLimit\nSpecifies max number of requests in queue\n\n### queueTTL\nSpecified max ttl for queued requests\n\n## Testing\n```\nnpm test\n```\n\n## Load testing\n### Requirements:\n* [Vagrant] > 1.7.x\n* [Siege]\n\n### Running tests:\n* In load_tests folder run `vagrant up`. It will download VM, install all requirements.\n* In load_tests folder you can change siege testing params in run.sh and .siegerc after that just run `./run.sh`. Every test will run on reloaded VM. For lite run use run-lite.sh to not reload VM every time.\n* After all tests results will be in run_log in csv format.\n\n### Play around\n* In tools folder there are simple http server [catcher.js] and simple implementation of requests: [demo.js].\n\n[travis-badge]: https://travis-ci.org/michae1/strict-http-agent.svg\n[travis-url]: https://travis-ci.org/michae1/strict-http-agent\n[npm-image]: https://img.shields.io/npm/v/strict-agent.svg\n[npm-url]: https://npmjs.com/package/strict-agent\n[Vagrant]: https://www.vagrantup.com/downloads.html\n[Siege]: https://www.joedog.org/siege-home/\n[catcher.js]: tools/catcher.js\n[demo.js]: tools/demo.js\n[restler]: https://github.com/danwrong/restler\n","created":"2015-08-31T11:59:40.057Z","modified":"2015-10-07T14:47:51.305Z","lastPublisher":{"name":"michae1","email":"qotsaman@gmail.com"},"owners":[{"name":"michae1","email":"qotsaman@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"strict-agent","_npmUser":{"name":"michae1","email":"qotsaman@gmail.com"},"_npmVersion":"1.4.28","_rev":"1-8d7efdb8e835b57e79c29e6aac935034","_shasum":"6be7d6d5cc5696c6959cd35f5d673a64e1bd4e4a","author":{"name":"Michael Plakhov","email":"qotsaman@gmail.com"},"bugs":{"url":"https://github.com/michae1/strict-http-agent/issues"},"directories":{},"dist-tags":{"latest":"1.1.0"},"dist":{"shasum":"6be7d6d5cc5696c6959cd35f5d673a64e1bd4e4a","tarball":"http://registry.npmjs.org/strict-agent/-/strict-agent-1.1.0.tgz"},"maintainers":[{"name":"michae1","email":"qotsaman@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-10-07T14:47:51.305Z","created":"2015-08-31T11:59:40.057Z","1.0.0":"2015-08-31T11:59:40.057Z","1.0.1":"2015-08-31T13:05:59.213Z","1.0.2":"2015-09-04T12:09:57.053Z","1.0.3":"2015-09-04T14:06:31.815Z","1.1.0":"2015-10-07T14:47:51.305Z"}}}