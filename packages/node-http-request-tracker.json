{"name":"node-http-request-tracker","version":"0.1.0","description":"Class to track current, recent, and long-running requests within a Node HTTP server","main":"lib","repository":"https://github.com/UberEther/node-http-request-tracker","license":"MIT","homepage":"https://github.com/UberEther/node-http-request-tracker","scripts":{"test":"mocha","test-cov":"istanbul cover --config test/istanbul.yml node_modules/mocha/bin/_mocha"},"dependencies":{"coffee-script":"^1.9.2","capped-array":"^0.0.1"},"devDependencies":{"mocha":"^2.3.0","chai":"^3.2.0","rewire":"^2.3.4","istanbul":"^0.3.5","coffee-coverage":"^0.6.3"},"gitHead":"262bd3a9dd06316b663008c21f30e804b18447e8","versions":[{"number":"0.1.0","date":"2015-09-10T19:27:17.131Z"}],"readme":"[![Build Status](https://travis-ci.org/UberEther/node-http-request-tracker.svg?branch=master)](https://travis-ci.org/UberEther/node-http-request-tracker)\n[![NPM Status](https://badge.fury.io/js/node-http-request-tracker.svg)](http://badge.fury.io/js/node-http-request-tracker)\n\n# Overview\n\nThis library provides a class to track current, recent, and long-running requests within a Node HTTP server.\n\nThis is useful for debugging and operational monitoring and can be used to find problem pages or diagnose stuck requests.  \n\n# Examples of use:\n\n```\nvar HttpRequestTracker = require(\"node-http-request-tracker\");\nvar http = require(\"http\");\n\nvar svr = http.createServer();\nvar tracker = new HttpShutdownManager(svr);\n\n// Ideally expose information from tracker to your administrative, health-check, and/or monitoring pages\n```\n\n# API\n\n## new NodeHttpRequestTracker(httpServer, options)\n\nCreates a new request tracker for the specified HTTP server.  Options supported are:\n- numRecent (default = 10) - number of recent requests to retain\n- numLongRunning (default = 10) - number of long running requests to retain\n- longRunningThreshold (default = 30000) - requests taking longer than this are considered long-running\n\n## pendingRequests\n\tA hash of current requests.  Each request is assigned an index and removed upon completion\n\n\tThe objects are in the same format as longRequests\n\n## recentRequests\n\tAn array with the last N requests accepted by the server.  The requests may not yet be complete.  \n\n\tThe objects are in the same format as longRequests\n\n## longRequests\n\tAn array with the last N long-running requests completed by the server.  These requests are guarenteed to be complete\n\n\tThe objects contains:\n\t\t- req: The request object\n\t\t- res: The response object\n\t\t- reqDate: Time the request was received\n\t\t- resDate: Time the response was sent\n\n## countByCode\n\tA hash containing the count of the number of responses for each HTTP result code\n\n## reset()\nResets all tracked metrics.  In-flight requests are not reset\n\n## shutdown(cb)\nCloses the server and proceedes to start closing connections.  Once all connections are closed, the callback is called.\n\nReturns a promise that is resolved when all connections are closed.\n\n# Contributing\n\nAny PRs are welcome but please stick to following the general style of the code and stick to [CoffeeScript](http://coffeescript.org/).  I know the opinions on CoffeeScript are...highly varied...I will not go into this debate here - this project is currently written in CoffeeScript and I ask you maintain that for any PRs.","created":"2015-09-10T19:27:17.131Z","modified":"2015-09-10T19:27:17.131Z","lastPublisher":{"name":"msamblanet","email":"samblanetm@uberether.com"},"owners":[{"name":"msamblanet","email":"samblanetm@uberether.com"}],"other":{"_attachments":{},"_from":".","_id":"node-http-request-tracker","_nodeVersion":"0.12.7","_npmUser":{"name":"msamblanet","email":"samblanetm@uberether.com"},"_npmVersion":"2.14.1","_rev":"1-b3ff349525d31ef6bee72a66ceb9ff7a","_shasum":"98a2ba605f057b334de0c85327e81c088f6f95af","author":{"name":"Michael Samblanet","email":"samblanetm@uberether.com","url":"http://github.com/msamblanet/"},"bugs":{"url":"https://github.com/UberEther/node-http-request-tracker/issues"},"directories":{},"dist-tags":{"latest":"0.1.0"},"dist":{"shasum":"98a2ba605f057b334de0c85327e81c088f6f95af","tarball":"http://registry.npmjs.org/node-http-request-tracker/-/node-http-request-tracker-0.1.0.tgz"},"maintainers":[{"name":"msamblanet","email":"samblanetm@uberether.com"}],"readmeFilename":"README.md","time":{"modified":"2015-09-10T19:27:17.131Z","created":"2015-09-10T19:27:17.131Z","0.1.0":"2015-09-10T19:27:17.131Z"}}}