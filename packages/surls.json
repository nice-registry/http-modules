{"name":"surls","version":"0.0.1","description":"A connect middleware to ensure requests are switched between HTTP and HTTPS properly","main":"surls.js","keywords":["https","url","ssl","redirect","secure"],"license":"BSD","dependencies":{"underscore":"~1.4.4","jasmine-node":"~1.7.1"},"scripts":{"test":"./node_modules/jasmine-node/bin/jasmine-node --verbose spec --config test true"},"versions":[{"number":"0.0.1","date":"2013-05-24T17:09:29.714Z"}],"readme":"# surls\n\nsurls is a connect middleware to ensure requests are switched between HTTP and HTTPS based on a config.\n\n## Installation\n\n### npm\n```\nnpm install surls\n```\n\n### GitHub\n```\nnpm install https://github.com/martinrue/surls/tarball/master\n```\n\n## Configuration\n\nThe first thing you must do is call `configure` to specify which URLs should be secured. \nYou can optionally specify the HTTP and HTTPS port numbers to use.\n\n```javascript\nvar surls = require('surls');\n\nsurls.configure(['/login', '/resetpassword'], { httpPort: 1234, httpsPort: 12345 });\n```\n\n### URLs\n\nURLs that are to be forced to HTTPS should be specified in the array passed to `configure`. \nYou can specify an exact URL match using a string or provide a regex that will be tested against the current request URL. \nYou can also use an asterisk to indicate that all URLs should be forced to HTTPS.\n\n### Examples\n\nOnly requests to `/login` and `/account` will be forced to HTTPS, all other requests will be forced to HTTP.\n\n```javascript\nsurls.configure(['/login', '/account']);\n```\n\nRequests to `/secure0`, `/secure1`, ... `/secure9` will be forced to HTTPS, all other requests will be forced to HTTP.\n\n```javascript\nsurls.configure([/secure[0-9]/]);\n```\n\nAll requests will be forced to HTTPS.\n\n```javascript\nsurls.configure(['*']);\n```\n\n### Example Application\n\n```javascript\nvar fs = require('fs');\nvar http = require('http');\nvar https = require('https');\nvar express = require('express');\nvar surls = require('surls');\n\nvar options = {\n  key: fs.readFileSync('server.key'),\n  cert: fs.readFileSync('server.crt')\n};\n\nsurls.configure([/secure[0-9]/], { httpPort: 1234, httpsPort: 12345 });\n\nvar app = express();\n\napp.configure(function() {\n  app.use(surls.secureUrls);\n});\n\napp.get('/', function(req, res) {\n  res.send('index');\n});\n\napp.get('/secure1', function(req, res) {\n  res.send('secure 1');\n});\n\napp.get('/secure2', function(req, res) {\n  res.send('secure 2');\n});\n\napp.get('/secure3', function(req, res) {\n  res.send('secure 3');\n});\n\napp.get('/securez', function(req, res) {\n  res.send('secure Z');\n});\n\nhttp.createServer(app).listen(1234);\nhttps.createServer(options, app).listen(12345);\n```\n","created":"2013-05-24T17:09:27.605Z","modified":"2013-05-24T17:09:29.714Z","owners":[{"name":"martinrue","email":"hello@martinrue.com"}],"other":{"_attachments":{},"_id":"surls","_rev":"1-ae3275c9473625fa421c176e2c31bd4b","author":{"name":"Martin Rue"},"directories":{},"dist-tags":{"latest":"0.0.1"},"dist":{"shasum":"508c0204d54e1571d8910e828a0ff270514d32e1","tarball":"http://registry.npmjs.org/surls/-/surls-0.0.1.tgz"},"maintainers":[{"name":"martinrue","email":"hello@martinrue.com"}],"time":{"modified":"2013-05-24T17:09:29.714Z","created":"2013-05-24T17:09:27.605Z","0.0.1":"2013-05-24T17:09:29.714Z"}}}