{"name":"check-url","description":"Check a remote URL's HTTP response.","version":"1.0.0","dependencies":{"node-fetch":"^1.6.0"},"devDependencies":{"promise-queue":"^2.2.3","tippy-top-sites":"^0.2.0"},"homepage":"https://github.com/pdehaan/check-url#readme","keywords":[],"license":"WTFPL","main":"index.js","repository":"https://github.com/pdehaan/check-url","scripts":{"test":"node test"},"gitHead":"b2662a29169e2ecc4a959a801cd0c6366a38b7ad","versions":[{"number":"1.0.0","date":"2016-09-06T23:18:07.223Z"}],"readme":"# check-url\n\nCheck a remote URL's HTTP response.\n\n## Why?\n\nBecause you want a poorly written link checker.\n\n## Installation:\n\n```sh\n$ npm i check-url -S\n```\n\n## API:\n\n```js\nfunction checkUrl(url, method='HEAD', data={}) {...}\n```\n\n## Usage:\n\n```js\nconst { checkUrl } = require('check-url');\n\ncheckUrl('http://latimes.com')\n  .then((res) => console.log(res))\n  .catch((err) => console.error(err.message));\n```\n\n### Output:\n```json\n{ \"contentType\": \"text/html;charset=UTF-8\",\n  \"ok\": true,\n  \"origUrl\": \"http://latimes.com\",\n  \"status\": 200,\n  \"statusText\": \"OK\",\n  \"url\": \"http://www.latimes.com/\" }\n```\n\nIn some cases, a server may not respond to a `method=HEAD` request, so you can override the request method by passing the optional second parameter, `method`, as seen in the following example:\n\n```js\nconst { checkUrl } = require('./index');\n\ncheckUrl('https://www.wellsfargo.com', 'HEAD', {__method: 'HEAD'})\n  .then((res) => console.log(res))\n  .catch((err) => console.error(err.message));\n\n/* OUTPUT:\n{ __method: 'HEAD',\n  contentType: 'text/html;charset=UTF-8',\n  ok: false,\n  origUrl: 'https://www.wellsfargo.com',\n  status: 400,\n  statusText: 'Bad request',\n  url: 'https://www.wellsfargo.com' }\n*/\n\n\ncheckUrl('https://www.wellsfargo.com', 'GET', {__method: 'GET'})\n  .then((res) => console.log(res))\n  .catch((err) => console.error(err.message));\n\n/* OUTPUT\n{ __method: 'GET',\n  contentType: 'text/html;charset=UTF-8',\n  ok: true,\n  origUrl: 'https://www.wellsfargo.com',\n  status: 200,\n  statusText: 'OK',\n  url: 'https://www.wellsfargo.com' }\n*/\n```\n\nSimilarly, if you want the promise to pass you back some data, you can pass an optional third parameter, `data`, which will be merged into the response:\n\n```js\nconst { checkUrl } = require('./index');\n\ncheckUrl('http://latimes.com', 'HEAD', {_id: '__LATIMES'})\n  .then((res) => console.log(res))\n  .catch((err) => console.error(err.message));\n\n/* OUTPUT:\n{ _id: '__LATIMES',\n  contentType: 'text/html;charset=UTF-8',\n  ok: true,\n  origUrl: 'http://latimes.com',\n  status: 200,\n  statusText: 'OK',\n  url: 'http://www.latimes.com/' }\n*/\n```\n\nOr, if you're trying to process obscenely large lists of URLs, you may need to throttle yourself, before you wreck yourself:\n\n```js\nconst { checkUrl } = require('check-url');\n\nconst Queue = require('promise-queue');\nconst tippyTopSites = require('tippy-top-sites');\n\nconst queue = new Queue(10);\n\ntippyTopSites.forEach(({url}) => queue.add(() => {\n  return checkUrl(url)\n    .then((res) => console.log(res))\n    .then(() => {\n      if (queue.getQueueLength() === 0) {\n        console.log('queue empty...');\n        process.exit(0);\n      }\n    });\n}));\n```\n","created":"2016-09-06T23:18:07.223Z","modified":"2016-09-06T23:18:07.223Z","lastPublisher":{"name":"pdehaan","email":"peter@deseloper.com"},"owners":[{"name":"pdehaan","email":"peter@deseloper.com"}],"other":{"_attachments":{},"_from":".","_id":"check-url","_nodeVersion":"6.3.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/check-url-1.0.0.tgz_1473203887005_0.716178935719654"},"_npmUser":{"name":"pdehaan","email":"peter@deseloper.com"},"_npmVersion":"3.10.3","_rev":"1-ceeb0ce300fc839099dd14e198048b9c","_shasum":"5fa2cfd2c0625eef533dfc1fe3a23e85db504fb7","author":{"name":"Peter deHaan","email":"peter@deseloper.com","url":"https://about.me/peterdehaan"},"bugs":{"url":"https://github.com/pdehaan/check-url/issues"},"directories":{},"dist-tags":{"latest":"1.0.0"},"dist":{"shasum":"5fa2cfd2c0625eef533dfc1fe3a23e85db504fb7","tarball":"http://registry.npmjs.org/check-url/-/check-url-1.0.0.tgz"},"maintainers":[{"name":"pdehaan","email":"peter@deseloper.com"}],"readmeFilename":"README.md","time":{"modified":"2016-09-06T23:18:07.223Z","created":"2016-09-06T23:18:07.223Z","1.0.0":"2016-09-06T23:18:07.223Z"}}}