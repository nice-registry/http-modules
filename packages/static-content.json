{"name":"static-content","version":"1.1.25","description":"HTTP Static Content Middleware","main":"lib/static.js","license":"MIT","repository":"https://github.com/atmajs/atma-server-static","scripts":{"test":"atma test"},"devDependencies":{"atma":"latest","request":"~2.36.0","supertest":"~0.13.0","should":"~4.0.1"},"dependencies":{"atma-io":"*","atma-utils":"^0.1.6"},"gitHead":"12f5dd17b9392d208ac1bb501d0192e66e8f8a14","homepage":"https://github.com/atmajs/atma-server-static#readme","versions":[{"number":"1.0.2","date":"2014-06-05T02:20:26.991Z"},{"number":"1.0.3","date":"2014-06-05T02:43:30.652Z"},{"number":"1.0.4","date":"2014-06-05T02:59:50.748Z"},{"number":"1.0.6","date":"2014-06-05T04:27:07.760Z"},{"number":"1.0.7","date":"2014-06-05T16:59:39.716Z"},{"number":"1.0.9","date":"2014-06-06T16:19:39.966Z"},{"number":"1.0.10","date":"2014-06-07T15:12:07.284Z"},{"number":"1.0.11","date":"2014-06-07T15:46:54.472Z"},{"number":"1.0.12","date":"2014-06-12T21:08:15.053Z"},{"number":"1.0.13","date":"2014-06-25T19:57:26.080Z"},{"number":"1.0.14","date":"2014-06-26T23:09:47.534Z"},{"number":"1.0.15","date":"2014-06-27T11:15:16.047Z"},{"number":"1.0.16","date":"2014-06-28T22:53:07.710Z"},{"number":"1.0.17","date":"2014-08-05T23:59:20.101Z"},{"number":"1.0.18","date":"2014-08-06T01:09:06.920Z"},{"number":"1.0.19","date":"2014-08-08T03:00:40.640Z"},{"number":"1.0.20","date":"2014-08-09T21:32:52.859Z"},{"number":"1.0.21","date":"2014-08-09T21:33:44.049Z"},{"number":"1.0.22","date":"2015-05-03T19:50:19.062Z"},{"number":"1.1.23","date":"2015-07-05T13:05:52.642Z"},{"number":"1.1.24","date":"2016-02-22T12:12:22.872Z"},{"number":"1.1.25","date":"2016-03-02T08:36:28.346Z"}],"readme":"Http Server static middleware\r\n-----\r\n[![Build Status](https://travis-ci.org/atmajs/atma-static-content.svg?branch=master)](https://travis-ci.org/atmajs/atma-static-content)\r\n[![NPM version](https://badge.fury.io/js/static-content.svg)](http://badge.fury.io/js/static-content)\r\n- Binary/String files _html|scripts|styles|texts|json|.etc_:\r\n\t- cache\r\n\t- gzip\r\n\t- File `read` middlewares. Refer to [atma-io](https://github.com/atmajs/atma-io) for documentation.\r\n\t- Virtual files\r\n- Binary streams _images|audio|video|pdf|.etc_:\r\n\t- Range requests\r\n\t\r\n- Best works with [atma-server](https://github.com/atmajs/atma-server)\r\n\r\n#### API\r\n```javascript\r\nrequire('static-content'):StaticContentMiddleware;\r\n\r\nStaticContentMiddleware {\r\n\tcreate: function(settings:StaticContentSettings): function(req, res, next, AppConfig),\r\n\trespond: function(req, res, next, AppConfig):null,\r\n\tsend: ExpressSend,\r\n\tCache: Object {\r\n\t\tstatus: function(enabled:Boolean)\r\n\t\tremove: function(path:String)\r\n\t}\r\n}\r\n\r\nStaticContentSettings {\r\n\t// Optional, static root folder\r\n\tbase: String\r\n\t\r\n\t// Add or overwrite some mimeTypes\r\n\tmimeTypes: { MimeTypeString: Array<Extension> }\r\n\textensions: MimeTypeString || Object {\r\n\t\tmimeType: MimeTypeString,\r\n\t\t\r\n\t\t// When utf8 is set, then file will be also cached and gzipped\r\n\t\tencoding: 'UTF-8' || null,\r\n\t\t\r\n\t\t// In seconds\r\n\t\tmaxAge: Number\r\n\t},\r\n\tdefaultMimeType: MimeTypeString,\r\n\t\r\n\t// Optional, set of default Headers\r\n\theaders: Object\r\n}\r\nAppConfig {\r\n\t// Static root folder resolving:\r\n\t// 1) Check `static` property in config\r\n\t// 2) Check `base` property in config\r\n\t// 3) otherwise, take CWD\r\n\tstatic: String\r\n\tbase: String\r\n}\r\n\r\nExpressSend = function(req, url, ExpressSettings)\r\nExpressSend {\r\n\tmaxage: function(ms:Number): Self,\r\n\tpipe: function(res),\r\n\t\r\n\t// override handlers, support:\r\n\t// - `directory`\r\n\t// - `error`\r\n\ton: function(event:String, function(error:Object))\r\n}\r\n\r\nExpressSettings {\r\n\t// base path\r\n\troot: String,\r\n\t// default `index.html` file\r\n\tindex: String\r\n}\r\n\r\n```\r\n\r\n#### Examples\r\n##### NodeJS HTTP\r\n```javascript\r\nrequire('http')\r\n\t.createServer(require('static-content').create({ base: './content' }))\r\n\t.listen(5777);\r\n```\r\n##### Atma-Root-Application with ConnectJS\r\n```javascript\r\n\r\natma\r\n\t.server\r\n\t.Application({\r\n\t\tconfigs: '/server/configs/*.yml'\r\n\t})\r\n\t.done(function(app){\r\n\t\t\r\n\t\tvar server = connect()\r\n\t\t\t// dynamic content response\r\n\t\t\t.use(app.responder({\r\n\t\t\t\t// if dynamic endpoint is found from\r\n\t\t\t\t// Handlers | RESTful services | Pages\r\n\t\t\t\t// middleware pipeline will be run before calling the endpoint\r\n\t\t\t\tmiddleware: [\r\n\t\t\t\t\tconnect.query(),\r\n\t\t\t\t\tconnect.cookieParser(),\r\n\t\t\t\t\tconnect.bodyParser(),\r\n\t\t\t\t\tconnect.session({\r\n\t\t\t\t\t\t// ..\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tpassport.initialize(),\r\n\t\t\t\t\tpassport.session()\r\n\t\t\t\t]\r\n\t\t\t}))\r\n\t\t\t// Atma-Server static content middleware\r\n\t\t\t.use(require('static-content').create({\r\n\t\t\t\tbase: './public/'\r\n\t\t\t}))\r\n\t\t\t.listen(5777);\r\n\t});\r\n```\r\n##### Atma-Sub-Application\r\n```javascript\r\nmodule.exports = atma\r\n\t.server\r\n\t.Application({})\r\n\t.done(function(app){\r\n\t\tapp.responders([ \r\n\t\t\t// dynamic content response\r\n\t\t\tapp.responder({\r\n\t\t\t\t// if dynamic endpoint is found from\r\n\t\t\t\t// Handlers | RESTful services | Pages\r\n\t\t\t\t// middleware pipeline will be run before calling the endpoint\r\n\t\t\t\tmiddleware: [\r\n\t\t\t\t\tconnect.bodyParser(),\r\n\t\t\t\t\t// ...\r\n\t\t\t\t]\r\n\t\t\t}),\r\n\t\t\t\r\n\t\t\t// Atma-Server static content middleware\r\n\t\t\trequire('static-content').respond\r\n\t\t]);\r\n\t});\r\n```\r\n\r\n----\r\nThe MIT License","created":"2014-06-05T02:20:26.991Z","modified":"2016-03-02T08:36:28.346Z","lastPublisher":{"name":"tenbits","email":"alex.kit@atmajs.com"},"owners":[{"name":"tenbits","email":"alex.kit@atmajs.com"}],"other":{"_attachments":{},"_from":".","_id":"static-content","_nodeVersion":"5.7.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/static-content-1.1.25.tgz_1456907785971_0.13801485509611666"},"_npmUser":{"name":"tenbits","email":"alex.kit@atmajs.com"},"_npmVersion":"3.6.0","_rev":"1-beae84132082b6ff5ec23040250e90a2","_shasum":"7e2e25fbfeb88ad573c27650208474962f5fd637","author":{"name":"Alexander Kit","url":"alex.kit@atmajs.com"},"bugs":{"url":"https://github.com/atmajs/atma-server-static/issues"},"directories":{},"dist-tags":{"latest":"1.1.25"},"dist":{"shasum":"7e2e25fbfeb88ad573c27650208474962f5fd637","tarball":"http://registry.npmjs.org/static-content/-/static-content-1.1.25.tgz"},"maintainers":[{"name":"tenbits","email":"alex.kit@atmajs.com"}],"readmeFilename":"readme.md","time":{"modified":"2016-03-02T08:36:28.346Z","created":"2014-06-05T02:20:26.991Z","1.0.2":"2014-06-05T02:20:26.991Z","1.0.3":"2014-06-05T02:43:30.652Z","1.0.4":"2014-06-05T02:59:50.748Z","1.0.6":"2014-06-05T04:27:07.760Z","1.0.7":"2014-06-05T16:59:39.716Z","1.0.9":"2014-06-06T16:19:39.966Z","1.0.10":"2014-06-07T15:12:07.284Z","1.0.11":"2014-06-07T15:46:54.472Z","1.0.12":"2014-06-12T21:08:15.053Z","1.0.13":"2014-06-25T19:57:26.080Z","1.0.14":"2014-06-26T23:09:47.534Z","1.0.15":"2014-06-27T11:15:16.047Z","1.0.16":"2014-06-28T22:53:07.710Z","1.0.17":"2014-08-05T23:59:20.101Z","1.0.18":"2014-08-06T01:09:06.920Z","1.0.19":"2014-08-08T03:00:40.640Z","1.0.20":"2014-08-09T21:32:52.859Z","1.0.21":"2014-08-09T21:33:44.049Z","1.0.22":"2015-05-03T19:50:19.062Z","1.1.23":"2015-07-05T13:05:52.642Z","1.1.24":"2016-02-22T12:12:22.872Z","1.1.25":"2016-03-02T08:36:28.346Z"}}}