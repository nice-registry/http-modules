{"name":"api-service","version":"1.0.8","description":"Simple http service wrapper for client-side JavaScript or Node.js","main":"lib/Service.js","scripts":{"test":"mocha test"},"license":"MIT","dependencies":{"api-resource":"1.0.12","eventemitter2":"^0.4.x"},"repository":"https://github.com/KanoComputing/js-api-service","devDependencies":{"async":"^0.9.0","mocha":"^1.20.x","should":"^4.0.x"},"gitHead":"389e2cedfdf5c7f80eb9bd01b4854e3ce08acdb8","homepage":"https://github.com/KanoComputing/js-api-service#readme","versions":[{"number":"0.0.0","date":"2014-06-20T16:45:02.256Z"},{"number":"0.0.1","date":"2014-06-20T16:48:24.418Z"},{"number":"0.0.2","date":"2014-06-23T10:09:03.364Z"},{"number":"0.0.3","date":"2014-06-23T10:11:24.270Z"},{"number":"0.0.4","date":"2014-06-23T10:25:57.263Z"},{"number":"0.0.5","date":"2014-06-23T10:32:34.493Z"},{"number":"0.0.6","date":"2014-06-23T10:34:27.438Z"},{"number":"0.0.8","date":"2014-06-24T14:52:38.104Z"},{"number":"0.0.9","date":"2014-06-24T14:58:02.608Z"},{"number":"1.0.0","date":"2014-07-01T14:19:48.124Z"},{"number":"1.0.1","date":"2015-08-28T14:11:06.870Z"},{"number":"1.0.2","date":"2015-09-25T13:20:32.131Z"},{"number":"1.0.3","date":"2015-10-01T13:55:34.759Z"},{"number":"1.0.4","date":"2015-10-01T14:00:46.420Z"},{"number":"1.0.5","date":"2015-10-01T14:08:27.118Z"},{"number":"1.0.6","date":"2015-10-15T13:50:07.007Z"},{"number":"1.0.7","date":"2015-12-18T11:03:30.400Z"},{"number":"1.0.8","date":"2016-09-06T15:59:42.687Z"}],"readme":"## API Service\n\n> Simple http service / api wrapper for client-side JavaScript or Node.js. This class helps you creating collections of [api-resources](https://github.com/KanoComputing/js-api-resource) with an intuitive and simple api.\n\n## Setup\n\n`npm install api-service`\n\n## Simple usage\n\n```javascript\nvar Service = require('api-service');\n\nvar myApiWrapper = new Service('http://localhost/api')\n\n    // Add users endpoints\n    .add('users.list', { method: 'get', route: '/users' })\n    .add('users.signup', { method: 'post', route: '/users/signup' })\n    .add('users.get.byId', { method: 'get', route: '/users/:id' })\n    .add('users.get.byUsername', { method: 'get', route: '/users/username/:username' })\n\n    // Add posts endpoints\n    .add('posts.save', { method: 'post', route: '/posts' })\n    .add('posts.list', { method: 'get', route: '/posts' })\n    .add('posts.get.byId', { method: 'get', route: '/posts/:id' })\n    .add('posts.delete', { method: 'delete', route: '/posts/:id' })\n\n    // Add a middleware function that sets authorization header to request\n    .use(function (req, next) {\n        if (token) {\n            req.setRequestHeader('Authorization', token);\n        }\n\n        next();\n    });\n\n// GET /users\nmyApiWrapper.users.list()\n.then(function (res) {\n    var users = res.body;\n}, function (res) {\n   var error = res.body;\n});\n\n// GET /users?q=foo\nmyApiWrapper.users.list({}, { q: 'foo' })\n.then(function (res) {\n    var users = res.body;\n});\n\n\n// POST /posts with payload\nmyApiWrapper.posts.save({ title: 'Foo bar', text: 'Some text...' })\n.then(function (res) {\n    var success = res.body.success;\n}, function (res) {\n   var error = res.body;\n});\n\n// DELETE /posts/some_id\nmyApiWrapper.posts.save({ id: 'some_id' })\n.then(function (res) {\n    var success = res.body.success;\n}, function (res) {\n   var error = res.body;\n});\n```\n\n## Service\n\n**This class is used to group and organise instances of the [api-resource](https://github.com/KanoComputing/js-api-resource) class.**\nService instances are also event-emitters and they will propagate all events sent by any of their `Resource` children.\n\n### Constructor\n\n* `baseUrl` (*String*) Service base URL (E.g. `'http://www.my-api.com'`) - without `/` at the end\n\n#### Events\n\nThe events propagated by this class are documented in the [Resource](https://github.com/KanoComputing/js-api-resource) readme.\n\n#### Methods\n\n* `.add(namespace, [ options ])` Add an endpoint to the service. This will be an instance of [Resource](https://github.com/KanoComputing/js-api-resource) pass the options to its constructor\n* `.use(middleware)` Add a middleware function to the resource. The function will be called on the `Resource` instance and receive as arguments the `XMLHttpRequest` request instance and the `next` function to proceed.\n\n## Test\n\nTests are currently written on server-side only. Run `npm install` and `npm test` to test.\n\n## Contribution\n\nContributions are welcome as long as documented and tested.\n\n## License\n\nCopyright (c) 2014 Kano Computing Ltd. - Released under the [MIT license](https://github.com/KanoComputing/js-api-service/blob/master/LICENSE)","created":"2014-06-20T16:45:02.256Z","modified":"2016-09-06T15:59:42.687Z","lastPublisher":{"name":"tancredi","email":"tancredi.trugenberger@gmail.com"},"owners":[{"name":"tancredi","email":"tancredi.trugenberger@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"api-service","_nodeVersion":"6.4.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/api-service-1.0.8.tgz_1473177581865_0.4757764732930809"},"_npmUser":{"name":"tancredi","email":"tancredi.trugenberger@gmail.com"},"_npmVersion":"3.10.3","_rev":"1-db63bb147a3579a6ff8e4a68e638c39f","_shasum":"f32bba33ed7f963c8707059f9cf9d9aa63fe60b5","author":{"name":"Tancredi Trugenberger"},"bugs":{"url":"https://github.com/KanoComputing/js-api-service/issues"},"directories":{},"dist-tags":{"latest":"1.0.8"},"dist":{"shasum":"f32bba33ed7f963c8707059f9cf9d9aa63fe60b5","tarball":"http://registry.npmjs.org/api-service/-/api-service-1.0.8.tgz"},"maintainers":[{"name":"tancredi","email":"tancredi.trugenberger@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-09-06T15:59:42.687Z","created":"2014-06-20T16:45:02.256Z","0.0.0":"2014-06-20T16:45:02.256Z","0.0.1":"2014-06-20T16:48:24.418Z","0.0.2":"2014-06-23T10:09:03.364Z","0.0.3":"2014-06-23T10:11:24.270Z","0.0.4":"2014-06-23T10:25:57.263Z","0.0.5":"2014-06-23T10:32:34.493Z","0.0.6":"2014-06-23T10:34:27.438Z","0.0.8":"2014-06-24T14:52:38.104Z","0.0.9":"2014-06-24T14:58:02.608Z","1.0.0":"2014-07-01T14:19:48.124Z","1.0.1":"2015-08-28T14:11:06.870Z","1.0.2":"2015-09-25T13:20:32.131Z","1.0.3":"2015-10-01T13:55:34.759Z","1.0.4":"2015-10-01T14:00:46.420Z","1.0.5":"2015-10-01T14:08:27.118Z","1.0.6":"2015-10-15T13:50:07.007Z","1.0.7":"2015-12-18T11:03:30.400Z","1.0.8":"2016-09-06T15:59:42.687Z"}}}