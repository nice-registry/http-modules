{"name":"jsonproxy","version":"1.0.1","main":"lib/index.js","description":"takes an http stream of json objects and retransmits them one by one to another destination","homepage":"https://github.com/ironSource/json-proxy","scripts":{"test":"grunt"},"bin":{"jsonproxy":"proxy-server.js"},"repository":"https://github.com/ironSource/json-proxy","licenses":[{"type":"MIT"}],"devDependencies":{"grunt":"~0.4.2","grunt-cli":"~0.1.11","grunt-contrib-jshint":"~0.6.0","grunt-contrib-nodeunit":"~0.2.0","grunt-contrib-watch":"~0.5.0","grunt-mocha-test":"~0.7.0","jshint-stylish":"~0.1.3","load-grunt-tasks":"~0.2.0","should":"^5.2.0","stringstream":"0.0.4","time-grunt":"~0.1.1"},"dependencies":{"lodash":"^2.4.1","rc":"~0.3.2","stream-slicer":"0.0.6"},"engine":{"node":">=0.10"},"gitHead":"f8a9ac00793e23982b0ea86a6944d4e871cf8639","versions":[{"number":"1.0.1","date":"2015-04-10T18:24:43.905Z"}],"readme":"# json-proxy [![Build Status](https://secure.travis-ci.org/ironSource/json-proxy.png?branch=master)](http://travis-ci.org/ironSource/json-proxy)\n\ntakes an http stream of json objects and resends them one by one to one or more destinations\n\n## Install\n```\nnpm install -g jsonproxy\njsonproxy --port=8080 --targets.\"http://localhost:7171\"=10 --targets.\"http://localhost:7272\"=10\n```\n\n## use programmatically\ninstall locally:\n```\nnpm install --save jsonproxy\n```\n\nexpose using an http server:\n```javascript\nvar http = require('http')\nvar jsonProxy = require('jsonproxy');\n\n// will clone the default config\nvar config = jsonProxy.config();\n\n// override just what we want\nconfig.targets['http://localhost:7171'] = 10;\nconfig.targets['http://localhost:7272'] = 10;\n\nvar proxyServer = new jsonProxy.Server(config)\n\nvar httpServer = http.createServer(function(request, response) {\n\n    proxyServer.accept(request, function(err) {\n        if (err) {\n            response.statusCode = 500\n        }\n\n        response.end();\n    });\n\n});\n\nhttpServer.listen(8282, function () {\n    console.log('proxy ready at http://localhost:%s', 8282)\n});\n\n```\n## Config\ncreate a file called .json-proxyrc in any of the locations specified here: [RC module](https://github.com/dominictarr/rc)\n```json\n{\n\t\"port\": 8181,\n\t\"targets\": {\n\t\t\"http://localhost/\": 10\n\t},\n\t\"backoffAlgorithm\": {\n\t\t\"maxRetries\": 10,\n\t\t\"timeSlot\": 1000\n\t}\n}\n```\nfile must pass json validation, such as [jsonlint.com](http://jsonlint.com/)\n\n### port\nthe port used by the proxy to listen to incoming requests\n\n### targets\nyou can specify one or more targets here in the form of \"url\": \"concurrency level\". The proxy will try its best to send requests based on the concurrency level specified for each url. If the maximum concurrency level is reached for all urls the proxy will transmit backpressure to the incoming stream (hopefully :) )\n\n### backoffAlgorithm\nIn the event that an outgoing json request fails the proxy will attempt retries using an [exponential backoff algorithm](http://en.wikipedia.org/wiki/Exponential_backoff). Use maxRetries and timeSlot to control the algorithm behaviour. timeSlot is the basic unit which is used to calculate delays between attempts, it is not the exact delay used.\n\n## Contributing\nTake care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code using [Grunt](http://gruntjs.com/). Run grunt watch while developing.\n\n## Release History\n5.1.2014 - initial release\n10.4.2015 - code refresh and publish to npm\n\n## License\nCopyright (c) 2014 ironSource. Licensed under the MIT license.\n","created":"2015-04-10T18:24:43.905Z","modified":"2015-04-10T18:24:43.905Z","lastPublisher":{"name":"yaniv","email":"yanivk@gmail.com"},"owners":[{"name":"yaniv","email":"yanivk@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"jsonproxy","_nodeVersion":"0.12.0","_npmUser":{"name":"yaniv","email":"yanivk@gmail.com"},"_npmVersion":"2.5.1","_rev":"1-872508e7299ddaecae67a840ee271ef5","_shasum":"f0b0d58c7b8186cd572008267ee43a54e4715db2","author":{"name":"Yaniv Kessler"},"bugs":{"url":"https://github.com/ironSource/json-proxy/issues"},"directories":{},"dist-tags":{"latest":"1.0.1"},"dist":{"shasum":"f0b0d58c7b8186cd572008267ee43a54e4715db2","tarball":"http://registry.npmjs.org/jsonproxy/-/jsonproxy-1.0.1.tgz"},"maintainers":[{"name":"yaniv","email":"yanivk@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-04-10T18:24:43.905Z","created":"2015-04-10T18:24:43.905Z","1.0.1":"2015-04-10T18:24:43.905Z"}}}