{"name":"etcd-registry-router","version":"2.0.0","description":"Route http requests to services registered in etcd-registry","repository":"https://github.com/mafintosh/etcd-registry-router","dependencies":{"pump":"~0.2.3","etcd-registry":"~2.0.0"},"gitHead":"6d9893e8656984bf1a2be8f8ce39eb2ce6eee15c","homepage":"https://github.com/mafintosh/etcd-registry-router","scripts":{},"versions":[{"number":"0.1.0","date":"2014-02-05T12:50:13.654Z"},{"number":"0.1.1","date":"2014-02-05T12:51:32.082Z"},{"number":"0.2.0","date":"2014-02-06T12:04:34.162Z"},{"number":"0.3.0","date":"2014-02-06T13:10:08.452Z"},{"number":"0.4.0","date":"2014-03-27T14:56:51.847Z"},{"number":"0.4.1","date":"2014-04-08T11:30:15.375Z"},{"number":"0.5.0","date":"2014-04-16T20:15:10.587Z"},{"number":"1.0.0","date":"2014-04-27T22:01:13.108Z"},{"number":"1.1.0","date":"2014-04-28T20:57:44.563Z"},{"number":"1.2.0","date":"2014-06-04T11:37:48.254Z"},{"number":"1.2.1","date":"2015-01-30T07:30:38.072Z"},{"number":"2.0.0","date":"2015-02-18T14:52:00.505Z"}],"readme":"# etcd-registry-router\n\nRoute http requests to services registered in [etcd-registry](https://github.com/mafintosh/etcd-registry)\n\n\tnpm install etcd-registry-router\n\n## Usage\n\netcd-registry-router is a http server that forwards requests (and websockets!) to services\nregistered in [etcd-registry](https://github.com/mafintosh/etcd-registry).\n\n``` js\nvar router = require('etcd-registry-router');\nvar server = router('127.0.0.1:4001', function(request, route) {\n\t// pass a service name or service object to route the http request\n\troute(request.headers.host);\n});\n\nserver.on('route', function(request, service) {\n\tconsole.log('Routing', request.url, 'to', service.name);\n});\n\nserver.listen(8080);\n```\n\nThe above snippet will start the router and route requests to services registered under `{host-header}`.\nTo create a service that accepts all requests routed to `example.com` do.\n\n``` js\nvar registry = require('etcd-registry');\nvar services = registry('127.0.0.1:4001');\n\nvar server = http.createServer(function(request, response) {\n\tresponse.end('hello from service')\n});\n\nserver.listen(0, function() { // listening on 0 will just give you a free port\n\tservices.join('example.com', {port:server.address().port});\n});\n```\n\nSee [example.js](https://github.com/mafintosh/etcd-registry-router/blob/master/example.js) for a working example.\n\n## License\n\nMIT\n","starsCount":1,"created":"2014-02-05T12:50:13.654Z","modified":"2015-02-18T14:52:00.505Z","lastPublisher":{"name":"mafintosh","email":"mathiasbuus@gmail.com"},"owners":[{"name":"mafintosh","email":"mathiasbuus@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"etcd-registry-router","_nodeVersion":"1.2.0","_npmUser":{"name":"mafintosh","email":"mathiasbuus@gmail.com"},"_npmVersion":"2.5.1","_rev":"1-22fb6f8a2aa1b4a9746f73506dcf9921","_shasum":"cab3ace2bc7401ce5d6da69b482db945b1db121a","bugs":{"url":"https://github.com/mafintosh/etcd-registry-router/issues"},"directories":{},"dist-tags":{"latest":"2.0.0"},"dist":{"shasum":"cab3ace2bc7401ce5d6da69b482db945b1db121a","tarball":"http://registry.npmjs.org/etcd-registry-router/-/etcd-registry-router-2.0.0.tgz"},"maintainers":[{"name":"mafintosh","email":"mathiasbuus@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-02-18T14:52:00.505Z","created":"2014-02-05T12:50:13.654Z","0.1.0":"2014-02-05T12:50:13.654Z","0.1.1":"2014-02-05T12:51:32.082Z","0.2.0":"2014-02-06T12:04:34.162Z","0.3.0":"2014-02-06T13:10:08.452Z","0.4.0":"2014-03-27T14:56:51.847Z","0.4.1":"2014-04-08T11:30:15.375Z","0.5.0":"2014-04-16T20:15:10.587Z","1.0.0":"2014-04-27T22:01:13.108Z","1.1.0":"2014-04-28T20:57:44.563Z","1.2.0":"2014-06-04T11:37:48.254Z","1.2.1":"2015-01-30T07:30:38.072Z","2.0.0":"2015-02-18T14:52:00.505Z"},"users":{"arikon":true}}}