{"name":"html-charset","version":"0.0.13","description":"A TransformStream that detects charset from http client response and content, and converts HTML to utf-8. Besides, replaces charaset strings in a <meta> tag to 'UTF-8'.","main":"index.js","dependencies":{"charset":"^1.0.0","iconv-lite":"^0.4.13","trumpet":"^1.7.2"},"devDependencies":{},"scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/IceSofticon30th/html-charset","keywords":["html","charset","stream","streaming","convert","utf-8","utf8"],"license":"MIT","homepage":"https://github.com/IceSofticon30th/html-charset#readme","gitHead":"9ed34fefe504e251feff44e6b3be8574d5cda028","versions":[{"number":"0.0.1","date":"2016-03-31T01:41:36.722Z"},{"number":"0.0.2","date":"2016-03-31T04:57:16.278Z"},{"number":"0.0.3","date":"2016-03-31T04:59:32.914Z"},{"number":"0.0.4","date":"2016-03-31T05:20:12.475Z"},{"number":"0.0.5","date":"2016-03-31T06:59:52.591Z"},{"number":"0.0.6","date":"2016-03-31T07:26:55.774Z"},{"number":"0.0.7","date":"2016-03-31T08:07:02.495Z"},{"number":"0.0.8","date":"2016-04-02T05:37:12.911Z"},{"number":"0.0.9","date":"2016-04-03T15:13:47.612Z"},{"number":"0.0.10","date":"2016-04-03T15:15:49.387Z"},{"number":"0.0.11","date":"2016-04-03T15:37:00.367Z"},{"number":"0.0.12","date":"2016-06-23T14:11:34.111Z"},{"number":"0.0.13","date":"2016-08-23T14:08:54.588Z"}],"readme":"# html-charset\nA TransformStream that detects charset from http client response and content, and converts HTML to utf-8. Besides, replaces charaset strings in a `<meta>` tag to \"UTF-8\".\n\n# Usage\n```js\nvar HTMLCharset = require('html-charset');\nvar converter = HTMLCharset(res.headers, 1024);\n```\n### HTMLCharset(responseHeader[, bufferSize])\n* responseHeader {Object | String} Client response. this will be passed to `charset` module.\n* bufferSize {number} The maximum size of buffer for detecting charset (Default: 512).  \n\nReturns a new TransformStream that detects charset from http client response and chunked html content, finally converts html content to UTF-8 strings Buffers. First, it stores html contents Buffers as big as bufferSize (default: 512 bytes) and detects charset strings. Then, it converts html contents to UTF-8 strings Buffers. At this time, the charset strings in a `meta` tag is replaced to \"UTF-8\" (e.g. `<meta http-equiv=\"Content-Type\" content=\"text/html; charset=EUC_JP\">` will be replaced to `<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">`). Finally, you can get UTF-8 html strings Buffers. If the charset couldn't be detected, this stream passes html contents with no modification.\n\n# Example\n```js\nvar request = require('request');\nvar HTMLCharset = require('html-charset');\nvar http = require('http');\n\nhttp.createServer(function (cliReq, srvRes) {\n    var req = request({\n        uri: 'http://koubou.nin29.com/heya/image/2007/test_euc.html',\n        gzip: true\n    });\n    \n    srvRes.setHeader('Content-Type', 'text/html; charset=UTF-8');\n    req.on('response', function (res) {\n        var converter = HTMLCharset(res.headers);\n        req.pipe(converter).pipe(srvRes);\n    });\n     \n}).listen(8080);\n```\n`req` writes html contents to `converter`. `converter` receives string/Buffer contents,  detects charset, converts contents to UTF-8 Buffer, replaces charset strings in a `<meta>` tag to `\"UTF-8\"`, and writes UTF-8 Buffer contents to `srvRes`. `srvRes` receives UTF-8 Buffer contents and sends them to browser.","created":"2016-03-31T01:41:36.722Z","modified":"2016-08-23T14:08:54.588Z","lastPublisher":{"name":"ino","email":"ice.softicon30th@gmail.com"},"owners":[{"name":"ino","email":"ino@ysfh.sexy"}],"other":{"_attachments":{},"_from":".","_id":"html-charset","_nodeVersion":"5.3.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/html-charset-0.0.13.tgz_1471961330774_0.38368006120435894"},"_npmUser":{"name":"ino","email":"ice.softicon30th@gmail.com"},"_npmVersion":"3.3.12","_rev":"1-1cc275e77152b952e1ccc600a93b5952","_shasum":"6b4f2df7145f8ac26e3961c973a4b49a6123099f","author":{"name":"Yuto Ino"},"bugs":{"url":"https://github.com/IceSofticon30th/html-charset/issues"},"directories":{},"dist-tags":{"latest":"0.0.13"},"dist":{"shasum":"6b4f2df7145f8ac26e3961c973a4b49a6123099f","tarball":"http://registry.npmjs.org/html-charset/-/html-charset-0.0.13.tgz"},"maintainers":[{"name":"ino","email":"ino@ysfh.sexy"}],"readmeFilename":"README.md","time":{"modified":"2016-08-23T14:08:54.588Z","created":"2016-03-31T01:41:36.722Z","0.0.1":"2016-03-31T01:41:36.722Z","0.0.2":"2016-03-31T04:57:16.278Z","0.0.3":"2016-03-31T04:59:32.914Z","0.0.4":"2016-03-31T05:20:12.475Z","0.0.5":"2016-03-31T06:59:52.591Z","0.0.6":"2016-03-31T07:26:55.774Z","0.0.7":"2016-03-31T08:07:02.495Z","0.0.8":"2016-04-02T05:37:12.911Z","0.0.9":"2016-04-03T15:13:47.612Z","0.0.10":"2016-04-03T15:15:49.387Z","0.0.11":"2016-04-03T15:37:00.367Z","0.0.12":"2016-06-23T14:11:34.111Z","0.0.13":"2016-08-23T14:08:54.588Z"}}}