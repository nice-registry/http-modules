{"name":"httplease-cache","version":"0.0.2","description":"An implementation of HTTP caching as an httplease filter","main":"index.js","scripts":{"test":"npm run test:lint && npm run test:coverage && npm run test:check-coverage","test:lint":"eslint lib test","test:jasmine":"jasmine JASMINE_CONFIG_PATH=jasmine.json","test:coverage":"istanbul --config=istanbul.json cover jasmine JASMINE_CONFIG_PATH=jasmine.json","test:check-coverage":"istanbul --config=istanbul.json check-coverage","prepublish":"npm test"},"repository":{"type":"git","url":"git+https://bitbucket.org/atlassianlabs/httplease-cache.git"},"keywords":["httplease","http","client","request","cache","caching"],"license":"Apache-2.0","files":["index.js","lib"],"devDependencies":{"eslint":"^3.3.0","httplease":"^0.5.0","istanbul":"^0.4.3","jasmine":"^2.4.0","jasmine-core":"^2.4.0","jasmine-promise-tools":"^1.0.0","jasmine-http-server-spy":"^0.3.0"},"dependencies":{"node-cache":"^3.2.1","q":"^1.4.1"},"gitHead":"75493e8b94a7fd64ffe22a0096ffe0967c0a98f6","homepage":"https://bitbucket.org/atlassianlabs/httplease-cache#readme","versions":[{"number":"0.0.1","date":"2016-08-17T13:18:15.019Z"},{"number":"0.0.2-beta1","date":"2017-03-14T08:31:45.339Z"},{"number":"0.0.2","date":"2017-04-07T05:58:40.355Z"}],"readme":"![build-status](https://bitbucket-badges.atlassian.io/badge/atlassianlabs/httplease-cache.svg)\n\n# httplease-cache\n\nThis is an implementation of HTTP caching as an [httplease](https://bitbucket.org/atlassianlabs/httplease) filter.\n\nSupports:\n\n* Cache-Control directives: no-cache and max-age\n* Expires header\n* Age header\n* Custom cache keys\n* Custom caches, must conform to the node-cache interface\n* Cache metrics (using node-cache)\n\n\n# Usage guide\n\nInstall the library:\n\n```\nnpm install --save httplease-cache\n```\n\nFor more examples have a look at the `test/integration` directory.\n\n\n## Simple configuration\n\n```\nconst httplease = require('httplease');\nconst createCacheFilter = require('httplease-cache').createCacheFilter;\n\n// this can be saved and reused as many times as you want\nconst httpClient = httplease.builder()\n    .withBaseUrl('http://example.com/basePath')\n    .withFilter(createCacheFilter());\n\n// make requests\nhttpClient\n    .withPath('/resource)\n    .withMethodGet()\n    .send();\n```\n\n\n## Configuration options\n\n### generateCacheKey\n\nYou may specify a custom function for generating cache keys. This allows you to include or exclude parts of the request in the cache lookup key.\n\nThe default function includes the URL, request body, method, query params and headers.\n\n```\nconst opts = {\n    generateCacheKey: (requestConfig) => {\n        return requestConfig.baseUrl;\n    }\n};\n\ncreateCacheFilter(opts);\n```\n\n### theCache\n\nYou may specify a custom cache object. It should either be an instance of [node-cache](https://www.npmjs.com/package/node-cache) or implement the same async interface. That is:\n\n```\nconst opts = {\n    theCache: {\n        get: function(cacheKey, callback) {\n            callback(this[cacheKey]);\n        },\n        set: function(cacheKey, response, ttl, callback) {\n            this[cacheKey] = response;\n            // must pay attention to ttl as well!\n            callback();\n        }\n    }\n};\n\ncreateCacheFilter(opts);\n```\n\n\n# Development guide\n\n## Install dependencies\n\n```\nnpm install\n```\n\n\n## Useful commands\n\n```\n# Run all checks\nnpm test\n\n# Run just the jasmine tests\nnpm run test:jasmine\n\n# Run just the linter\nnpm run test:lint\n```\n\n\n## Perform a release\n\n```\nnpm version 99.98.97\nnpm publish\ngit push\ngit push --tags\n```\n\n## Contributors\n\nPull requests, issues and comments welcome. For pull requests:\n\n* Add tests for new features and bug fixes\n* Follow the existing style\n* Separate unrelated changes into multiple pull requests\n\nSee the existing issues for things to start contributing.\n\nFor bigger changes, make sure you start a discussion first by creating an issue and explaining the intended change.\n\nAtlassian requires contributors to sign a Contributor License Agreement, known as a CLA. This serves as a record stating that the contributor is entitled to contribute the code/documentation/translation to the project and is willing to have it used in distributions and derivative works (or is willing to transfer ownership).\n\n* [CLA for corporate contributors](https://na2.docusign.net/Member/PowerFormSigning.aspx?PowerFormId=e1c17c66-ca4d-4aab-a953-2c231af4a20b)\n* [CLA for individuals](https://na2.docusign.net/Member/PowerFormSigning.aspx?PowerFormId=3f94fbdc-2fbe-46ac-b14c-5d152700ae5d)\n\n\n# License\n\nCopyright (c) 2016 Atlassian and others.\nApache 2.0 licensed, see [LICENSE](LICENSE) file.\n","created":"2016-08-17T13:18:15.019Z","modified":"2017-04-07T05:58:40.355Z","lastPublisher":{"name":"jbunton-atlassian","email":"jbunton@atlassian.com"},"owners":[{"name":"dlaha","email":"dipanjan21@gmail.com"},{"name":"jbunton-atlassian","email":"jbunton@atlassian.com"},{"name":"srijs","email":"srijs@airpost.net"}],"other":{"_attachments":{},"_from":".","_id":"httplease-cache","_nodeVersion":"7.7.3","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/httplease-cache-0.0.2.tgz_1491544718524_0.7187923931051046"},"_npmUser":{"name":"jbunton-atlassian","email":"jbunton@atlassian.com"},"_npmVersion":"4.4.4","_rev":"3-cef726c9fcbc249fe0c37c15b7ddaaa4","_shasum":"bbcd89c79990a293695d514cabe3016af73d25fe","contributors":[{"name":"James Bunton","email":"jbunton@atlassian.com"}],"directories":{},"dist-tags":{"latest":"0.0.2","prerelease":"0.0.2-beta1"},"dist":{"shasum":"bbcd89c79990a293695d514cabe3016af73d25fe","tarball":"https://registry.npmjs.org/httplease-cache/-/httplease-cache-0.0.2.tgz"},"maintainers":[{"name":"dlaha","email":"dipanjan21@gmail.com"},{"name":"jbunton-atlassian","email":"jbunton@atlassian.com"},{"name":"srijs","email":"srijs@airpost.net"}],"readmeFilename":"README.md","time":{"modified":"2017-04-07T05:58:40.355Z","created":"2016-08-17T13:18:15.019Z","0.0.1":"2016-08-17T13:18:15.019Z","0.0.2-beta1":"2017-03-14T08:31:45.339Z","0.0.2":"2017-04-07T05:58:40.355Z"}}}