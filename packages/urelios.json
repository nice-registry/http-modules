{"name":"urelios","version":"1.0.8","description":"URL helper for making HTTP requests","main":"dist/index.js","scripts":{"build":"babel src -d dist","prepublish":"npm run build","test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/raniesantos/urelios","keywords":["xhr","http","ajax","url","request"],"license":"MIT","homepage":"https://github.com/raniesantos/urelios#readme","devDependencies":{"babel-cli":"^6.24.0","babel-preset-es2015":"^6.24.0"},"gitHead":"08a3457fb2008aea666b67868b833a01266fe99b","readme":"# urelios\n\nURL helper for making HTTP requests.\n\n- Easily append tokens as URL parameters for API requests.\n- Saves you from constantly writing full URLs when working with cross-origin requests.\n- Saves you the trouble of correcting URLs if your app served from a subdirectory. (e.g. writing `'/subdir/api/endpoint'` instead of just `'/api/endpoint'`)\n\n___\n## Install\n\nYou can install the package via yarn:\n\n```bash\n$ yarn add urelios\n```\n\nOr via npm:\n\n```bash\n$ npm install urelios\n```\n\n___\n## Usage\n\n### Basic\n\n```js\nimport Urelios from 'urelios';\n\n// instantiate URL object with string\nconst appUrl = new Urelios('http://localhost/laravel/appname/public');\n\n// instantiate URL object with key-value pair\nconst appUrl = new Urelios({\n    baseUrl: 'http://localhost/laravel/appname/public'\n});\n```\n\n### Options\n\n```js\nconst appUrl = new Urelios({\n    baseUrl: '',\n    apiPath: '/api',\n    tokenName: 'token'\n});\n```\n\nOption        | Default Value | Description\n:-----------: | :-----------: | -----------\n**baseUrl**   | *''*          | The base URL of your app. If your app's frontend and backend are decoupled, specify the base URL of your backend.\n**apiPath**   | *'/api'*      | The path that contains all of your API endpoints.\n**tokenName** | *'token'*     | The key of a specific localStorage item you want to retrieve when using the `withToken()` method.\n\n### Methods\n\n- `api()`\n- `withToken()`\n- `setBaseFromMeta()`\n- `getSubPath()`\n\n#### api()\n\nAppends the API path and a specific endpoint to the base URL.\n\n```js\nappUrl.api('/all-statuses');\n// returns 'http://localhost/laravel/appname/public/api/all-statuses'\n```\n\n#### withToken()\n\nAppends the **token** item from localStorage as a URL parameter. Ideal for working with JSON Web Tokens. Must be used in conjunction with `api()` method.\n\n```js\nlocalStorage.setItem('token', 'xxx');\n\nappUrl.api('/post-status').withToken();\n// returns 'http://localhost/laravel/appname/public/api/post-status?token=xxx'\n```\n\n#### setBaseFromMeta()\n\nDynamically sets the `baseUrl` option using the `content` attribute of a specified meta tag. This is ideal if you are using a backend framework that has functions to output URLs in HTML templates. The code below uses **Laravel** as an example.\n\n```html\n<!-- url('/') in Laravel outputs the full URL to the root path -->\n<meta name=\"app-url\" content=\"{{ url('/') }}\">\n\n<!-- when the template is compiled, you get something like this -->\n<meta name=\"app-url\" content=\"http://localhost/laravel/appname/public\">\n```\n\n```js\n// notice that we didn't pass the base URL on instantiation\nconst appUrl = new Urelios();\n\n// pass the meta tag 'name' attribute to setBaseFromMeta()\nappUrl.setBaseFromMeta('app-url');\n```\n\n#### getSubPath() \n\nReturns the path to the subdirectory your app is being served from if it is not at your web root.\n\n```js\nconst appUrl = new Urelios('http://localhost/laravel/appname/public');\nappUrl.getSubPath();\n// returns '/laravel/appname/public'\n\nconst appUrl = new Urelios('http://localhost');\nappUrl.getSubPath();\n// returns '/'\n```\n\n### Special use-case with Laravel and Vue router\n\nThis assumes that your frontend and backend live in the same folder. The benefit of the setup below is that no matter where you move your project folder, all of your API requests and your Vue router config will change dynamically. The output of Laravel's `url()` helper passes the base URL to Urelios through a meta tag, Urelios then uses this to generate all URLs for various requests, and also provides the correct path to Vue router's `base` option.\n\n```html\n<!-- in the main html (blade) template -->\n<meta name=\"app-url\" content=\"{{ url('/') }}\">\n```\n\n```js\n// in a js file where you initialize things\nconst appUrl = new Urelios();\nappUrl.setBaseFromMeta('app-url');\n```\n\n```js\n// one of many API requests in various pages\naxios.post(appUrl.api('/user/signup'))\n    .then(response => {})\n    .catch(error => {});\n```\n\n```js\n// in the js file where you define vue router\nlet router = new VueRouter({\n    mode: 'history',\n    base: appUrl.getSubPath(),\n    routes\n});\n```\n\n___\n## Changelog\n\nPlease see [CHANGELOG](CHANGELOG.md) for more information what has changed recently.\n\n___\n## License\n\nThe MIT License (MIT). Please see [License File](LICENSE.md) for more information.\n","versions":[{"number":"1.0.0","date":"2017-04-03T19:26:31.839Z"},{"number":"1.0.1","date":"2017-04-04T04:26:37.613Z"},{"number":"1.0.2","date":"2017-04-04T18:38:43.944Z"},{"number":"1.0.3","date":"2017-04-04T19:03:46.058Z"},{"number":"1.0.4","date":"2017-04-04T19:58:16.692Z"},{"number":"1.0.5","date":"2017-04-04T20:04:55.427Z"},{"number":"1.0.6","date":"2017-04-07T16:46:36.911Z"},{"number":"1.0.7","date":"2017-04-07T17:11:22.142Z"},{"number":"1.0.8","date":"2017-04-08T16:15:00.971Z"}],"created":"2017-04-03T19:26:31.839Z","modified":"2017-04-08T16:15:00.971Z","lastPublisher":{"name":"raniesantos","email":"ranietots32@gmail.com"},"owners":[{"name":"raniesantos","email":"ranietots32@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"urelios","_nodeVersion":"7.7.3","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/urelios-1.0.8.tgz_1491668100689_0.6862678912002593"},"_npmUser":{"name":"raniesantos","email":"ranietots32@gmail.com"},"_npmVersion":"4.1.2","_rev":"10-f20715941bf67837edcaf2ffe255326a","_shasum":"80cb5c6b2c4aa1b97487338151f2bc5d1a5c8a72","author":{"name":"Ranie Santos"},"bugs":{"url":"https://github.com/raniesantos/urelios/issues"},"directories":{},"dist-tags":{"latest":"1.0.8"},"dist":{"shasum":"80cb5c6b2c4aa1b97487338151f2bc5d1a5c8a72","tarball":"https://registry.npmjs.org/urelios/-/urelios-1.0.8.tgz"},"maintainers":[{"name":"raniesantos","email":"ranietots32@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-04-08T16:15:00.971Z","created":"2017-04-03T19:26:31.839Z","1.0.0":"2017-04-03T19:26:31.839Z","1.0.1":"2017-04-04T04:26:37.613Z","1.0.2":"2017-04-04T18:38:43.944Z","1.0.3":"2017-04-04T19:03:46.058Z","1.0.4":"2017-04-04T19:58:16.692Z","1.0.5":"2017-04-04T20:04:55.427Z","1.0.6":"2017-04-07T16:46:36.911Z","1.0.7":"2017-04-07T17:11:22.142Z","1.0.8":"2017-04-08T16:15:00.971Z"}}}