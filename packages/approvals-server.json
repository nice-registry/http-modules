{"name":"approvals-server","version":"0.2.0","description":"HTTP server for running approvals from the browser","keywords":["approvaltests","approvals","tests","server"],"homepage":"http://approvaltests.com","repository":"https://github.com/kristofferahl/approvals-server","license":"Apache","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"dependencies":{"approvals":"^1.3.x","bl":"^0.9.4"},"gitHead":"5a9e50b619b45d759afe1e86c1b70bf6e03910ac","versions":[{"number":"0.1.0","date":"2015-02-20T15:50:45.351Z"},{"number":"0.1.1","date":"2015-02-20T16:02:14.829Z"},{"number":"0.1.2","date":"2015-04-23T12:38:15.697Z"},{"number":"0.2.0","date":"2016-10-17T15:00:27.330Z"}],"readme":"# approvals-server [![NPM version](https://badge.fury.io/js/approvals-server.png)](http://badge.fury.io/js/approvals-server)\nA simple node HTTP server for running approval tests from the browser.\n\n## Install\n\nIf you use npm, then install the package via npm.\n\n    npm install approvals-server\n\nIf you're not using npm, simply copy the file `index.js` to a directory of your choice.\n\n## Server setup\n\n\tvar approvalsServer = require('approvals-server')();\n\n### Configuring the server\n\n\tvar approvalsServer = require('approvals-server')({\n\t\tapprovals: {},\t\t// See https://github.com/approvals/Approvals.NodeJS#config-override for all config options\n\t\tport: 1338,\t\t\t// Default port\n\t\tpath: './'\t\t\t// Default path\n\t});\n\nIf you need to you can manipulate the filenames by overriding the testNamer function like this:\n\n\tvar config = {\n\t\ttestNamer: function (name) {\n\t\t\treturn name.replace(/\\W+/g, '-');\n\t\t}\n\t}\n\n## Verify\n\nTo verify, do a POST to \"http://localhost:1339/verify\".\n\nParameters:\n\n\t{\n\t  \"testName\": \"The name of the test\",\n\t  \"data\": \"String to compare\"\n\t}\n\n### From the browser\n\nThe simplest thing possible is to do something like this.\n\n\tfunction verify(test, data) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('post', 'http://localhost:1339/verify', false);\n\t\txhr.send(stringify({ testName: test, data: data }));\n\t\treturn xhr.status === 200;\n\t}\n\n\tvar data = {\n\t\t\"Name\": \"Kristoffer\",\n\t\t\"Age\": \"Unknown\"\n\t};\n\n\tverify('MyTest', JSON.stringify(data, null, 2));\n\n### Using curl\n\n\tcurl -H \"Content-Type: application/json\" -d '{ \"testName\": \"Footest\", \"data\": \"Bar\" }' http://localhost:1338/verify\n\n### More about Approvaltests\n\nhttp://approvaltests.com\n","created":"2015-02-20T15:50:45.351Z","modified":"2016-10-17T15:00:27.330Z","lastPublisher":{"name":"kristofferahl","email":"mail@77dynamite.com"},"owners":[{"name":"kristofferahl","email":"mail@77dynamite.com"}],"other":{"_attachments":{},"_from":".","_id":"approvals-server","_nodeVersion":"4.4.6","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/approvals-server-0.2.0.tgz_1476716425464_0.8272341229021549"},"_npmUser":{"name":"kristofferahl","email":"mail@77dynamite.com"},"_npmVersion":"2.15.5","_rev":"1-97cadee233d71030febe7daecf42cb32","_shasum":"76b1e535e06bcc54c34973c7a0c750881279a16b","author":{"name":"Kristoffer Ahl","email":"mail@77dynamite.com"},"bugs":{"url":"https://github.com/kristofferahl/approvals-server/issues"},"directories":{},"dist-tags":{"latest":"0.2.0"},"dist":{"shasum":"76b1e535e06bcc54c34973c7a0c750881279a16b","tarball":"http://registry.npmjs.org/approvals-server/-/approvals-server-0.2.0.tgz"},"maintainers":[{"name":"kristofferahl","email":"mail@77dynamite.com"}],"readmeFilename":"README.md","time":{"modified":"2016-10-17T15:00:27.330Z","created":"2015-02-20T15:50:45.351Z","0.1.0":"2015-02-20T15:50:45.351Z","0.1.1":"2015-02-20T16:02:14.829Z","0.1.2":"2015-04-23T12:38:15.697Z","0.2.0":"2016-10-17T15:00:27.330Z"}}}