{"name":"fetch-dog","version":"0.1.3","description":"http 请求库","main":"./dist/fetch-dog.js","scripts":{"build":"rollup -c build/rollup.config.js","release":"bash build/release.sh"},"repository":"https://github.com/fzred/fetch-dog","keywords":["ajax","fetch"],"license":"MIT","devDependencies":{"rollup":"^0.36.3","rollup-plugin-buble":"^0.14.0","rollup-plugin-includepaths":"^0.1.6"},"dependencies":{},"gitHead":"00f3cb4c5b791b2b232760467e549db9726ff0fb","homepage":"https://github.com/fzred/fetch-dog#readme","versions":[{"number":"0.1.0","date":"2016-10-20T17:22:27.142Z"},{"number":"0.1.1","date":"2016-10-20T17:29:29.657Z"},{"number":"0.1.2","date":"2016-10-20T18:28:30.399Z"},{"number":"0.1.3","date":"2016-10-21T03:56:30.642Z"}],"readme":"# fetch-dog\r\n基于 fetch 的 HTTP 请求客户端，支持node.js，浏览器，react-native\r\n\r\n## 特点\r\n* 支持node.js，浏览器，react-native多个环境，可用于同构（isomorphic）应用\r\n* 支持拦截器（interceptor）\r\n* 支持 Promise API \r\n* 支持 Firefox, Chrome, Safari, Opera and IE9+\r\n* 高扩展性\r\n* 轻量，只有5KB(gzip后 ~3KB)\r\n\r\n# 使用\r\n## 添加polyfill\r\nfetch 目前原生支持率并不高，不过引入 polyfill 后即可支持。\r\n\r\n\r\n1. 浏览器端引入 [whatwg-fetch](https://github.com/github/fetch)\r\n2. NodeJS引入 [node-fetch](https://github.com/bitinn/node-fetch)\r\n3. react-native 对fetch有原生支持，不需要引入polyfill\r\n\r\n## 安装\r\n```bash\r\nnpm install fetch-dog\r\n```\r\n\r\n## 示例\r\n### 浏览器\r\n```javascript\r\nimport 'whatwg-fetch'\r\nimport FetchDog from 'fetch-dog'\r\n\r\nconst fd = new FetchDog({ fetch, Headers })\r\nfd.get('/data/list', { id: 2 }).then(data => {\r\n  console.log(data)\r\n})\r\n```\r\n\r\n### NodeJS\r\n\r\n```javascript\r\nimport fetch, { Request, Headers, Response } from 'node-fetch'\r\nimport FetchDog from 'fetch-dog'\r\n\r\nconst fd = new FetchDog({ fetch, Headers })\r\nfd.get('http://example.com/data/list', { id: 2 }).then(data => {\r\n  console.log(data)\r\n})\r\n```\r\n\r\n### react-native\r\n```javascript\r\nimport FetchDog from 'fetch-dog'\r\n\r\nconst fd = new FetchDog({ fetch, Headers })\r\nfd.get('http://example.com/data/list', { id: 2 }).then(data => {\r\n  console.log(data)\r\n})\r\n```\r\n\r\n# 文档\r\n## 拦截器\r\n```javascript\r\n// 请求前拦截\r\nfd.request.push(req => {\r\n  req.headers.set('Custom-Header', 'hello')\r\n  return req\r\n})\r\n\r\n// 请求后拦截\r\nfd.response.push(res => {\r\n  if (res.ok) {\r\n    return res\r\n  }\r\n  return {\r\n    code: -1,\r\n    status: res.status,\r\n    desc: `server err【${res.status}】`,\r\n    data: null,\r\n  }\r\n})\r\n```\r\n","created":"2016-10-20T17:22:27.142Z","modified":"2016-10-21T03:56:30.642Z","lastPublisher":{"name":"lred","email":"1179750402@qq.com"},"owners":[{"name":"lred","email":"1179750402@qq.com"}],"other":{"_attachments":{},"_from":".","_id":"fetch-dog","_nodeVersion":"5.9.1","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/fetch-dog-0.1.3.tgz_1477022188461_0.7998931093607098"},"_npmUser":{"name":"lred","email":"1179750402@qq.com"},"_npmVersion":"3.7.3","_rev":"2-b0b1d951799f4543b2041d30ddb94d91","_shasum":"f53d20f00909354b1b740de7f4d62e27226c17b8","author":{"name":"fzred","email":"1179750402@qq.com"},"bugs":{"url":"https://github.com/fzred/fetch-dog/issues"},"directories":{},"dist-tags":{"latest":"0.1.3"},"dist":{"shasum":"f53d20f00909354b1b740de7f4d62e27226c17b8","tarball":"http://registry.npmjs.org/fetch-dog/-/fetch-dog-0.1.3.tgz"},"maintainers":[{"name":"lred","email":"1179750402@qq.com"}],"readmeFilename":"README.md","time":{"modified":"2016-10-21T03:56:30.642Z","created":"2016-10-20T17:22:27.142Z","0.1.0":"2016-10-20T17:22:27.142Z","0.1.1":"2016-10-20T17:29:29.657Z","0.1.2":"2016-10-20T18:28:30.399Z","0.1.3":"2016-10-21T03:56:30.642Z"}}}