{"name":"request-ajax","version":"1.2.0","description":"HTTP request client for APIs, based on request","main":"index.js","scripts":{"test":"mocha","lint":"jshint **.js **/*.js","coverage":"istanbul cover node_modules/.bin/_mocha"},"repository":"https://github.com/Tickaroo/request-ajax","peerDependencies":{"request":">=2.72.0 <3"},"devDependencies":{"backbone":"^1.3.3","body-parser":"^1.15.000","codecov.io":"^0.1.6","chai":"^3.5.0","express":"^4.13.4","istanbul":"^0.4.3","jshint":"^2.9.2","mocha":"^2.4.5","should":"^8.3.1"},"keywords":["request","api","http"],"license":"MIT","gitHead":"f2646d11d2887b932ce71f336f1cf7d870769a92","homepage":"https://github.com/Tickaroo/request-ajax#readme","versions":[{"number":"1.0.0","date":"2016-01-24T11:23:17.418Z"},{"number":"1.0.1","date":"2016-01-27T08:31:19.510Z"},{"number":"1.0.2","date":"2016-01-28T15:58:45.719Z"},{"number":"1.0.3","date":"2016-01-30T13:28:16.128Z"},{"number":"1.0.4","date":"2016-01-30T13:28:19.664Z"},{"number":"1.0.5","date":"2016-01-30T13:34:30.217Z"},{"number":"1.0.6","date":"2016-01-30T13:39:06.714Z"},{"number":"1.1.0","date":"2016-03-05T13:49:48.473Z"},{"number":"1.2.0","date":"2016-04-27T15:46:13.258Z"}],"readme":"# request-ajax [![npm version](https://badge.fury.io/js/request-ajax.svg)](https://www.npmjs.com/package/request-ajax) [![Build Status](https://travis-ci.org/Tickaroo/request-ajax.svg?branch=master)](https://travis-ci.org/Tickaroo/request-ajax) [![codecov.io](https://codecov.io/github/Tickaroo/request-ajax/coverage.svg?branch=master)](https://codecov.io/github/Tickaroo/request-ajax?branch=master)\n\nHTTP request client for APIs, based on request\n\n## Install\n\n```bash\n$ npm install --save request-ajax\n```\n\n## Usage\n\nBelow is a example of usage.\n\n```javascript\nvar express = require('express');\nvar ajax = require('request-ajax');\n\nvar app = express();\n\napp.get('/', function(req, res, next){\n  ajax({\n    // only JSON API is supported\n    url: 'http://my-api.com/users.json'\n    // your API auth\n    clientId: process.env.CLIENT_ID,\n    clientSecret: process.env.CLIENT_SECRET,\n    // callbacks\n    error: function(apiRequestError, apiResponse, statusCode) {\n      next(apiRequestError || new Error('API error: ' + apiResponse.body));\n    },\n    success: function(data, apiResponse, statusCode) {\n      var userCount = data.length;\n      res.send('user count: ' + userCount);\n    },\n    complete: function(apiRequestError, isApiSuccess, apiResponse) {\n      // ...\n    }\n  });\n});\n```\n\n## Options\n\n#### `url`, required\n\nAPI url, `https` will be removed from the url\n\n#### `prefilterUrl`\ndefault `undefined`\n\nif `function`: this function will be called to let you replace the url with something different.\nFor example: replacing `https://` with `http://` or using a local DNS/IP.\n\n```javascript\najax({\n  url: 'https://my-api.com/users.json',\n  prefilterUrl: function(url) {\n    return url && url.replace(new RegExp('^https://'), 'http://');\n  }\n});\n```\n\n#### `method`\ndefault `'GET'`\n\nHTTP method to use for the request e.g. 'POST'\n\n#### `type`\nsame as `method`\n\n\n#### `headers`\ndefault `{}`, custom headers\n\n```javascript\nheaders: {\n  'X-FOO': 'BAR'\n}\n```\n\n#### `locale`\ndefault `undefined`, sets `Accept-Language` header\n\n#### `accessToken`\ndefault `undefined`, sets `Bearer`\n\n```javascript\nrequestOptions.auth = {\n  bearer: options.accessToken\n};\n```\n[more about request auth option](https://github.com/request/request)\n\n#### `apiClientId, origin`\ndefault `undefined`, sets `Authorization` header\n\n```javascript\nrequestOptions.headers.Authorization = 'Basic ' + new Buffer(options.apiClientId + ':').toString('base64');\nrequestOptions.headers.Origin = options.origin;\n```\n\n#### `clientId, clientSecret`\ndefault `undefined`, sets `Bearer`\n\n```javascript\nrequestOptions.auth = {\n  user: options.clientId,\n  pass: options.clientSecret\n};\n```\n[more about request auth user/pass option](https://github.com/request/request)\n\n###### auth note:\n`accessToken` wins over `apiClientId, origin` wins over `clientId, clientSecret`\n\n#### `timeout`\ndefault `undefined`, [proxy to the request timeout option](https://github.com/request/request)\n\n\n#### Callbacks\n#### `success(json, apiResponse, statusCode)`\n#### `error(moduleError, [apiResponse, statusCode])`\n#### `complete(moduleError, isApiSuccess, [apiResponse, statusCode])`\n- `json` object\n- `apiResponse` [request response object](https://github.com/request/request)\n- `statusCode` int\n- `moduleError` Error instance\n\n\n------\n\nBackbone tests were copied form [artsy/backbone-super-sync](https://github.com/artsy/backbone-super-sync)\n","created":"2016-01-24T11:23:17.418Z","modified":"2016-04-27T15:46:13.258Z","lastPublisher":{"name":"antpaw","email":"anton.pawlik@gmail.com"},"owners":[{"name":"antpaw","email":"anton.pawlik@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"request-ajax","_nodeVersion":"4.2.6","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/request-ajax-1.2.0.tgz_1461771972222_0.9664925385732204"},"_npmUser":{"name":"antpaw","email":"anton.pawlik@gmail.com"},"_npmVersion":"2.14.12","_rev":"1-ac6588c88ce0595572e4270c10c1b232","_shasum":"9dfc2adcb2f656327804404ed11194a6d2fb8d4b","author":{"name":"Anton Pawlik","email":"anton.pawlik@gmail.com","url":"http://antpaw.org"},"bugs":{"url":"https://github.com/Tickaroo/request-ajax/issues"},"directories":{"test":"test"},"dist-tags":{"latest":"1.2.0"},"dist":{"shasum":"9dfc2adcb2f656327804404ed11194a6d2fb8d4b","tarball":"http://registry.npmjs.org/request-ajax/-/request-ajax-1.2.0.tgz"},"maintainers":[{"name":"antpaw","email":"anton.pawlik@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-04-27T15:46:13.258Z","created":"2016-01-24T11:23:17.418Z","1.0.0":"2016-01-24T11:23:17.418Z","1.0.1":"2016-01-27T08:31:19.510Z","1.0.2":"2016-01-28T15:58:45.719Z","1.0.3":"2016-01-30T13:28:16.128Z","1.0.4":"2016-01-30T13:28:19.664Z","1.0.5":"2016-01-30T13:34:30.217Z","1.0.6":"2016-01-30T13:39:06.714Z","1.1.0":"2016-03-05T13:49:48.473Z","1.2.0":"2016-04-27T15:46:13.258Z"}}}