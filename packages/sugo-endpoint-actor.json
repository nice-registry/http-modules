{"name":"sugo-endpoint-actor","version":"1.0.2","description":"Convert actor module methods into http endpoints","main":"lib","scripts":{"preapre":"node ./ci/build.js","test":"node ./ci/test.js"},"repository":"https://github.com/realglobe-inc/sugo-endpoint-actor","keywords":["SUGOS","endpoint"],"license":"Apache-2.0","homepage":"https://github.com/realglobe-Inc/sugo-endpoint-actor#readme","dependencies":{"co":"^4.6.0","debug":"^2.2.0","stringcase":"^3.2.1"},"devDependencies":{"ape-doc":"^2.0.4","ape-tmpl":"^5.0.12","aport":"^1.0.0","arequest":"^2.0.5","asleep":"^1.0.3","coz":"^6.0.5","injectmock":"^2.0.0","sg-server":"^1.2.8","sugo-actor":"^4.6.4","sugo-ci-endpoint":"^1.0.0","sugos-assets":"^2.0.1","sugos-travis":"^2.0.7"},"engines":{"node":">=6","npm":">=4"},"gitHead":"54a4927b6469a81a44622a2740d33b0d46571a78","versions":[{"number":"1.0.1","date":"2017-03-15T04:51:15.637Z"},{"number":"1.0.2","date":"2017-03-29T03:44:13.572Z"}],"readme":"sugo-endpoint-actor\n==========\n\n<!---\nThis file is generated by ape-tmpl. Do not update manually.\n--->\n\n<!-- Badge Start -->\n<a name=\"badges\"></a>\n\n[![Build Status][bd_travis_shield_url]][bd_travis_url]\n[![npm Version][bd_npm_shield_url]][bd_npm_url]\n[![JS Standard][bd_standard_shield_url]][bd_standard_url]\n\n[bd_repo_url]: https://github.com/realglobe-Inc/sugo-endpoint-actor\n[bd_travis_url]: http://travis-ci.org/realglobe-Inc/sugo-endpoint-actor\n[bd_travis_shield_url]: http://img.shields.io/travis/realglobe-Inc/sugo-endpoint-actor.svg?style=flat\n[bd_travis_com_url]: http://travis-ci.com/realglobe-Inc/sugo-endpoint-actor\n[bd_travis_com_shield_url]: https://api.travis-ci.com/realglobe-Inc/sugo-endpoint-actor.svg?token=\n[bd_license_url]: https://github.com/realglobe-Inc/sugo-endpoint-actor/blob/master/LICENSE\n[bd_codeclimate_url]: http://codeclimate.com/github/realglobe-Inc/sugo-endpoint-actor\n[bd_codeclimate_shield_url]: http://img.shields.io/codeclimate/github/realglobe-Inc/sugo-endpoint-actor.svg?style=flat\n[bd_codeclimate_coverage_shield_url]: http://img.shields.io/codeclimate/coverage/github/realglobe-Inc/sugo-endpoint-actor.svg?style=flat\n[bd_gemnasium_url]: https://gemnasium.com/realglobe-Inc/sugo-endpoint-actor\n[bd_gemnasium_shield_url]: https://gemnasium.com/realglobe-Inc/sugo-endpoint-actor.svg\n[bd_npm_url]: http://www.npmjs.org/package/sugo-endpoint-actor\n[bd_npm_shield_url]: http://img.shields.io/npm/v/sugo-endpoint-actor.svg?style=flat\n[bd_standard_url]: http://standardjs.com/\n[bd_standard_shield_url]: https://img.shields.io/badge/code%20style-standard-brightgreen.svg\n\n<!-- Badge End -->\n\n\n<!-- Description Start -->\n<a name=\"description\"></a>\n\nConvert actor module methods into http endpoints\n\n<!-- Description End -->\n\n\n<!-- Overview Start -->\n<a name=\"overview\"></a>\n\n\n\n<!-- Overview End -->\n\n\n<!-- Sections Start -->\n<a name=\"sections\"></a>\n\n<!-- Section from \"doc/guides/00.Requirements.md.hbs\" Start -->\n\n<a name=\"section-doc-guides-00-requirements-md\"></a>\n\nRequirements\n-----\n\n<a href=\"https://nodejs.org\">\n  <img src=\"https://realglobe-inc.github.io/sugos-assets/images/nodejs-banner.png\"\n       alt=\"Node.js\"\n       height=\"40\"\n       style=\"height:40px\"\n  /></a>\n<a href=\"https://docs.npmjs.com/\">\n  <img src=\"https://realglobe-inc.github.io/sugos-assets/images/npm-banner.png\"\n       alt=\"NPM\"\n       height=\"40\"\n       style=\"height:40px\"\n  /></a>\n\n+ [Node.js ( >=6 )][node_download_url]\n+ [npm ( >=4 )][npm_url]\n\n[node_download_url]: https://nodejs.org/en/download/\n[npm_url]: https://docs.npmjs.com/\n\n\n<!-- Section from \"doc/guides/00.Requirements.md.hbs\" End -->\n\n<!-- Section from \"doc/guides/01.Installation.md.hbs\" Start -->\n\n<a name=\"section-doc-guides-01-installation-md\"></a>\n\nInstallation\n-----\n\n```bash\n$ npm install sugo-endpoint-actor --save\n```\n\n\n<!-- Section from \"doc/guides/01.Installation.md.hbs\" End -->\n\n<!-- Section from \"doc/guides/02.Usage.md.hbs\" Start -->\n\n<a name=\"section-doc-guides-02-usage-md\"></a>\n\nUsage\n---------\n\nCreate an instance and apply to sg-server (or sugo-cloud)\n\n```javascript\n/** This is an example to use sugo-endpoint-actor */\n\n'use strict'\n\nconst sgServer = require('sg-server')\n\nconst sugoActor = require('sugo-actor')\nconst { Module } = sugoActor()\nconst sugoEndpointActor = require('sugo-endpoint-actor')\n\n// Define actor who receive methods from http\nconst httpActor = sugoActor({\n  key: 'http',\n  modules: {\n    greeting: new Module({\n      sayHello ({ msg }) {\n        return `Hello! ${msg}`\n      }\n    })\n  }\n})\n\nconst server = sgServer({\n  middlewares: [\n    /* ... */\n  ],\n  endpoints: {\n    // Exports actor module functions as http endpoint (like \"/api/greeting/say-hello\")\n    '/api/:module/:method': { POST: sugoEndpointActor(httpActor) }\n  }\n})\n\nserver.listen(3000)\n\n\n```\n\nThen call the api from agent script.\n\n```javascript\n/** This is example of client */\n\n'use strict'\n\nconst arequest = require('arequest')\nconst co = require('co')\n\nco(function * () {\n  let request = arequest.create()\n  let { body, statusCode } = yield request({\n    method: 'POST',\n    // Specify the module and method as url with hyphen-case name\n    url: `http://localhost/api/greeting/say-hello`,\n    json: true,\n    body: {\n      // Request body will be the first argument of the function\n      msg: 'hoge'\n    }\n  })\n  // Return values as response body\n  console.log(body) // -> 'Hello! hoge'\n}).catch((err) => console.error(err))\n\n```\n\n<!-- Section from \"doc/guides/02.Usage.md.hbs\" End -->\n\n<!-- Section from \"doc/guides/03.Signature.md.hbs\" Start -->\n\n<a name=\"section-doc-guides-03-signature-md\"></a>\n\nSignature\n-------\n\n#### sugoEndpointActor(actor, options) -> function\n\nConvert actor module methods into http endpoints\n\n##### Args\n\n| Name | Type | Default | Description |\n| --- | ---- | --- | --- |\n| actor | SugoActor  |  | Actor to exports |\n| options | object  |  | Optional settings. |\n\n\n<!-- Section from \"doc/guides/03.Signature.md.hbs\" End -->\n\n\n<!-- Sections Start -->\n\n\n<!-- LICENSE Start -->\n<a name=\"license\"></a>\n\nLicense\n-------\nThis software is released under the [Apache-2.0 License](https://github.com/realglobe-Inc/sugo-endpoint-actor/blob/master/LICENSE).\n\n<!-- LICENSE End -->\n\n\n<!-- Links Start -->\n<a name=\"links\"></a>\n\nLinks\n------\n\n+ [SUGOS][sugos_url]\n+ [Realglobe,Inc.][realglobe,_inc__url]\n\n[sugos_url]: https://github.com/realglobe-Inc/sugos\n[realglobe,_inc__url]: http://realglobe.jp\n\n<!-- Links End -->\n","created":"2017-03-15T04:51:15.637Z","modified":"2017-03-29T03:44:13.572Z","lastPublisher":{"name":"realglobe","email":"oss@realglobe.jp"},"owners":[{"name":"realglobe","email":"oss@realglobe.jp"}],"other":{"_attachments":{},"_from":".","_id":"sugo-endpoint-actor","_nodeVersion":"6.10.1","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/sugo-endpoint-actor-1.0.2.tgz_1490759052900_0.940284491982311"},"_npmUser":{"name":"realglobe","email":"oss@realglobe.jp"},"_npmVersion":"3.10.10","_rev":"2-6920e20b063d904b5bcd65c9867e2cda","_shasum":"726df72dbf2e26a556200d2ad5a475b36f08b1a5","author":{"name":"Taka Okunishi","email":"okunishinish@gmail.com","url":"http://okunishitaka.com"},"bugs":{"url":"https://github.com/realglobe-Inc/sugo-endpoint-actor/issues"},"directories":{},"dist-tags":{"latest":"1.0.2"},"dist":{"shasum":"726df72dbf2e26a556200d2ad5a475b36f08b1a5","tarball":"https://registry.npmjs.org/sugo-endpoint-actor/-/sugo-endpoint-actor-1.0.2.tgz"},"maintainers":[{"name":"realglobe","email":"oss@realglobe.jp"}],"readmeFilename":"README.md","time":{"modified":"2017-03-29T03:44:13.572Z","created":"2017-03-15T04:51:15.637Z","1.0.1":"2017-03-15T04:51:15.637Z","1.0.2":"2017-03-29T03:44:13.572Z"}}}