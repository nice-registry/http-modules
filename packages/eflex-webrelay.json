{"name":"eflex-webrelay","version":"0.1.3","description":"http wrapper for operating a controlbyweb relay device","main":"lib/index.js","scripts":{"test":"mocha","coveralls":"npm run build && istanbul cover _mocha --report lcovonly -- -R spec && cat ./coverage/lcov.info | coveralls && rm -rf ./coverage && npm run clean","lint":"coffeelint lib/*.coffee","build":"mv lib src && coffee --no-header -o lib -c src","clean":"rm -rf lib && mv src lib","release":"npm run lint && npm test && npm run build && npm publish && npm run clean"},"files":["lib"],"license":"MIT","devDependencies":{"blocked":"^1.1.0","chai":"^2.1.0","coffee-script":"^1.9.1","coffeelint":"^1.9.2","coveralls":"^2.11.2","istanbul":"^0.3.6","mocha":"^2.1.0","mocha-lcov-reporter":"0.0.1","sinon":"^1.12.2","sinon-chai":"^2.7.0"},"repository":"https://github.com/io-digital/webrelay","gitHead":"263db46355445fb6e28eaabdb20a4dae0938a8a4","homepage":"https://github.com/io-digital/webrelay#readme","versions":[{"number":"0.1.3","date":"2016-08-12T15:07:30.992Z"}],"readme":"\n# webrelay\n\n[![NPM](https://nodei.co/npm/webrelay.png?compact=true)](https://nodei.co/npm/webrelay/)\n\n[![Build Status](https://travis-ci.org/io-digital/webrelay.svg)](https://travis-ci.org/io-digital/webrelay)\n[![devDependency Status](https://david-dm.org/io-digital/webrelay/dev-status.svg)](https://david-dm.org/io-digital/webrelay#info=devDependencies)\n\n[![Coverage Status](https://coveralls.io/repos/io-digital/webrelay/badge.svg)](https://coveralls.io/r/io-digital/webrelay)\n[![Dependency Status](https://david-dm.org/io-digital/webrelay.svg)](https://david-dm.org/io-digital/webrelay)\n\nhttp wrapper for operating a [ControlByWeb](http://www.controlbyweb.com/) relay device\n\n##### api\n\n- `#setup.run(host, mac, callback)` add an `arp` entry for `host` and test with `ping`\n- `#setup.arp(host, mac, callback)` add an `arp` entry for `host`\n- `#setup.ping(host, callback)` ping the given `host`\n- `#switch(host, breaker, state, callback)` change the state of `breaker` to `state` and return the state of the relay (xml)\n- `#updateVariable(host, index, newVal, callback)` update an external variable at `index` to `newVal` and return the state of the relay (xml)\n- `#state(host, callback)` return the state of the relay (xml)\n\n##### usage\n\nthe module is programmed to spy at environment variables and runtime arguments for configuration data. runtime arguments take precedence over environment variables and default values.\n\n```js\nvar webrelay = require('webrelay'),\n    host = webrelay.config.RELAY_HOST,\n    mac = webrelay.config.RELAY_MAC;\n\n// initial set up\nwebrelay.setup.run(host, mac, function(err, res) {\n  if (err) throw err;\n  // relay is now accessible via config.RELAY_HOST\n});\n\n// toggle a breaker\nwebrelay.switch(host, 1, 1, function(err, res) {\n  if (err) throw err;\n  // breaker number 1's state is now 1\n});\n\n// update an external variable\nwebrelay.updateVariable(host, 0, 10, function(err, res) {\n  if (err) throw err;\n  // extVar0 value is now 10\n});\n\n// get the state back (in xml)\nwebrelay.state(host, function(err, res) {\n  if (err) throw err;\n  console.log(res);\n});\n```\n","created":"2016-08-12T15:07:30.992Z","modified":"2016-08-12T15:07:30.992Z","lastPublisher":{"name":"alobaidizt","email":"za@eflexsystems.com"},"owners":[{"name":"alobaidizt","email":"za@eflexsystems.com"}],"other":{"_attachments":{},"_from":".","_id":"eflex-webrelay","_nodeVersion":"6.3.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/eflex-webrelay-0.1.3.tgz_1471014449577_0.41474127443507314"},"_npmUser":{"name":"alobaidizt","email":"za@eflexsystems.com"},"_npmVersion":"3.10.3","_rev":"1-c152b1539df6ddd081dd04f5a4627764","_shasum":"2ba1aa9ec9e45ffda96e90d182ceb8bf8fdf88a3","author":{"name":"Ant Cosentino","email":"ant@io.co.za"},"bugs":{"url":"https://github.com/io-digital/webrelay/issues"},"contributors":[{"name":"Ziyad Al-Obaidi","email":"za@eflexsystems.com","url":"https://github.com/alobaidizt"}],"directories":{},"dist-tags":{"latest":"0.1.3"},"dist":{"shasum":"2ba1aa9ec9e45ffda96e90d182ceb8bf8fdf88a3","tarball":"http://registry.npmjs.org/eflex-webrelay/-/eflex-webrelay-0.1.3.tgz"},"maintainers":[{"name":"alobaidizt","email":"za@eflexsystems.com"}],"readmeFilename":"README.md","time":{"modified":"2016-08-12T15:07:30.992Z","created":"2016-08-12T15:07:30.992Z","0.1.3":"2016-08-12T15:07:30.992Z"}}}