{"name":"request-intercept","version":"0.0.5","description":"A framework to intercept HTTP calls made via the request HTTP client.","main":"src/index.js","scripts":{"test":"grunt"},"repository":"https://github.com/finboxio/request-middleware-framework","keywords":["request"],"license":"MIT","homepage":"https://github.com/finboxio/request-middleware-framework#readme","dependencies":{"assert-plus":"^1.0.0","lodash":"^4.15.0"},"devDependencies":{"chai":"^3.5.0","chai-spies":"^0.7.1","grunt":"^1.0.1","grunt-contrib-jshint":"^1.0.0","grunt-jscs":"^3.0.1","grunt-mocha-istanbul":"^5.0.2","grunt-mocha-test":"^0.12.7","mocha":"^3.0.2","mocha-istanbul":"^0.3.0","node-uuid":"^1.4.7"},"gitHead":"f7071399f8b9903dcbb1dc76c3838419561ee24b","versions":[{"number":"0.0.5","date":"2016-10-12T20:51:15.480Z"}],"readme":"# request-middleware-framework\n\nA framework to intercept HTTP calls made via the request HTTP client.\n\n## Installation\n\n    npm install request-middleware-framework\n\n## Middleware Definition\n\nThe framework simply expects any middleware to be a function of form:\n```\nfunction(options, callback, next) {\n  // Add custom logic here.\n  next(options, callback);\n}\n```\n\nThe ``next()`` call will call the next middleware in the chain. To add any logic on the response, you can modify the callback as follows:\n```\nfunction(options, callback, next) {\n  var _callback = function(err, response, body) {\n    // Add custom response logic here.\n    callback(err, response, body);\n  };\n  next(options, _callback);\n}\n```\n\nIf instead you want to completely short-circuit the HTTP call, you can simply call the callback and provide your own error or response:\n```\nfunction(options, callback, next) {\n  var body = \"Everything's fine.\"\n  callback(null, { statusCode: 200, body: body }, body);\n}\n```\n\n## Examples\n\nOnce you've defined your middleware, you can simply register it by creating a new framework object, and then getting the request object:\n```\nvar requestMiddlewareFramework = new RequestMiddlewareFramework(require(\"request\"), middleware);\nvar request = requestMiddlewareFramework.getMiddlewareEnabledRequest();\n```\n\nYou can then use returned ``request`` object just like you normally would.\n\nFor a full example inside an express app, see the [sample](sample) directory within this repository.\n\n## License\n\n[MIT](LICENSE)\n","created":"2016-10-12T20:51:15.480Z","modified":"2016-10-12T20:51:15.480Z","lastPublisher":{"name":"bdentino","email":"brian.dentino@gmail.com"},"owners":[{"name":"bdentino","email":"brian.dentino@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"request-intercept","_nodeVersion":"6.6.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/request-intercept-0.0.5.tgz_1476305475261_0.26227126154117286"},"_npmUser":{"name":"bdentino","email":"brian.dentino@gmail.com"},"_npmVersion":"3.10.3","_rev":"1-67d733dd2b872993f123ff588a191939","_shasum":"8afd887f0ade88e5ac3c1c8910ba48510f6c9a7c","author":{"name":"Cimpress-MCP"},"bugs":{"url":"https://github.com/finboxio/request-middleware-framework/issues"},"directories":{},"dist-tags":{"latest":"0.0.5"},"dist":{"shasum":"8afd887f0ade88e5ac3c1c8910ba48510f6c9a7c","tarball":"http://registry.npmjs.org/request-intercept/-/request-intercept-0.0.5.tgz"},"maintainers":[{"name":"bdentino","email":"brian.dentino@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-10-12T20:51:15.480Z","created":"2016-10-12T20:51:15.480Z","0.0.5":"2016-10-12T20:51:15.480Z"}}}