{"name":"angular-http-backup","version":"0.4.0","description":"http backup for when service/network fails","main":"httpbackup.js","scripts":{"prestart":"rm -rf dist","start":"webpack;","test":"karma start -c karma.conf.js --single-run=true --auto-watch=false","tdd":"karma start -c karma.conf.js"},"repository":"https://github.com/zouhenry/angular-http-backup","license":"MIT","homepage":"https://github.com/zouhenry/angular-http-backup#readme","devDependencies":{"angular":"^1.5.8","angular-mocks":"^1.3.20","babel-core":"^6.10.4","babel-istanbul-loader":"^0.1.0","babel-loader":"^6.2.4","babel-preset-es2015":"^6.9.0","codecov.io":"^0.1.6","jasmine-core":"^2.5.2","karma":"^1.1.0","karma-coverage":"^1.1.1","karma-jasmine":"^1.0.2","karma-phantomjs-launcher":"^1.0.1","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"0.0.26","karma-webpack":"^1.7.0","lodash":"^4.16.4","ng-annotate-loader":"^0.1.0","ng-cache-loader":"0.0.16","node-sass":"^3.8.0","phantomjs-prebuilt":"^2.1.7","run-sequence":"^0.3.2","webpack":"^1.13.1","webpack-core":"^0.6.8","webpack-dev-server":"^1.14.1"},"dependencies":{},"gitHead":"eccb58d6a1d0ef8c51a4e8f4906c2db4e4bd8d7f","versions":[{"number":"0.1.0","date":"2016-10-09T17:10:12.124Z"},{"number":"0.1.1","date":"2016-10-09T17:21:23.457Z"},{"number":"0.1.2","date":"2016-10-09T17:35:41.803Z"},{"number":"0.2.0","date":"2016-10-09T18:57:51.638Z"},{"number":"0.2.1","date":"2016-10-09T19:02:58.633Z"},{"number":"0.2.2","date":"2016-10-09T19:13:03.900Z"},{"number":"0.2.3","date":"2016-10-09T19:58:50.552Z"},{"number":"0.2.4","date":"2016-10-09T20:01:31.796Z"},{"number":"0.2.5","date":"2016-10-10T00:22:51.405Z"},{"number":"0.2.6","date":"2016-10-10T12:41:26.028Z"},{"number":"0.2.7","date":"2016-10-10T12:42:25.255Z"},{"number":"0.2.8","date":"2016-10-10T12:53:48.222Z"},{"number":"0.3.0","date":"2016-10-11T14:46:04.652Z"},{"number":"0.3.1","date":"2016-10-11T15:26:01.891Z"},{"number":"0.3.2","date":"2016-10-12T01:43:13.748Z"},{"number":"0.3.3","date":"2016-10-13T01:46:07.832Z"},{"number":"0.3.4","date":"2016-10-19T15:56:25.497Z"},{"number":"0.3.5","date":"2016-10-19T19:14:34.036Z"},{"number":"0.3.6","date":"2016-10-19T20:27:05.673Z"},{"number":"0.3.7","date":"2016-10-20T02:12:45.652Z"},{"number":"0.3.8","date":"2016-10-21T15:38:46.847Z"},{"number":"0.4.0","date":"2017-01-21T22:07:11.567Z"}],"readme":"# angular-http-backup\n\nStatus:\n[![npm downloads](https://img.shields.io/npm/dm/angular-http-backup.svg?style=flat-square)](http://npm-stat.com/charts.html?package=angular-http-backup)\n[![Build Status](https://travis-ci.org/zouhenry/angular-http-backup.svg?branch=master)](https://travis-ci.org/zouhenry/angular-http-backup)\n[![codecov](https://codecov.io/gh/zouhenry/angular-http-backup/branch/master/graph/badge.svg)](https://codecov.io/gh/zouhenry/angular-http-backup)\n\n##Replay cached data when network/service fails\n\n####Each successful request is cached in localStorage with url as the key. When the network/service fails, a cached response will be served up\n\n----------------------\nGetting Started\n----------------------\n```\nnpm install --save angular-http-backup\n```\n```\nbower install --save angular-http-backup\n```\n\n----------------------\nusage\n----------------------\n```\nangular\n    .module( 'your.module', [ 'httpbackup' ] )\n    .config( $httpProvider, httpBackupCacheProvider ) {\n        $httpProvider.interceptors.push( 'httpBackupInterceptor' );\n        \n        // by default all urls are cached,\n        // this allows regex to limit what gets cached\n        httpBackupCacheProvider.setCachingRules( [\n          new RegExp( \"^api\\/v1\" ),        //cache request urls starting with \"api/v1\"\n          new RegExp(\"^(?!.*[.]html$).*$\") //ignore request urls ending with \".html\"\n        ] );\n    }\n```  \n\n### Resetting cache\n```\n// inject httpBackupCache\nfunction controller(httpBackupCache){\n    //reset all keys\n    httpBackupCache.clear();\n    \n    // remove individual key \n    httpBackupCache.removeItem('GET:api/v1/auth/login');\n    httpBackupCache.removeItem('POST:api/v1/auth/status');\n    httpBackupCache.removeItem('PUT:api/v1/auth/ping');\n}\n```\n\n### Events\n```\n    // event $emitted on $rootScope when a response is cached\n    $rootScope.$on( 'HttpBackup_cached', function( event, data ) {\n        console.log(data.url);      // request url\n        console.log(data.response); // cached response\n    }    \n    \n    // event $emitted on $rootScope when a cached response is used\n    $rootScope.$on( 'HttpBackup_activated', function( event, data ) {\n        console.log(data.url);      // request url\n        console.log(data.response); // cached response\n    }\n```","created":"2016-10-09T17:10:12.124Z","modified":"2017-01-21T22:07:11.567Z","lastPublisher":{"name":"zouhenry","email":"zouhenry@gmail.com"},"owners":[{"name":"zouhenry","email":"zouhenry@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"angular-http-backup","_nodeVersion":"6.6.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/angular-http-backup-0.4.0.tgz_1485036431005_0.30275308922864497"},"_npmUser":{"name":"zouhenry","email":"zouhenry@gmail.com"},"_npmVersion":"3.10.3","_rev":"4-3752b3b495091c48f0fddb6f16c6653c","_shasum":"0b9f2a5194e5a035602a73c60a5e73c69cf6c5c5","author":{"name":"zouhenry@gmail.com"},"bugs":{"url":"https://github.com/zouhenry/angular-http-backup/issues"},"directories":{},"dist-tags":{"latest":"0.4.0"},"dist":{"shasum":"0b9f2a5194e5a035602a73c60a5e73c69cf6c5c5","tarball":"https://registry.npmjs.org/angular-http-backup/-/angular-http-backup-0.4.0.tgz"},"maintainers":[{"name":"zouhenry","email":"zouhenry@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-01-21T22:07:11.567Z","created":"2016-10-09T17:10:12.124Z","0.1.0":"2016-10-09T17:10:12.124Z","0.1.1":"2016-10-09T17:21:23.457Z","0.1.2":"2016-10-09T17:35:41.803Z","0.2.0":"2016-10-09T18:57:51.638Z","0.2.1":"2016-10-09T19:02:58.633Z","0.2.2":"2016-10-09T19:13:03.900Z","0.2.3":"2016-10-09T19:58:50.552Z","0.2.4":"2016-10-09T20:01:31.796Z","0.2.5":"2016-10-10T00:22:51.405Z","0.2.6":"2016-10-10T12:41:26.028Z","0.2.7":"2016-10-10T12:42:25.255Z","0.2.8":"2016-10-10T12:53:48.222Z","0.3.0":"2016-10-11T14:46:04.652Z","0.3.1":"2016-10-11T15:26:01.891Z","0.3.2":"2016-10-12T01:43:13.748Z","0.3.3":"2016-10-13T01:46:07.832Z","0.3.4":"2016-10-19T15:56:25.497Z","0.3.5":"2016-10-19T19:14:34.036Z","0.3.6":"2016-10-19T20:27:05.673Z","0.3.7":"2016-10-20T02:12:45.652Z","0.3.8":"2016-10-21T15:38:46.847Z","0.4.0":"2017-01-21T22:07:11.567Z"}}}