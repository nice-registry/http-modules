{"name":"force-ssl-heroku","version":"1.0.2","description":"An express middleware that redirects unencrypted HTTP requests to HTTPS","main":"force-ssl-heroku.js","scripts":{},"repository":"https://github.com/rangle/force-ssl-heroku","license":"MIT","homepage":"https://github.com/rangle/force-ssl-heroku","gitHead":"1c4b600f14a46c8b9053bef816756d92125e53c9","versions":[{"number":"1.0.0","date":"2014-12-31T04:21:40.417Z"},{"number":"1.0.1","date":"2014-12-31T04:51:43.404Z"},{"number":"1.0.2","date":"2014-12-31T04:55:35.476Z"}],"readme":"force-ssl-heroku\n================\n\nAn express middleware that redirects unencrypted HTTP requests to HTTPS on Heroku instances.\n\nHeroku does SSL termination at its load balancer.  However, the\ninternal nodeJS app can tell if the original request was made with\nHTTP by inspecting headers inserted by Heroku.  We can use this\nto redirect to the HTTPS Heroku url.\n\nInstallation\n============\n\n```\nnpm install force-ssl-heroku --save\n```\n\nUsage\n=====\n\nIt's designed for use with [express](https://www.npmjs.com/package/express):\n\n```js\nvar express = require('express');\nvar forceSsl = require('force-ssl-heroku');\n\nvar app = express();\napp.use(forceSsl);\n\n// Example:\napp.get('/ping', pingHandler); // I'll now redirect to HTTPS.\n\n// ... configure the rest of your routes.\n\napp.listen(3000, 'localhost');\n```\n\nCaveat\n======\n\nIt works because Heroku exposes your app through a reverse proxy which is used for load-balancing and other things.  This reverse proxy does SSL termination and forwards to your app which __should only accept connections from localhost__.  The middleware detects this situation by inspecting headers inserted by Heroku's reverse proxy;  __since headers can be spoofed, you should not use this middleware anywhere that's not behind such a proxy__!\n","starsCount":1,"created":"2014-12-31T04:21:40.417Z","modified":"2016-01-18T03:33:59.623Z","lastPublisher":{"name":"sethdavenport","email":"seth@rangle.io"},"owners":[{"name":"sethdavenport","email":"seth@rangle.io"},{"name":"yto","email":"yuri@rangle.io"}],"other":{"_attachments":{},"_from":".","_id":"force-ssl-heroku","_npmUser":{"name":"sethdavenport","email":"seth@rangle.io"},"_npmVersion":"1.4.28","_rev":"1-2c30d29a4a0c450945b70a7896c429d9","_shasum":"52850323066ba789dc330feccd7817c7cebb2680","author":{"name":"Seth Davenport"},"bugs":{"url":"https://github.com/rangle/force-ssl-heroku/issues"},"directories":{},"dist-tags":{"latest":"1.0.2"},"dist":{"shasum":"52850323066ba789dc330feccd7817c7cebb2680","tarball":"http://registry.npmjs.org/force-ssl-heroku/-/force-ssl-heroku-1.0.2.tgz"},"maintainers":[{"name":"sethdavenport","email":"seth@rangle.io"},{"name":"yto","email":"yuri@rangle.io"}],"readmeFilename":"README.md","time":{"modified":"2016-01-18T03:33:59.623Z","created":"2014-12-31T04:21:40.417Z","1.0.0":"2014-12-31T04:21:40.417Z","1.0.1":"2014-12-31T04:51:43.404Z","1.0.2":"2014-12-31T04:55:35.476Z"},"users":{"ristostevcev":true}}}