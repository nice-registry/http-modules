{"name":"zdc-client","version":"1.2.0","description":"generate http client for nodejs based on a schema definition","main":"index.js","scripts":{"test":"node ./test/index.js | tap-spec"},"license":"MIT","dependencies":{"stampit":"^2.1.2","superagent":"^2.1.0"},"devDependencies":{"nock":"^8.0.0","tap-spec":"^4.1.1","tape":"^4.6.0"},"keywords":["http","client","request"],"gitHead":"8c4bd2b85b360bb84fe626b707429ba31795aaf8","versions":[{"number":"1.0.0","date":"2016-09-21T13:57:33.121Z"},{"number":"1.1.0","date":"2016-09-21T15:09:00.151Z"},{"number":"1.2.0","date":"2016-10-12T20:02:28.499Z"}],"readme":"# zdc-client\n\n[![CircleCI](https://circleci.com/gh/zorro-del-caribe/http-client-generator.svg?style=svg)](https://circleci.com/gh/zorro-del-caribe/http-client-generator)\n\nGenerate namespaced http client based on schema definition using Bearer token authentication protocol or Basic authentication protocol.\n\n## install\n\n``npm install --save zdc-client``\n\n## usage\n\n```Javascript\nconst factory = require('zdc-client').bearer;\nconst schema={\n    list:{\n        method:'get', // the HTTP verb\n        path:'/', //the path\n        query:['page','size'] // a list of authorized query parameters\n    },\n    self:{\n        method:'get',\n        path:'/:userId'//a mandatory query parameters,\n\n    },\n    create:{\n        method:'post',\n        path:'/',\n        body:['email','username'] // list of allowed parameters\n    }\n};\n\nconst users = factory({\n    schema,\n    namespace:'users',\n    endpoint:{\n        protocol:'https',\n        host:'api.zdc.com'\n    });\n\nusers({token:'foobar'})\n    .list({page:4}) // GET https://api.zdc.com/users/?page=4 Authorization: Bearer foobar\n    .then(result => {})\n    .catch(e=>{});\n\nusers({token:'whatever')\n    .self({userId:666) // GET https://api.zdc.com/users/666 Authorization: Bearer whatever\n    .then(user=>{})\n\nusers({token:'foobar')\n    .create({email:'foo@bar.com',username:'oufGuedin'}) // POST https://api.zdc.com/users/ Authorization: Bearer foobar, body : {email:'foo@bar.com', username:'oufGuedin'}\n    .then(user=>{})\n\n\n//OR\n\nconst basic = require('zdc-client').basic;\n\nconst users = basic({/* .. options */);\n\nusers({username:'foo',password:'bar'})\n    .list()\n    .then(users=>{});\n```\n\nNote: factories created are composable using [stampit](https://github.com/stampit-org/stampit)\n\n```Javascript\nconst bearer = require('zdc-client').bearer;\nconst users = bearer({schema:{},namespace:'users'});\n\nconst extendUsers  = users.compose(/* some other stamp */);\n```","created":"2016-09-21T13:57:33.121Z","modified":"2016-10-12T20:02:28.499Z","lastPublisher":{"name":"lorenzofox3","email":"laurent34azerty@gmail.com"},"owners":[{"name":"lorenzofox3","email":"laurent34azerty@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"zdc-client","_nodeVersion":"6.3.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/zdc-client-1.2.0.tgz_1476302547630_0.9621880946215242"},"_npmUser":{"name":"lorenzofox3","email":"laurent34azerty@gmail.com"},"_npmVersion":"3.10.5","_rev":"1-5eae7205dea16c3685e76380f0aa9c16","_shasum":"e637f90416e8420aefaf362b238718f81cbf4aa0","author":{"name":"Laurent Renard"},"directories":{},"dist-tags":{"latest":"1.2.0"},"dist":{"shasum":"e637f90416e8420aefaf362b238718f81cbf4aa0","tarball":"http://registry.npmjs.org/zdc-client/-/zdc-client-1.2.0.tgz"},"maintainers":[{"name":"lorenzofox3","email":"laurent34azerty@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-10-12T20:02:28.499Z","created":"2016-09-21T13:57:33.121Z","1.0.0":"2016-09-21T13:57:33.121Z","1.1.0":"2016-09-21T15:09:00.151Z","1.2.0":"2016-10-12T20:02:28.499Z"}}}