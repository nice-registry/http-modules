{"name":"node-document-api","description":"HTTP API endpoint/middleware for `node-document` ODM for Node.js.","keywords":["document","odm","object document mapper","generic","unified","storage","storages","validator","validators","differ","differs","schema","api"],"version":"0.1.0-pre1","homepage":"https://github.com/grimen/node-document-api","repository":"https://github.com/grimen/node-document-api","licenses":[{"type":"MIT","url":"https://github.com/grimen/node-document-api/blob/MIT-LICENSE"}],"main":"./index.js","scripts":{"start":"make start","test":"make test","test-ci":"make test-ci","test-remote":"make test-remote"},"bin":{},"engines":{"node":">= 0.8.0"},"dependencies":{"funargs":"latest","sugar":"latest","node-document":"latest","connect":"latest"},"devDependencies":{"mocha":"latest","chai":"latest","chai-http":"latest","cover":"latest","node-inspector":"latest","longjohn":"latest","colors":"latest","express":"latest","async":"latest","superagent":"latest","supertest":"latest"},"readme":"# NODE-DOCUMENT-API *preview* [![Build Status](https://secure.travis-ci.org/grimen/node-document-api.png)](http://travis-ci.org/grimen/node-document-api)\n\n**HTTP API** endpoint/middleware for [node-document](https://github.com/grimen/node-document) ODM for Node.js.\n\n\n## About\n\nUnified HTTP API for write/read data to/from differen kinds of storages/databases.\n\n\n## HTTP API\n\n### `POST`\n\n* `(:route)/:type/:id`\n\n    ```text\n    HTTP POST /post/1\n      {\n        \"title\": \"Post 1\",\n        \"description\": \"Lorem ipsum...\"\n      }\n    ```\n\n    ```javascript\n    /*\n      200 OK\n    */\n    [\n      {\n        \"_type\": \"post\",\n        \"_id\": 1,\n        \"title\": \"Post 1\",\n        \"description\": \"Lorem ipsum...\"\n      }\n    ]\n    ```\n\n* `(:route)/:type/:id,...,:id`\n\n    ```text\n    HTTP POST /post/1,2,3\n      [\n        {\n          \"title\": \"Post 1\",\n          \"description\": \"Lorem ipsum...\"\n        },\n        {\n          \"title\": \"Post 2\",\n          \"description\": \"Lorem ipsum...\"\n        },\n        {\n          \"title\": \"Post 3\",\n          \"description\": \"Lorem ipsum...\"\n        }\n      ]\n    ```\n\n    ```javascript\n    /*\n      200 OK\n    */\n    [\n      true,\n      true,\n      true\n    ]\n    ```\n\n### `PUT`\n\n* `(:route)/:type/:id`\n\n    ```text\n    HTTP PUT /post/1\n      {\n        \"title\": \"Post 1\",\n        \"description\": \"Lorem ipsum...\",\n        \"extra\": true\n      }\n    ```\n\n    ```javascript\n    /*\n      200 OK\n    */\n    [\n      {\n        \"_type\": \"post\",\n        \"_id\": 1,\n        \"title\": \"Post 1\",\n        \"description\": \"Lorem ipsum...\",\n        \"extra\": true\n      }\n    ]\n    ```\n\n* `(:route)/:type/:id,...,:id`\n\n    ```text\n    HTTP PUT /post/1,2,3\n      [\n        {\n          \"title\": \"Post 1\",\n          \"description\": \"Lorem ipsum...\",\n          \"extra\": true\n        },\n        {\n          \"title\": \"Post 2\",\n          \"description\": \"Lorem ipsum...\",\n          \"extra\": true\n        },\n        {\n          \"title\": \"Post 3\",\n          \"description\": \"Lorem ipsum...\",\n          \"extra\": true\n        }\n      ]\n    ```\n\n    ```javascript\n    /*\n      200 OK\n    */\n    [\n      true,\n      true,\n      true\n    ]\n    ```\n\n### `GET`\n\n* `(:route)/:type/:id`\n\n    ```text\n    HTTP GET /post/1\n    ```\n\n    ```javascript\n    /*\n      200 OK\n    */\n    [\n      {\n        \"_type\": \"post\",\n        \"_id\": 1,\n        \"title\": \"Post 1\",\n        \"description\": \"Lorem ipsum...\"\n      }\n    ]\n    ```\n\n* `(:route)/:type/:id,...,:id`\n\n    ```text\n    HTTP GET /post/1,2,3\n    ```\n\n    ```javascript\n    /*\n      200 OK\n    */\n    [\n      {\n        \"_type\": \"post\",\n        \"_id\": 1,\n        \"title\": \"Post 1\",\n        \"description\": \"Lorem ipsum...\"\n      },\n      {\n        \"_type\": \"post\",\n        \"_id\": 2,\n        \"title\": \"Post 2\",\n        \"description\": \"Lorem ipsum...\"\n      },\n      {\n        \"_type\": \"post\",\n        \"_id\": 3,\n        \"title\": \"Post 3\",\n        \"description\": \"Lorem ipsum...\"\n      }\n    ]\n    ```\n\n### `DELETE`\n\n* `(:route)/:type/:id`\n\n    ```text\n    HTTP DELETE /post/1\n    ```\n\n    ```javascript\n    /*\n      200 OK\n    */\n    [\n      {\n        \"_type\": \"post\",\n        \"_id\": 1,\n        \"title\": \"Post 1\",\n        \"description\": \"Lorem ipsum...\"\n      }\n    ]\n    ```\n\n* `(:route)/:type/:id,...,:id`\n\n    ```text\n    HTTP DELETE /post/1,2,3\n    ```\n\n    ```javascript\n    /*\n      200 OK\n    */\n    [\n      false,\n      true,\n      true\n    ]\n    ```\n\n\n## Example\n\nUsing [Connect.js](https://github.com/senchalabs/connect):\n\n```javascript\n  var connect = require('connect')\n  var http = require('http');\n\n  var Document = require('node-document');\n  var API = require('node-document-api');\n\n  var Post = Document('Post');\n\n  Post.api = API({route: '/api'});\n\n  var app = connect();\n\n  app\n    .use(Post.api)\n    .use(function(req, res) {\n      res.end(\"Hello world!\");\n    });\n\n  http.createServer(app).listen(3000, function() {\n    console.log('[node-document-api/examples/connect-example.js]: Listening on port %s', 3000);\n  });\n```\n\nUsing [Express.js](https://github.com/visionmedia/express):\n\n```javascript\n  var express = require('express')\n\n  var Document = require('node-document');\n  var API = require('node-document-api');\n\n  var Post = Document('Post');\n\n  Post.api = API({route: '/api'});\n\n  var app = express();\n\n  app\n    .use(Post.api)\n    .use(function(req, res) {\n      res.end(\"Hello world!\");\n    });\n\n  app.listen(3000, function() {\n    console.log('[node-document-api/examples/express-example.js]: Listening on port %s', 3000);\n  });\n```\n\n\n## Installation\n\n```shell\n  $ npm install node-document-api\n```\n\n\n## Test\n\n**Local tests:**\n\n```shell\n  $ make test\n```\n\n\n## License\n\nReleased under the MIT license.\n\nCopyright (c) [Jonas Grimfelt](http://github.com/grimen)\n","versions":[{"number":"0.1.0-pre1","date":"2013-05-13T14:07:13.899Z"}],"created":"2013-05-13T14:07:11.828Z","modified":"2013-05-13T14:07:13.900Z","lastPublisher":{"name":"grimen","email":"grimen@gmail.com"},"owners":[{"name":"grimen","email":"grimen@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"node-document-api","_npmUser":{"name":"grimen","email":"grimen@gmail.com"},"_npmVersion":"1.2.2","_rev":"1-403aa838676fb9c40debe26a1d1a2503","author":{"name":"Jonas Grimfelt","email":"grimen@gmail.com"},"bugs":{"url":"https://github.com/grimen/node-document-api/issues"},"contributors":[],"directories":{"lib":"./lib"},"dist-tags":{"latest":"0.1.0-pre1"},"dist":{"shasum":"006e48bbc86291c10bce866f4376f05442756fe8","tarball":"http://registry.npmjs.org/node-document-api/-/node-document-api-0.1.0-pre1.tgz"},"maintainers":[{"name":"grimen","email":"grimen@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2013-05-13T14:07:13.900Z","created":"2013-05-13T14:07:11.828Z","0.1.0-pre1":"2013-05-13T14:07:13.899Z"}}}