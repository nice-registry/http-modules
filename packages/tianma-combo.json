{"name":"tianma-combo","description":"HTTP concat middleware for Tianma","version":"1.0.1","keywords":["combo","middleware","tianma"],"repository":"https://github.com/tianmajs/tianma-combo","license":"MIT","devDependencies":{"tianma":"~1.0.0","mocha":"~2.2.5","supertest":"~0.15.0"},"engines":{"node":">=0.12.0"},"main":"index.js","scripts":{"test":"mocha --harmony"},"gitHead":"403f425ab1858387b22ba3ac6a854504379237fe","homepage":"https://github.com/tianmajs/tianma-combo#readme","versions":[{"number":"1.0.0-b0","date":"2015-03-09T07:56:50.847Z"},{"number":"1.0.0","date":"2015-07-25T08:52:05.873Z"},{"number":"1.0.1","date":"2015-07-27T12:41:40.380Z"}],"readme":"# tianma-combo\n\n![build status](https://travis-ci.org/tianmajs/tianma-combo.svg?branch=master)\n\n对形如`/dir/??file1,file2`的HTTP GET请求提供支持。\n\n## 安装\n\n    $ npm install tianma-combo\n\n## 使用\n\n### 请求合并\n\n将形如`/dir/??file1,file2`的HTTP GET请求拆分为`/dir/file1`和`/dir/file2`两个子请求后交给后续模块处理，并将后续模块返回的响应合并后一起返回。\n\n    var tianma = require('tianma');\n\n    tianma(8080)\n        .combo()\n        .use(function *(next) {\n            this.response\n                .status(200)\n                .type('txt')\n                .data(this.request.pathname);\n        });\n\n上例的执行结果如下：\n\n    $ curl http://127.0.0.1:8080/dir/??file1,file2\n    /dir/file1/dir/file2\n\n### 分隔符\n\n可通过`MIME`为特定文件类型指定合并响应结果时使用的分隔符。\n\n    var tianma = require('tianma');\n\n    tianma(8080)\n        .combo({\n            'text/plain': '\\n'\n        })\n        .use(function *(next) {\n            this.response\n                .status(200)\n                .type('txt')\n                .data(this.request.pathname);\n        });\n\n上例的执行结果如下：\n\n    $ curl http://127.0.0.1:8080/dir/??file1,file2\n    /dir/file1\n    /dir/file2\n\n## 注意事项\n\n+ 本模块只处理`GET`请求。\n+ 对于本模块拆分并传递给后续模块的任意子请求，如果后续模块返回了响应状态码不等于`200`，则请求处理失败。\n+ 对于本模块拆分并传递给后续模块的任意子请求，如果后续模块返回的响应的`content-type`不一致，则请求处理失败。\n\n## 授权协议\n\n[MIT](https://github.com/tianmajs/tianmajs.github.io/blob/master/LICENSE)\n","created":"2015-03-09T07:56:50.847Z","modified":"2015-07-27T12:41:40.380Z","lastPublisher":{"name":"nqdeng","email":"nqdeng@gmail.com"},"owners":[{"name":"nqdeng","email":"nqdeng@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"tianma-combo","_nodeVersion":"2.2.1","_npmUser":{"name":"nqdeng","email":"nqdeng@gmail.com"},"_npmVersion":"2.11.0","_rev":"1-9a180cf3ed96432a6bb70a6542e42857","_shasum":"d44135270ff5c9325bbe2b4d21b98b3bfe9be6a1","author":{"name":"Nanqiao Deng","email":"nqdeng@gmail.com"},"bugs":{"url":"https://github.com/tianmajs/tianma-combo/issues"},"directories":{},"dist-tags":{"latest":"1.0.1"},"dist":{"shasum":"d44135270ff5c9325bbe2b4d21b98b3bfe9be6a1","tarball":"http://registry.npmjs.org/tianma-combo/-/tianma-combo-1.0.1.tgz"},"maintainers":[{"name":"nqdeng","email":"nqdeng@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-07-27T12:41:40.380Z","created":"2015-03-09T07:56:50.847Z","1.0.0-b0":"2015-03-09T07:56:50.847Z","1.0.0":"2015-07-25T08:52:05.873Z","1.0.1":"2015-07-27T12:41:40.380Z"}}}