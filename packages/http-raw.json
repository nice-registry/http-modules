{"name":"http-raw","version":"2.1.0","description":"expose the raw request data in an http server","main":"index.js","dependencies":{"through":"~2.2.7"},"devDependencies":{"tap":"~0.4.0","request":"~2.12.0"},"scripts":{"test":"tap test/*.js"},"repository":"https://github.com/substack/http-raw","homepage":"https://github.com/substack/http-raw","keywords":["http","raw","server","proxy"],"license":"MIT","readme":"# http-raw\n\nexpose the raw request data in an http server\n\n[![build status](https://secure.travis-ci.org/substack/http-raw.png)](http://travis-ci.org/substack/http-raw)\n\n# example\n\n``` js\nvar createServer = require('http-raw');\nvar through = require('through');\n\nvar server = createServer(function (req, res) {\n    if (req.method === 'GET') {\n        res.end('beep boop\\n');\n    }\n    else {\n        var bs = req.createRawBodyStream();\n        bs.write('HTTP/1.1 200 OK\\r\\n\\r\\n');\n        bs.pipe(upper()).pipe(bs)\n    }\n});\nserver.listen(7000);\n\nfunction upper () {\n    return through(function (buf) {\n        this.emit('data', String(buf).toUpperCase());\n    });\n}\n```\n\n```\n$ node example/server.js &\n$ nc localhost 7000\nPUT / HTTP/1.1\nHost: robots\n\nHTTP/1.1 200 OK\n\n\nbeep \nBEEP\nboop\nBOOP\n```\n\n# methods\n\n``` js\nvar createServer = require('http-raw')\n```\n\nThe http-raw api is exactly like the `http.createServer(cb)` api from core,\nexcept that 2 extra functions are available on the `req` objects from the\n`cb(req,res)` handler:\n\n## req.createRawStream()\n\nReturn a readable/writable stream `s`. `s` will emit all the raw data from the\nconnection, including the buffered header data without doing any parsing on the\ndata beforehand.\n\nWriting to `s` goes through to the underlying network socket without any\nadditional framing applied.\n\n## var s = req.createRawBodyStream()\n\nReturn a readable/writable stream `s`. `s` will emit the raw data from after the\nheaders have been parsed, including any framing without doing any parsing.\n\nWriting to `s` goes through to the underlying network socket without any\nadditional framing applied.\n\n# install\n\nWith [npm](https://npmjs.org) do:\n\n```\nnpm install http-raw\n```\n\n# license\n\nMIT\n","versions":[{"number":"0.0.0","date":"2012-12-14T07:20:10.056Z"},{"number":"0.0.1","date":"2012-12-15T02:45:26.766Z"},{"number":"0.0.2","date":"2012-12-15T03:09:19.006Z"},{"number":"0.0.3","date":"2012-12-15T06:52:05.058Z"},{"number":"0.1.0","date":"2012-12-15T09:18:16.928Z"},{"number":"0.2.0","date":"2012-12-15T10:24:15.522Z"},{"number":"1.0.0","date":"2012-12-17T03:11:41.297Z"},{"number":"1.1.0","date":"2012-12-17T08:54:49.123Z"},{"number":"2.0.0","date":"2013-03-19T05:12:11.248Z"},{"number":"2.0.1","date":"2013-03-19T05:17:03.794Z"},{"number":"2.1.0","date":"2013-03-19T06:25:17.843Z"}],"starsCount":2,"created":"2012-12-14T07:20:06.142Z","modified":"2017-04-07T12:41:44.446Z","lastPublisher":{"name":"substack","email":"mail@substack.net"},"owners":[{"name":"substack","email":"mail@substack.net"}],"other":{"_attachments":{},"_from":".","_id":"http-raw","_npmUser":{"name":"substack","email":"mail@substack.net"},"_npmVersion":"1.2.2","_rev":"2-77e5fc9595a2f01eecd91a05e93642a0","author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"directories":{"example":"example","test":"test"},"dist-tags":{"latest":"2.1.0"},"dist":{"shasum":"f36efe2514fff95d384be6f46684806712b8879a","tarball":"http://registry.npmjs.org/http-raw/-/http-raw-2.1.0.tgz"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"readmeFilename":"readme.markdown","time":{"modified":"2017-04-07T12:41:44.446Z","created":"2012-12-14T07:20:06.142Z","0.0.0":"2012-12-14T07:20:10.056Z","0.0.1":"2012-12-15T02:45:26.766Z","0.0.2":"2012-12-15T03:09:19.006Z","0.0.3":"2012-12-15T06:52:05.058Z","0.1.0":"2012-12-15T09:18:16.928Z","0.2.0":"2012-12-15T10:24:15.522Z","1.0.0":"2012-12-17T03:11:41.297Z","1.1.0":"2012-12-17T08:54:49.123Z","2.0.0":"2013-03-19T05:12:11.248Z","2.0.1":"2013-03-19T05:17:03.794Z","2.1.0":"2013-03-19T06:25:17.843Z"},"users":{"wenbing":true,"monolithed":true}}}