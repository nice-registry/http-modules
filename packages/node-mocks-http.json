{"name":"node-mocks-http","description":"Mock 'http' objects for testing Express routing functions","version":"1.6.3","homepage":"https://github.com/howardabrams/node-mocks-http","license":"MIT","keywords":["mock","stub","dummy","nodejs","js","testing","test","http","http mock"],"repository":"https://github.com/howardabrams/node-mocks-http","main":"./lib/http-mock.js","types":"./lib/index.d.ts","engines":{"node":">=0.6"},"dependencies":{"accepts":"^1.3.3","depd":"^1.1.0","fresh":"^0.3.0","merge-descriptors":"^1.0.1","methods":"^1.1.2","mime":"^1.3.4","net":"^1.0.2","parseurl":"^1.3.1","range-parser":"^1.2.0","type-is":"^1.6.14"},"devDependencies":{"@types/express":"^4.0.35","chai":"^3.5.0","eslint":"^3.13.1","gulp":"^3.9.1","gulp-eslint":"^3.0.1","gulp-istanbul":"^1.1.1","gulp-mocha":"^3.0.1","istanbul":"^0.4.5","mocha":"^3.2.0","run-sequence":"~1.2.2","sinon":"^1.17.7","sinon-chai":"^2.8.0"},"scripts":{"spec":"gulp spec","test":"gulp test","postversion":"npm publish && git push --follow-tags"},"gitHead":"8ad8e2cc2959b4df430b290fcb98a4aecf5c5663","versions":[{"number":"0.0.1","date":"2012-02-18T07:39:40.467Z"},{"number":"0.0.2","date":"2012-02-20T12:00:02.675Z"},{"number":"0.0.4","date":"2012-02-28T03:19:50.529Z"},{"number":"0.0.5","date":"2012-03-01T08:23:32.720Z"},{"number":"0.0.6","date":"2012-03-26T16:35:15.809Z"},{"number":"0.0.7","date":"2012-04-28T08:40:19.915Z"},{"number":"0.0.8","date":"2012-04-29T15:01:21.661Z"},{"number":"0.0.9","date":"2013-01-27T23:53:30.953Z"},{"number":"1.0.0","date":"2013-03-02T17:13:00.492Z"},{"number":"1.0.1","date":"2013-08-20T14:14:49.664Z"},{"number":"1.0.3","date":"2014-03-31T00:35:30.238Z"},{"number":"1.0.4","date":"2014-04-27T19:55:04.084Z"},{"number":"1.1.0","date":"2014-09-17T04:00:06.247Z"},{"number":"1.2.0","date":"2014-09-24T20:43:51.429Z"},{"number":"1.2.1","date":"2014-10-18T05:30:45.189Z"},{"number":"1.2.2","date":"2014-12-29T05:14:19.965Z"},{"number":"1.2.3","date":"2015-01-06T21:15:20.974Z"},{"number":"1.2.4","date":"2015-01-16T01:06:36.134Z"},{"number":"1.2.5","date":"2015-03-05T04:40:35.142Z"},{"number":"1.2.6","date":"2015-03-20T18:46:54.963Z"},{"number":"1.2.7","date":"2015-03-24T07:11:38.705Z"},{"number":"1.3.0","date":"2015-04-04T22:22:15.090Z"},{"number":"1.4.0","date":"2015-04-11T15:57:04.831Z"},{"number":"1.4.1","date":"2015-04-14T12:26:15.627Z"},{"number":"1.4.2","date":"2015-04-30T02:58:02.701Z"},{"number":"1.4.3","date":"2015-06-03T04:16:58.225Z"},{"number":"1.4.4","date":"2015-09-21T22:01:15.009Z"},{"number":"1.5.0","date":"2015-10-28T05:05:38.914Z"},{"number":"1.5.1","date":"2015-11-21T22:30:34.862Z"},{"number":"1.5.2","date":"2016-03-07T00:35:38.698Z"},{"number":"1.5.3","date":"2016-08-11T21:08:49.719Z"},{"number":"1.5.4","date":"2016-09-14T04:45:57.304Z"},{"number":"1.5.5","date":"2016-12-10T22:27:11.569Z"},{"number":"1.5.6","date":"2017-01-16T01:42:32.754Z"},{"number":"1.6.1","date":"2017-02-20T02:25:23.712Z"},{"number":"1.6.2","date":"2017-05-15T05:45:01.701Z"},{"number":"1.6.3","date":"2017-06-16T03:33:12.108Z"}],"readme":"[![node-mocks-http logo][nmh-logo]][nmh-url]\n---\n[![NPM version][npm-badge]][npm-url]\n[![Build Status][travis-badge]][travis-url]\n[![Gitter chat][gitter-badge]][gitter-url]\n\n\nMock 'http' objects for testing [Express][express-url]\nrouting functions, but could be used for testing any\n[Node.js][node-url] web server applications that have\ncode that requires mockups of the `request` and `response` objects.\n\n## Installation\n\nThis project is available as a\n[NPM package][npm-url].\n\n```bash\n$ npm install --save-dev node-mocks-http\n```\n\n> Our example includes `--save-dev` based on the assumption that **node-mocks-http** will be used as a development dependency..\n\nAfter installing the package include the following in your test files:\n\n```js\nvar httpMocks = require('node-mocks-http');\n```\n\n## Usage\n\nSuppose you have the following Express route:\n\n```js\napp.get('/user/:id', routeHandler);\n```\n\nAnd you have created a function to handle that route's call:\n\n```js\nvar routeHandler = function( request, response ) { ... };\n```\n\nYou can easily test the `routeHandler` function with some code like\nthis using the testing framework of your choice:\n\n```js\nexports['routeHandler - Simple testing'] = function(test) {\n\n    var request  = httpMocks.createRequest({\n        method: 'GET',\n        url: '/user/42',\n        params: {\n          id: 42\n        }\n    });\n\n    var response = httpMocks.createResponse();\n\n    routeHandler(request, response);\n\n    var data = JSON.parse( response._getData() );\n    test.equal(\"Bob Dog\", data.name);\n    test.equal(42, data.age);\n    test.equal(\"bob@dog.com\", data.email);\n\n    test.equal(200, response.statusCode );\n    test.ok( response._isEndCalled());\n    test.ok( response._isJSON());\n    test.ok( response._isUTF8());\n\n    test.done();\n\n};\n```\n\n## API\n### .createRequest()\n\n```\nhttpMocks.createRequest(options)\n```\n\nWhere options is an object hash with any of the following values:\n\noption | description | default value\n------ | ----------- | -------------\n`method`| request HTTP method | 'GET'\n`url` | request URL | ''\n`originalUrl` | request original URL | `url`\n`path` | request path | ''\n`params` | object hash with params | {}\n`session` | object hash with session values | `undefined`\n`cookies` | object hash with request cookies | {}\n`signedCookies` | object hash with signed cookies | `undefined`\n`headers` | object hash with request headers | {}\n`body` | object hash with body | {}\n`query` | object hash with query values | {}\n`files` | object hash with values | {}\n\n### .createResponse()\n\n```js\nhttpMocks.createResponse(options)\n```\n\nWhere options is an object hash with any of the following values:\n\noption | description | default value\n------ | ----------- | -------------\n`eventEmitter` | event emitter used by `response` object | `mockEventEmitter`\n`writableStream`  | writable stream used by `response` object | `mockWritableStream`\n`req` | Request object being responded to | null\n\n> NOTE: The out-of-the-box mock event emitter included with `node-mocks-http` is\nnot a functional event emitter and as such does not actually emit events. If you\nwish to test your event handlers you will need to bring your own event emitter.\n\n> Here's an example:\n\n```js\nvar httpMocks = require('node-mocks-http');\nvar res = httpMocks.createResponse({\n  eventEmitter: require('events').EventEmitter\n});\n\n// ...\n  it('should do something', function(done) {\n    res.on('end', function() {\n      assert.equal(...);\n      done();\n    });\n  });\n// ...\n```\n\n### .createMocks()\n\n```js\nhttpMocks.createMocks(reqOptions, resOptions)\n```\n\nMerges `createRequest` and `createResponse`. Passes given options object to each\nconstructor. Returns an object with properties `req` and `res`.\n\n## Design Decisions\n\nWe wanted some simple mocks without a large framework.\n\nWe also wanted the mocks to act like the original framework being\nmocked, but allow for setting of values before calling and inspecting\nof values after calling.\n\n## For Developers\n\nWe are looking for more volunteers to bring value to this project,\nincluding the creation of more objects from the\n[HTTP module][node-http-module-url].\n\nThis project doesn't address all features that must be\nmocked, but it is a good start. Feel free to send pull requests,\nand a member of the team will be timely in merging them.\n\nIf you wish to contribute please read our [Contributing Guidelines](CONTRIBUTING.md).\n\n\n## Release Notes\n\nMost releases fix bugs with our mocks or add features similar to the\nactual `Request` and `Response` objects offered by Node.js and extended\nby Express.\n\nSee the [Release History](HISTORY.md) for details.\n\n[release-notes]: https://github.com/howardabrams/node-mocks-http/releases\n[release-v1.4.4]: https://github.com/howardabrams/node-mocks-http/releases/tag/v1.4.4\n\nLicense\n---\n\nLicensed under [MIT](https://github.com/howardabrams/node-mocks-http/blob/master/LICENSE).\n\n[nmh-logo]: https://raw.githubusercontent.com/wiki/howardabrams/node-mocks-http/images/nmh-logo-200x132.png\n[nmh-url]: https://github.com/howardabrams/node-mocks-http\n\n[npm-badge]: https://badge.fury.io/js/node-mocks-http.png\n[npm-url]: https://www.npmjs.com/package/node-mocks-http\n\n[travis-badge]: https://travis-ci.org/howardabrams/node-mocks-http.svg?branch=master\n[travis-url]: https://travis-ci.org/howardabrams/node-mocks-http\n\n[gitter-badge]: https://badges.gitter.im/howardabrams/node-mocks-http.png\n[gitter-url]: https://gitter.im/howardabrams/node-mocks-http\n\n[express-url]: http://expressjs.com/\n[node-url]: http://www.nodejs.org\n[node-http-module-url]: http://nodejs.org/docs/latest/api/http.html\n","starsCount":8,"created":"2012-02-18T07:39:39.063Z","modified":"2017-06-16T03:33:12.108Z","lastPublisher":{"name":"howardabrams","email":"howard.abrams@gmail.com"},"owners":[{"name":"howardabrams","email":"howard@howardabrams.com"},{"name":"xiaoquqi","email":"xiaoquqi@gmail.com"},{"name":"alanjames1987","email":"alanjames1987@gmail.com"},{"name":"johnnyestilles","email":"johnny.estilles@agentia.asia"}],"other":{"_attachments":{},"_from":".","_id":"node-mocks-http","_nodeVersion":"4.2.6","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-mocks-http-1.6.3.tgz_1497583991992_0.8953819822054356"},"_npmUser":{"name":"howardabrams","email":"howard.abrams@gmail.com"},"_npmVersion":"3.5.2","_rev":"8-87a0d9357b76e56205ee995cb85b6ddb","_shasum":"bfd9992001df8faca28bab43e7652edb1f9eb229","author":{"name":"Howard Abrams","email":"howard.abrams@gmail.com","url":"http://www.github.com/howardabrams"},"bugs":{"url":"https://github.com/howardabrams/node-mocks-http/issues"},"contributors":[{"name":"Howard Abrams","email":"howard.abrams@gmail.com","url":"https://github.com/howardabrams"},{"name":"Johnny Estilles","email":"johnny.estilles@agentia.asia","url":"https://github.com/JohnnyEstilles"}],"directories":{},"dist-tags":{"latest":"1.6.3"},"dist":{"shasum":"bfd9992001df8faca28bab43e7652edb1f9eb229","tarball":"https://registry.npmjs.org/node-mocks-http/-/node-mocks-http-1.6.3.tgz"},"maintainers":[{"name":"howardabrams","email":"howard@howardabrams.com"},{"name":"xiaoquqi","email":"xiaoquqi@gmail.com"},{"name":"alanjames1987","email":"alanjames1987@gmail.com"},{"name":"johnnyestilles","email":"johnny.estilles@agentia.asia"}],"readmeFilename":"README.md","time":{"modified":"2017-06-16T03:33:12.108Z","created":"2012-02-18T07:39:39.063Z","0.0.1":"2012-02-18T07:39:40.467Z","0.0.2":"2012-02-20T12:00:02.675Z","0.0.4":"2012-02-28T03:19:50.529Z","0.0.5":"2012-03-01T08:23:32.720Z","0.0.6":"2012-03-26T16:35:15.809Z","0.0.7":"2012-04-28T08:40:19.915Z","0.0.8":"2012-04-29T15:01:21.661Z","0.0.9":"2013-01-27T23:53:30.953Z","1.0.0":"2013-03-02T17:13:00.492Z","1.0.1":"2013-08-20T14:14:49.664Z","1.0.3":"2014-03-31T00:35:30.238Z","1.0.4":"2014-04-27T19:55:04.084Z","1.1.0":"2014-09-17T04:00:06.247Z","1.2.0":"2014-09-24T20:43:51.429Z","1.2.1":"2014-10-18T05:30:45.189Z","1.2.2":"2014-12-29T05:14:19.965Z","1.2.3":"2015-01-06T21:15:20.974Z","1.2.4":"2015-01-16T01:06:36.134Z","1.2.5":"2015-03-05T04:40:35.142Z","1.2.6":"2015-03-20T18:46:54.963Z","1.2.7":"2015-03-24T07:11:38.705Z","1.3.0":"2015-04-04T22:22:15.090Z","1.4.0":"2015-04-11T15:57:04.831Z","1.4.1":"2015-04-14T12:26:15.627Z","1.4.2":"2015-04-30T02:58:02.701Z","1.4.3":"2015-06-03T04:16:58.225Z","1.4.4":"2015-09-21T22:01:15.009Z","1.5.0":"2015-10-28T05:05:38.914Z","1.5.1":"2015-11-21T22:30:34.862Z","1.5.2":"2016-03-07T00:35:38.698Z","1.5.3":"2016-08-11T21:08:49.719Z","1.5.4":"2016-09-14T04:45:57.304Z","1.5.5":"2016-12-10T22:27:11.569Z","1.5.6":"2017-01-16T01:42:32.754Z","1.6.1":"2017-02-20T02:25:23.712Z","1.6.2":"2017-05-15T05:45:01.701Z","1.6.3":"2017-06-16T03:33:12.108Z"},"users":{"knownasilya":true,"howardabrams":true,"atrioom":true,"focusaurus":true,"dbendavid":true,"dwayneford":true,"ivan.marquez":true,"fengbeijing":true}}}