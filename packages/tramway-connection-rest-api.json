{"name":"tramway-connection-rest-api","version":"1.1.7","description":"A pre-made RestAPIConnection using http and rest principles to manipulate data","license":"MIT","repository":{"type":"git","url":"git+https://gitlab.com/tramwayjs/tramway-connection-rest-api.git"},"main":"index.js","scripts":{"prepublish":"npm run compile","compile":"gulp distribute","test":"gulp distribute && mocha tests"},"devDependencies":{"babel-plugin-transform-flow-strip-types":"^6.14.0","babel-preset-es2015-node6":"^0.3.0","gulp":"~3.9.1","gulp-babel":"^6.1.2","gulp-sourcemaps":"~1.9.1","mocha":"^3.2.0","tramway-core-testsuite":"^1.2.0"},"dependencies":{"tramway-core":"^1.0.0","tramway-core-connection":"^1.0.0","tramway-core-router":"^1.2.0"},"gitHead":"9d1bf57e792d458029fc6931681593d016c052ca","homepage":"https://gitlab.com/tramwayjs/tramway-connection-rest-api#README","versions":[{"number":"1.0.0","date":"2017-01-16T03:55:33.314Z"},{"number":"1.1.0","date":"2017-01-16T07:09:40.517Z"},{"number":"1.1.1","date":"2017-01-16T07:33:20.267Z"},{"number":"1.1.2","date":"2017-02-06T02:34:58.593Z"},{"number":"1.1.3","date":"2017-02-12T19:13:17.043Z"},{"number":"1.1.4","date":"2017-02-12T19:32:02.513Z"},{"number":"1.1.5","date":"2017-02-12T21:05:17.205Z"},{"number":"1.1.6","date":"2017-04-30T20:54:03.645Z"},{"number":"1.1.7","date":"2017-05-14T05:04:17.748Z"}],"readme":"Tramway RestAPIConnection is a simple Connection add-on to simplify the process of reading APIs from an external client built with Node's built-in http module.\r\n\r\n# Installation:\r\n1. `npm install tramway-connection-rest-api --save`\r\n\r\n# Example project\r\nhttps://gitlab.com/tramwayjs/tramway-connection-example\r\n\r\n# Documentation\r\n\r\n## Recommended Folder Structure in addition to Tramway\r\n- config\r\n- connections\r\n- models\r\n\r\n## RestAPIConnection\r\nThe `RestAPIConnection` is a derived `Connection` which follows the same interface.\r\n\r\n### Configuration parameters\r\n| Parameter | Default | Usage |\r\n| --- | --- | --- |\r\n| host | Uses `ServerIPResolverService` to get host machine's IP | Source of API, use it when you have a direct accessible path |\r\n| port | `8080` | Port API is on |\r\n| path | `\"/\"` | Path from host that resource is on |\r\n| respondAsText | false | Defaults to returning an object, this override will return the response as is from the buffer |\r\n| headers | undefined | Indicates what headers to use with the request. Note that for a standard API that will perform POST and PUT requests with a JSON object, it is recommended to use the following as part of your headers: ```{\"content-type\": \"application/json; charset=utf-8\"}```. |\r\n\r\n## Getting started\r\nIt is recommended to make a config file with the API's core data and make an extension class to handle it before injecting that extension class into the model to work with the rest of Tramway's built-in features. The alternative to the extension class is calling the config parameters with the model every time the model is used instead of just importing the wrapper connection to the model.\r\n\r\nIn your config folder add a file after the name of your API.\r\n\r\nyourapi.js:\r\n```\r\nexport default {\r\n    \"host\": \"127.0.0.1\",\r\n    \"port\": 8080,\r\n    \"path\": \"yourresourcepath\",\r\n    \"respondAsText\": false,\r\n    \"headers\": {\"content-type\": \"application/json; charset=utf-8\"}\r\n};\r\n```\r\n\r\nNext up, the wrapper `Connection` is simple enough:\r\n\r\nYourAPIWrapperConnection.js:\r\n```\r\nimport RestAPIConnection from 'tramway-connection-rest-api';\r\nimport options from '../config/yourapi.js';\r\n\r\n/**\r\n * @export\r\n * @class YourAPIWrapperConnection\r\n * @extends {RestAPIConnection}\r\n */\r\nexport default class YourAPIWrapperConnection extends RestAPIConnection {\r\n    constructor() {\r\n        super(options);\r\n    }\r\n}\r\n```\r\n\r\nAnd then to get the most of it, make the `Model` class. Make sure you have an entity as well.\r\n\r\nYourAPIModel.js:\r\n```\r\nimport {Model} from 'tramway-core';\r\nimport ExampleAPIWrapperConnection from '../connections/ExampleAPIWrapperConnection';\r\nimport TestEntity from '../entities/TestEntity';\r\n\r\nexport default class TestModel extends Model {\r\n\r\n    /**\r\n     * Creates an instance of TestModel.\r\n     * \r\n     * @param {TestEntity} item\r\n     * \r\n     * @memberOf TestModel\r\n     */\r\n    constructor(item) {\r\n        if (!item || !item instanceof TestEntity) {\r\n            item = new TestEntity();\r\n        }\r\n        super(new ExampleAPIWrapperConnection(), item);\r\n    }\r\n\r\n    /**\r\n     * @returns {Number} id\r\n     * \r\n     * @memberOf TestModel\r\n     */\r\n    getId() {\r\n        return this.entity.getId();\r\n    }\r\n\r\n    /**\r\n     * @param {Number} id\r\n     * @returns {Model}\r\n     * \r\n     * @memberOf TestModel\r\n     */\r\n    setId(id) {\r\n        this.entity.setId(id);\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nIn terms of set up, that's it. You can now use your Model in the Controller just as you would with any connection and get the same experience as with other connections.\r\n\r\nNote that not all of the Connection's core functions will be available at this time but here's a rundown of what you have.\r\n\r\n## Exposed Methods with this Library\r\n\r\n### Connection\r\n\r\n| Function | Availability |\r\n| ----- | ----- |\r\n| ```getItem(id: any, cb: function(Error, Object))``` | Available |\r\n| ```getItems(ids: any[], cb: function(Error, Object[]))``` | Available |\r\n| ```findItems(conditions: string/Object, cb: function(Error, Object[]))``` | To come, will convert conditions to query string |\r\n| ```hasItem(id: any, cb: function(Error, boolean))``` | Available, but relies on the endpoint supporting HEAD http method. |\r\n| ```hasItems(ids : any[], cb: function(Error, boolean))``` | Available, but relies on the endpoint supporting HEAD http method. |\r\n| ```countItems(conditions: any, cb: function(Error, number))``` | Not yet available |\r\n| ```createItem(item: Entity/Object, cb: function(Error, Object))``` | Available |\r\n| ```updateItem(id: any, item: Entity/Object, cb: function(Error, Object))``` | Available |\r\n| ```deleteItem(id: any, cb: function(Error, Object))``` | Available |\r\n| ```deleteItems(ids : any[], cb: function(Error, Object[]))``` | Available |\r\n| ```query(query: string/Object, values: Object, cb: function(Error, Object[]))``` | Not available, use findItems when available |\r\n\r\n### Model\r\n\r\n| Function | Usaability |\r\n| --- | --- |\r\n| ```updateEntity(Object)``` | Usable |\r\n| ```exists(cb: function(Error, boolean))``` | Usable as long as API utilizes HEAD method |\r\n| ```get(cb: function(Error, Object))``` | Usable |\r\n| ```getAll(cb: function(Error, Object[]))``` | Usable |\r\n| ```create(cb: function(Error, Object))``` | Usable |\r\n| ```update(cb: function(Error, Object))``` | Usable |\r\n| ```delete(cb: function(Error, Object))``` | Usable |\r\n| ```find(condtions: string/Object, cb: function(Error, Object[]))``` | Not yet Usable |\r\n| ```getMany(ids: any[], cb: function(Error, Object[]))``` | Usable |\r\n| ```count(conditions, cb: function(Error, number))``` | Not yet Usable |\r\n\r\n## Services\r\nThe API suite provides a new `ServerIPResolverService` to get the IP address of the host machine. \r\n\r\nTo use it, import the class and use the static `getIp` method.\r\n\r\n```\r\nimport {services} from 'tramway-connection-rest-api`;\r\nlet {ServerIPResolverService} = services;\r\n```\r\n\r\nTo use it:\r\n\r\n```\r\nlet ip = ServerIPResolverService.getIp();\r\n```","created":"2017-01-16T03:55:33.314Z","modified":"2017-05-14T05:04:17.748Z","lastPublisher":{"name":"julianwolfe","email":"juliancwolfe@gmail.com"},"owners":[{"name":"julianwolfe","email":"juliancwolfe@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"tramway-connection-rest-api","_nodeVersion":"7.6.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/tramway-connection-rest-api-1.1.7.tgz_1494738256854_0.44628654862754047"},"_npmUser":{"name":"julianwolfe","email":"juliancwolfe@gmail.com"},"_npmVersion":"4.1.2","_rev":"9-ce75b95115496a49490331a8e25eda30","_shasum":"76d57f7fdcfccc8ff6d24cd9f87c51f4fce53738","author":{"name":"Julian Wolfe"},"bugs":{"url":"https://gitlab.com/tramwayjs/tramway-connection-rest-api/issues?label_name%5B%5D=bug"},"directories":{},"dist-tags":{"latest":"1.1.7"},"dist":{"shasum":"76d57f7fdcfccc8ff6d24cd9f87c51f4fce53738","tarball":"https://registry.npmjs.org/tramway-connection-rest-api/-/tramway-connection-rest-api-1.1.7.tgz"},"maintainers":[{"name":"julianwolfe","email":"juliancwolfe@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-05-14T05:04:17.748Z","created":"2017-01-16T03:55:33.314Z","1.0.0":"2017-01-16T03:55:33.314Z","1.1.0":"2017-01-16T07:09:40.517Z","1.1.1":"2017-01-16T07:33:20.267Z","1.1.2":"2017-02-06T02:34:58.593Z","1.1.3":"2017-02-12T19:13:17.043Z","1.1.4":"2017-02-12T19:32:02.513Z","1.1.5":"2017-02-12T21:05:17.205Z","1.1.6":"2017-04-30T20:54:03.645Z","1.1.7":"2017-05-14T05:04:17.748Z"}}}