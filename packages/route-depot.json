{"name":"route-depot","version":"1.4.1","description":"Making it easy to register routes for your http server!","dependencies":{"async":"~1.5.2","lodash":"^4.15.0","underscore.string":"3.3.4"},"repository":"https://github.com/rezen/route-depot","devDependencies":{"sinon":"^1.17.3","mocha":"^2.2.4","gulp":"^3.8.11","gulp-buffer":"0.0.2","gulp-jscs":"^1.6.0","gulp-jshint":"^1.10.0","gulp-notify":"^2.2.0","gulp-notify-growl":"1.0.2","gulp-watch":"^4.2.4","jshint-stylish":"^1.0.2"},"keywords":["framework","http","router","controller","web","depot"],"engines":{"node":">=4.0.0"},"scripts":{"test":"mocha test/"},"license":"MIT","gitHead":"2e7eaf2db0e49b8dbc7b3cda3f0297cbd380565b","homepage":"https://github.com/rezen/route-depot#readme","versions":[{"number":"0.0.1","date":"2016-04-21T19:20:18.734Z"},{"number":"0.0.2","date":"2016-04-21T21:25:47.759Z"},{"number":"0.1.2","date":"2016-04-26T22:30:05.635Z"},{"number":"0.1.3","date":"2016-04-29T16:51:16.111Z"},{"number":"0.2.0","date":"2016-05-02T23:26:36.651Z"},{"number":"0.2.1","date":"2016-05-02T23:43:29.496Z"},{"number":"1.1.0","date":"2016-08-08T20:53:45.680Z"},{"number":"1.2.0","date":"2016-08-10T00:11:40.493Z"},{"number":"1.3.0","date":"2016-08-15T20:33:20.472Z"},{"number":"1.3.1","date":"2016-08-15T20:39:10.025Z"},{"number":"1.4.0","date":"2016-09-15T21:56:31.308Z"},{"number":"1.4.1","date":"2016-09-15T22:02:41.567Z"}],"readme":"## route-depot\n[![NPM Version][npm-image]][npm-url] <br />\n\n## About\nA number of http routers adding routes immediately attach to the router which means \nyou can't add routes out of order. The route depot allows you to specify the priortity, \nas well as have an info bank of all the routes that can be filtered, decorated,\nand/or wrap the request handlers. It was originally designed to deal with the pain points\nof registering controllers and ensuring contexts are maintained.\n\n\n## Install\n`npm install route-depot`\n\n\n## Example\n```js\n'use strict';\n\nconst express    = require('express');\nconst RouteDepot = require('route-depot');\n\nconst depot = RouteDepot.express();\nconst warehouse = RouteDepot.warehouse();\n\ndepot.plugin('route', function(route) {\n  return route;\n});\n\n// Handy plugin that allows us to add\n// controller before methods to middlewares\ndepot.plugin('attach', function(route) {\n  if (!route.isController) {\n    return route;\n  }\n\n  const ctrl = route.context;\n\n  if (ctrl.before) {\n    route.middleware.push(\n      ctrl.before.bind(ctrl)\n    );\n  }\n\n  return route;\n});\n\nconst Ctrl = {\n  name: '2-B-Or-Not-2-B',\n  before: function(req, res, next) {\n    console.log('before-b');\n    next();\n  },\n  getB: function(req, res) {\n    console.log(this);\n    res.json(this);\n  },\n  getAllCats : function(req, res) {\n    res.json({d: ['fluffy', 'mittens']})\n  },\n  routes : {\n    'GET  /b' : 'getB',\n    'GET /cats' : 'getAllCats'\n  }\n}\n\ndepot.controller('/', Ctrl);\n\ndepot.get('/', function(req, res) {\n  res.send('I am root');\n});\n\ndepot.get('/single', function(req, res) {\n  res.send('If yur not first yur last!');\n});\n\ndepot.get('/single', function(req, res) {\n  res.send('I be first!');\n}, {priority: 1});\n\nconst app = express();\n\ndepot.couple(app);\n\napp.listen(3000, function () {\n  console.log('Example app listening on port 3000!');\n});\n\n\n````\n\nWhat good is a route-depot without a place to also store routes? \nFor working with middleware you can use the warehouse!\n\n```js\n'use strict';\n\nconst express      = require('express');\nconst RouteDepot   = require('route-depot');\nconst chromelogger = require('chromelogger');\n\nconst depot = RouteDepot.express();\nconst warehouse = RouteDepot.warehouse();\n\nwarehouse.add('dev', [\n  function test(a) {\n    return function(req, res, next) {\n      console.log('TEST-MW');\n      next();\n    };\n  },\n  \n  chromelogger.middleware,\n\n  function noCache(req, res, next) {\n    console.log('no-cache!');\n    res.setHeader('Cache-Control', 'no-cache, no-store, must-revalidate');\n    res.setHeader('Pragma', 'no-cache'); // HTTP 1.0.\n    res.setHeader('Expires', '0'); // Pro\n    next();\n  }\n]);\n\nwarehouse.add('acl', function(group) {\n    return function(req, res, next) { \n      if (req.user.group !== group) {\n        return res.send(401, 'You are not a member of the appropriate group');\n      }\n\n      next();\n    };\n});\n\nconst app    = express();\nconst router = express.Router();\n\nconst mwDev = warehouse.get('dev');\nconst wares = warehouse.weld('dev-friends', ['dev', 'acl:friends']);\n\nwarehouse.couple(wares, router);\n\napp.get('/', function(req, res) {\n  res.send('yay');\n});\n\napp.use('/', router);\n\napp.listen(3000, function () {\n  console.log('Example app listening on port 3000!');\n});\n\n\n```\n\n[npm-image]: https://img.shields.io/npm/v/route-depot.svg\n[npm-url]: https://npmjs.org/package/route-depot","created":"2016-04-21T19:20:18.734Z","modified":"2016-09-15T22:02:41.567Z","lastPublisher":{"name":"rezen","email":"an2dres5m@gmail.com"},"owners":[{"name":"rezen","email":"an2dres5m@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"route-depot","_nodeVersion":"6.3.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/route-depot-1.4.1.tgz_1473976961339_0.7104737332556397"},"_npmUser":{"name":"rezen","email":"an2dres5m@gmail.com"},"_npmVersion":"3.10.3","_rev":"1-40b1c8fb76e992b5d82ba7f022eb4396","_shasum":"d4949646fb44b32a893b4325f3631760750cd154","author":{"name":"Andres Hermosilla","email":"an2dres5m@gmail.com"},"bugs":{"url":"https://github.com/rezen/route-depot/issues"},"directories":{},"dist-tags":{"latest":"1.4.1"},"dist":{"shasum":"d4949646fb44b32a893b4325f3631760750cd154","tarball":"http://registry.npmjs.org/route-depot/-/route-depot-1.4.1.tgz"},"maintainers":[{"name":"rezen","email":"an2dres5m@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-09-15T22:02:41.567Z","created":"2016-04-21T19:20:18.734Z","0.0.1":"2016-04-21T19:20:18.734Z","0.0.2":"2016-04-21T21:25:47.759Z","0.1.2":"2016-04-26T22:30:05.635Z","0.1.3":"2016-04-29T16:51:16.111Z","0.2.0":"2016-05-02T23:26:36.651Z","0.2.1":"2016-05-02T23:43:29.496Z","1.1.0":"2016-08-08T20:53:45.680Z","1.2.0":"2016-08-10T00:11:40.493Z","1.3.0":"2016-08-15T20:33:20.472Z","1.3.1":"2016-08-15T20:39:10.025Z","1.4.0":"2016-09-15T21:56:31.308Z","1.4.1":"2016-09-15T22:02:41.567Z"}}}