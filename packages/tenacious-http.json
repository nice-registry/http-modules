{"name":"tenacious-http","version":"0.1.3","description":"a streaming http connection which will attempt to reconnect whenever the stream lost","main":"tenacious-http","keywords":["streaming","http","reconnect"],"repository":"https://github.com/LocalResponse/tenacious","dependencies":{"q":"","monkey-patcher":""},"readme":"#TenaciousHttp\n\nThis library creates a streaming node Http connection which will automatically attempt recover from disconnect events.\n\nNote that this module is promise based (via the Q library) and event based (via the EventEmitter)\n\n##Prerequisites\n- node\n\n##Install\n- npm install tenacious-http\n- `require('tenacious-http');`\n\n##Use\n###create(host, port, header, initFunction)\n    //create a tenaciousHttp instance via the static factory\n    var tenacious = Tenacious.create('HTTP_HOST', HOST_PORT, HTTP_HEADER_OBJECT, INIT_FUNCTION [optional]);\n###SOCKET_TIMEOUT\nSOCKET_TIMEOUT is a static variable.\nIf there is no activity between the http connection and the client for SOCKET_TIME (in ms),\nthen the connection is closed and 'recover()' is called.\nIf you want there to be no timeout then set SOCKET_TIMEOUT to 0.\nThe SOCKET_TIMEOUT defaults to 60 seconds.\nA timeout event will be emitted when a timeout occurs.\n\n    Tenacious.SOCKET_TIMEOUT = 30000; //changes the timeout to 30 seconds.\n    Tenacious.SOCKET_TIMEOUT = 0; //sets the socket to never timeout\n###start()\nStarts an http connection, returning a promise.\n\n    tenacious.start().then(\n        function() {\n            //successfully started\n        } , function(err) {\n            //start had error 'err'\n        });\n###stop(message [optional])\nStops the streaming http connection, returning a promise.\n\n    tenacious.stop().then(\n        function() {\n            //stopped successfully\n        }, function (err) {\n            //stop had error 'err'\n        });\n\n###write(message)\nWrites a messages to the host.\n\n    tenacious.write('message to write to the host');\n###recover()\nAttempts to reconnect the host, returning a promise.\ncall this when the for application level error cases.\n\n    tenacious.recover.then(\n        function() {\n            //successfully recovered/reconnected\n        }, function(err) {\n            //failed to recover\n        });\n###isWritable()\nReturns true if the state of the http connection is writable.\n    if(tenacious.isWritable()){\n        //tenacious.write('foo');  will work\n    }\n\n##events emitted\n\n###data(chunk, statusCode)\nEmits the data coming in to the Http connection, with its status code.\n\n###end(statusCode)\nEmits an end once the host sends an end to the http client, with its status code.\nNote that tenaciousHttp calls 'recover()' once it receives an end from the host.\n\n###timeout\nEmits when there was no data transferred over the underlying socket for the http connection\nover the specific timeout period (defaults to 60 seconds).\nNote that tenaciousHttp calls 'recover()' whenever a socket timeout occurs.\n\n###recovered(reason [optional])\nEmits after the recover call is successful.\nThe consumer should do any post connection work on this event.\n\n\n","versions":[{"number":"0.0.3","date":"2012-11-13T18:58:33.924Z"},{"number":"0.0.4","date":"2012-11-26T16:04:05.874Z"},{"number":"0.0.5","date":"2012-11-30T22:30:34.998Z"},{"number":"0.0.6","date":"2013-01-17T18:27:03.847Z"},{"number":"0.1.1","date":"2013-03-01T23:03:12.289Z"},{"number":"0.1.2","date":"2013-03-04T22:30:36.598Z"},{"number":"0.1.3","date":"2013-04-04T14:52:08.473Z"}],"created":"2012-11-13T18:58:33.219Z","modified":"2013-04-04T14:52:08.473Z","lastPublisher":{"name":"wforman099","email":"wforman099@gmail.com"},"owners":[{"name":"wforman099","email":"wforman099@gmail.com"}],"other":{"_attachments":{},"_id":"tenacious-http","_npmUser":{"name":"wforman099","email":"wforman099@gmail.com"},"_npmVersion":"1.1.59","_rev":"1-b1d8e0f0f8f414488a8d7880ee720f96","directories":{},"dist-tags":{"latest":"0.1.3"},"dist":{"shasum":"032c2dd2a77466217933877183c28886a3c7bac8","tarball":"http://registry.npmjs.org/tenacious-http/-/tenacious-http-0.1.3.tgz"},"maintainers":[{"name":"wforman099","email":"wforman099@gmail.com"}],"time":{"modified":"2013-04-04T14:52:08.473Z","created":"2012-11-13T18:58:33.219Z","0.0.3":"2012-11-13T18:58:33.924Z","0.0.4":"2012-11-26T16:04:05.874Z","0.0.5":"2012-11-30T22:30:34.998Z","0.0.6":"2013-01-17T18:27:03.847Z","0.1.1":"2013-03-01T23:03:12.289Z","0.1.2":"2013-03-04T22:30:36.598Z","0.1.3":"2013-04-04T14:52:08.473Z"}}}