{"name":"next-expose-http","version":"0.0.15","description":"The easy way to create custom request handlers for next.js","main":"index.js","files":["dist"],"bin":{"next-expose-http":"./dist/bin/index.js"},"scripts":{"compile":"gulp compile","test":"echo \"Error: no test specified\" && exit 1"},"license":"MIT","repository":"https://github.com/dimapaloskin/next-expose-http","dependencies":{"babel-core":"^6.18.2","babel-loader":"^6.2.8","babel-plugin-transform-async-to-generator":"^6.16.0","babel-plugin-transform-object-rest-spread":"^6.19.0","babel-plugin-transform-runtime":"^6.15.0","babel-preset-es2015":"^6.18.0","gulp":"^3.9.1","gulp-babel":"^6.1.2","gulp-cached":"^1.1.1","gulp-notify":"^2.2.0","mz":"^2.6.0"},"gitHead":"0843abc9eef3976ecf6b3d7b7614f749e8876898","homepage":"https://github.com/dimapaloskin/next-expose-http#readme","readme":"# next-expose-http\r\n\r\nIt provides an easy-to-use access to your next.js app server. Thus you may expand the basic functionality with http custom request handlers.\r\n\r\n# Installation\r\n\r\n```bash\r\nnpm install --save next-expose-http\r\n```\r\n\r\n# Ready-to-use example\r\n\r\nYou may see a [ready-to-use sample](https://github.com/dimapaloskin/next-expose-http-example) how to use next.js all together with express.\r\n\r\n# Usage example\r\n\r\nCreate a new next.js application exactly as you did it before.\r\n\r\n```bash\r\n $ mkdir my-next-project\r\n $ cd my-next-project\r\n $ next init\r\n```\r\n\r\nNow install a next-expose-http module.\r\n\r\n```bash\r\n $ npm i --save next-expose-http\r\n```\r\n\r\nCreate architecture of your api. It's rather easy - all you need is create an api folder containing an index.js file which is you api  entry point.\r\n\r\n```bash\r\n $ mkdir api\r\n $ touch api/index.js\r\n```\r\n\r\nApi entry point **must** be a function of two agruments (httpServer и prefix) and return promise.\r\n\r\napi/index.js\r\n\r\n```js\r\nexports.default = function(httpServer, apiPrefix) {\r\n\r\n httpServer.on('request', (req, res) => {\r\n  // do something \r\n });\r\n\r\n return new Promise((resolve) => {\r\n  resolve();\r\n });\r\n}\r\n```\r\n\r\nAs soon as your api setup is finished, you have to call the resolve function (or reject if setup is failed).\r\n\r\nNow open package.json of your project and edit the `dev` and `start` commands.\r\nJust change command `next` for `next-expose-http`. Thus `next dev -p 4000` operation will transform into `next-expose-http dev -p 4000` command.\r\n\r\n\r\nReady. Launch the app with the `npm run dev`.\r\n\r\n# Additional arguments\r\n\r\n`next-expose-http` supports additional arguments:\r\n\r\n`--prefix` (`api` by default) - url api prefix. All url that started from this prefix will be ignored by next.js and redirected to your api. Thus\r\n`http://localhost:300/api` and `http://localhost:300/api/users` will be proxied to your custom handler and will not get to the next.js handler.\r\n\r\n`--api-dir` (`api` by default) - directory containing your api. Must contain index.js file.\r\n\r\n#\r\n\r\n\r\nMIT © [Dmitry Pavlovsky](http://palosk.in)\r\n","versions":[{"number":"0.0.2","date":"2016-11-29T06:09:25.320Z"},{"number":"0.0.3","date":"2016-11-29T06:15:20.272Z"},{"number":"0.0.4","date":"2016-11-29T06:18:09.854Z"},{"number":"0.0.6","date":"2016-11-29T06:21:38.655Z"},{"number":"0.0.1","date":"2016-11-29T06:46:45.348Z"},{"number":"0.0.8","date":"2016-11-29T06:48:26.559Z"},{"number":"0.0.9","date":"2016-11-29T06:49:43.558Z"},{"number":"0.0.10","date":"2016-11-29T08:29:38.196Z"},{"number":"0.0.11","date":"2016-11-29T08:35:16.169Z"},{"number":"0.0.12","date":"2016-11-29T08:39:32.436Z"},{"number":"0.0.13","date":"2016-11-29T09:46:08.575Z"},{"number":"0.0.14","date":"2016-11-29T09:48:36.691Z"},{"number":"0.0.15","date":"2016-11-29T10:11:17.264Z"}],"starsCount":1,"created":"2016-11-29T06:09:25.320Z","modified":"2016-11-29T10:11:57.599Z","lastPublisher":{"name":"paloskin","email":"dima@paloskin.me"},"owners":[{"name":"paloskin","email":"dima@paloskin.me"}],"other":{"_attachments":{},"_from":".","_id":"next-expose-http","_nodeVersion":"6.5.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/next-expose-http-0.0.15.tgz_1480414275313_0.7643408935982734"},"_npmUser":{"name":"paloskin","email":"dima@paloskin.me"},"_npmVersion":"3.10.3","_rev":"16-343cc9275322531d5fca2b0d4bf22eff","_shasum":"14bbc49b21edbc06d42ee9f0b0ba6c6401b81b10","author":{"name":"Dima Paloskin","email":"dima@paloskin.me"},"bugs":{"url":"https://github.com/dimapaloskin/next-expose-http/issues"},"directories":{},"dist-tags":{"latest":"0.0.15"},"dist":{"shasum":"14bbc49b21edbc06d42ee9f0b0ba6c6401b81b10","tarball":"http://registry.npmjs.org/next-expose-http/-/next-expose-http-0.0.15.tgz"},"maintainers":[{"name":"paloskin","email":"dima@paloskin.me"}],"readmeFilename":"README.md","time":{"modified":"2016-11-29T10:11:57.599Z","created":"2016-11-29T06:09:25.320Z","0.0.2":"2016-11-29T06:09:25.320Z","0.0.3":"2016-11-29T06:15:20.272Z","0.0.4":"2016-11-29T06:18:09.854Z","0.0.6":"2016-11-29T06:21:38.655Z","0.0.1":"2016-11-29T06:46:45.348Z","0.0.8":"2016-11-29T06:48:26.559Z","0.0.9":"2016-11-29T06:49:43.558Z","0.0.10":"2016-11-29T08:29:38.196Z","0.0.11":"2016-11-29T08:35:16.169Z","0.0.12":"2016-11-29T08:39:32.436Z","0.0.13":"2016-11-29T09:46:08.575Z","0.0.14":"2016-11-29T09:48:36.691Z","0.0.15":"2016-11-29T10:11:17.264Z"},"users":{"paloskin":true}}}