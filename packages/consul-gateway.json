{"name":"consul-gateway","version":"0.0.4","description":"A gateway and http client for microservices using consul to discover other services and automatically load balance requests on found instances of each service, check if an instance is reachable by the service, and update the list of urls on changes to the","main":"index.js","scripts":{"test":"make test; echo"},"repository":"https://github.com/vectorhacker/consul-gateway","keywords":["consul","microservices","microservice","requests","balancer","load","gateway","api"],"license":"MIT","dependencies":{"asyncawait":"^1.0.6","consul":"^0.25.0","fibers":"^1.0.13","request":"^2.74.0","request-promise":"^4.1.1"},"devDependencies":{"jasmine":"^2.5.0","express":"^4.14.0","body-parser":"^1.15.2","jasmine-node":"^1.14.5","mocha":"^3.0.2"},"gitHead":"7c84175abb8a547691fcfa288942506774aa469a","homepage":"https://github.com/vectorhacker/consul-gateway#readme","versions":[{"number":"0.0.1","date":"2016-09-01T00:33:44.168Z"},{"number":"0.0.2","date":"2016-09-01T00:37:37.775Z"},{"number":"0.0.3","date":"2016-09-01T00:40:16.483Z"},{"number":"0.0.4","date":"2016-09-04T10:48:41.280Z"}],"readme":"Consul Gateway\n=========\n\nA consul connected load balancing http client gateway for microservice\napplications. Loosely based on Martin Fowlers slides on [ Testing Strategies in a Microservice Architecture ](http://martinfowler.com/articles/microservice-testing/).\n\nIt uses Consul to get the list of addresses to load balance across and makes\nrequests using the request-promise library. It can also automatically update\nthe address list in the background.\n\nUsage:\n\n```javascript\nconst Gateway = require(\"consul-gateway\");\n\nlet gateway = null;\n\nGateway({ service: \"name\", version: \"1.0\" })\n  .then(_gateway => {\n    gateway = _gateway;\n  })\n  .catch(console.error);\n\nfunction test() {\n  gateway.get(\"/test\", { json: false }) // json is true by default\n    .then(response => {\n    });\n}\n```\n\nMethods:\n\n`Gateway({ consul?: object <consul instance>, rpc?: fn() -> promise, name: string, version: string, refreshDelay?: number }) -> Promise<gateway>`\nThe version has to be a consul tag that perfectly matches the version string.\n\n`gateway.get(endpoint: string, options: request-promise options) -> Promise<any>`\n\n`gateway.get(endpoint: string, options: request-promise options) -> Promise<any>`\n\n`gateway.put(endpoint: string, body: any, options: request-promise options) -> Promise<any>`\n\n`gateway.post(endpoint: string, body: any, options: request-promise options) -> Promise<any>`\n","starsCount":1,"created":"2016-09-01T00:33:44.168Z","modified":"2016-09-04T10:48:41.280Z","lastPublisher":{"name":"vectorhacker","email":"martinezsantiagovictor@outlook.com"},"owners":[{"name":"vectorhacker","email":"martinezsantiagovictor@outlook.com"}],"other":{"_attachments":{},"_from":".","_id":"consul-gateway","_nodeVersion":"6.3.1","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/consul-gateway-0.0.4.tgz_1472986119235_0.0012270989827811718"},"_npmUser":{"name":"vectorhacker","email":"martinezsantiagovictor@outlook.com"},"_npmVersion":"3.10.3","_rev":"1-904a5834010b1b1cffb7ac7aca948d62","_shasum":"492af876cc168815a940a606d78a4a6a9824f6f5","author":{"name":"Victor A. Martinez Santiago","email":"martinezsantiagovictor@outlook.com"},"bugs":{"url":"https://github.com/vectorhacker/consul-gateway/issues"},"directories":{},"dist-tags":{"latest":"0.0.4"},"dist":{"shasum":"492af876cc168815a940a606d78a4a6a9824f6f5","tarball":"http://registry.npmjs.org/consul-gateway/-/consul-gateway-0.0.4.tgz"},"maintainers":[{"name":"vectorhacker","email":"martinezsantiagovictor@outlook.com"}],"readmeFilename":"README.md","time":{"modified":"2016-09-04T10:48:41.280Z","created":"2016-09-01T00:33:44.168Z","0.0.1":"2016-09-01T00:33:44.168Z","0.0.2":"2016-09-01T00:37:37.775Z","0.0.3":"2016-09-01T00:40:16.483Z","0.0.4":"2016-09-04T10:48:41.280Z"},"users":{"vectorhacker":true}}}