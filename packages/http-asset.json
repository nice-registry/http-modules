{"name":"http-asset","version":"1.0.1","description":"Class for fetching and caching an asset over http","main":"lib/HttpAsset.js","scripts":{"test":"npm run compile && mocha lib/**/__tests__/**/*.js","compile":"rm -rf lib && babel --optional runtime src/ -d lib/","prepublish":"npm run compile"},"keywords":["asset","http","etag","cache"],"license":"MIT","dependencies":{"babel-runtime":"^5.5.8","debug":"^2.2.0","lodash.defaults":"^3.1.1","node-fetch":"^1.3.0","spark-md5":"0.0.5","temp":"^0.8.3","ya-cache":"^1.0.0-alpha.2"},"devDependencies":{"babel":"^5.5.7","chai":"^3.0.0","mocha":"^2.2.5"},"repository":"https://github.com/spalger/http-asset","homepage":"https://github.com/spalger/http-asset#readme","gitHead":"114d7fa81c303d1694d8d21f970289171071bc16","versions":[{"number":"1.0.0-alpha.0","date":"2015-06-14T23:10:11.750Z"},{"number":"1.0.0-alpha.1","date":"2015-06-15T06:35:13.942Z"},{"number":"1.0.0","date":"2015-06-15T07:31:36.301Z"},{"number":"1.0.1","date":"2015-06-15T07:40:48.911Z"}],"readme":"# http-asset\n\nFetch, cache, and update some asset over http.\n\nUseful for managing things like lists of manifest that are maintained in a remote place, but you need regular access to locally. Designed for use by [esvm](https://www.npmjs.com/package/esvm) in order to download the list of available releases.\n\n## features\n\n - filesystem backed caching of asset\n - utilizes http caching headers\n - falls back to cache on failure (offline support I guess?)\n\n## example\n\n```js\nlet HttpAsset = require('http-asset')\nlet asset = HttpAsset('https://api.github.com/repos/elastic/elasticsearch/tags?per_page=100')\nasset.get().then(labels => {\n  // use labels\n})\n```\n\n## api\n\n---\n#### `new HttpAsset(url, options = {})`\n\nConstruct an asset object. `url` is where the asset should be downloaded from, options include:\n\n| option         | default                      | description                             |\n| ------         | -------                      | -----------                             |\n| `cache`        | `true`                       | Set to true to disable caching          |\n| `cacheStaleMs` | `1000 * 60 * 5` (5 minutes)  | number of milliseconds before we should check for an update |\n| `cacheDir`     | `os.tmpDir()`                | Directory to store this asset's cache   |\n| `cacheName`    | `md5(url)`                   | Filename for the cache                  |\n| `cachePath`    | `cacheDir` + `cacheName`     | Override the cache path for this asset  |\n\n---\n#### `asset.get() -> Promise`\n\nGet the body of a asset, returns a promise\n\n```js\nlet HttpAsset = require('http-asset')\nlet asset = HttpAsset('https://api.github.com/repos/elastic/elasticsearch/tags?per_page=100')\nasset.get().then(labels => {\n  // use labels\n})\n```\n\n---\n#### `asset.clear() -> Promise`\n\nClears the value of the asset\n\n```js\n// force a fetch\nasset.clear().then(function () {\n  return asset.get()\n})\n```","created":"2015-06-14T23:10:11.750Z","modified":"2015-06-15T07:40:48.911Z","lastPublisher":{"name":"spalger","email":"email@spalger.com"},"owners":[{"name":"spalger","email":"email@spalger.com"}],"other":{"_attachments":{},"_from":".","_id":"http-asset","_nodeVersion":"0.12.4","_npmUser":{"name":"spalger","email":"email@spalger.com"},"_npmVersion":"2.10.1","_rev":"1-1fe749eb10d989c405cbb5c565ad48c3","_shasum":"54738e6161081b60dcd038ed4d8362cfc29f695c","author":{"name":"Spencer Alger","email":"email@spalger.com"},"bugs":{"url":"https://github.com/spalger/http-asset/issues"},"directories":{},"dist-tags":{"latest":"1.0.1"},"dist":{"shasum":"54738e6161081b60dcd038ed4d8362cfc29f695c","tarball":"http://registry.npmjs.org/http-asset/-/http-asset-1.0.1.tgz"},"maintainers":[{"name":"spalger","email":"email@spalger.com"}],"readmeFilename":"README.md","time":{"modified":"2015-06-15T07:40:48.911Z","created":"2015-06-14T23:10:11.750Z","1.0.0-alpha.0":"2015-06-14T23:10:11.750Z","1.0.0-alpha.1":"2015-06-15T06:35:13.942Z","1.0.0":"2015-06-15T07:31:36.301Z","1.0.1":"2015-06-15T07:40:48.911Z"}}}