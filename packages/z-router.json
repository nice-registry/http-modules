{"name":"z-router","version":"1.2.1","description":"method and pathname router for node http server.","main":"z-router.js","scripts":{"test":"node test.js"},"repository":"https://github.com/ztrehagem/node-z-router","license":"ISC","homepage":"https://github.com/ztrehagem/node-z-router#readme","gitHead":"0d252cfac6d19fabb878d64cde6c11685f031397","versions":[{"number":"0.0.1","date":"2016-08-31T18:25:38.221Z"},{"number":"1.0.0","date":"2016-09-01T06:06:07.146Z"},{"number":"1.1.0","date":"2016-09-03T08:25:38.724Z"},{"number":"1.2.0","date":"2016-09-06T06:00:25.380Z"},{"number":"1.2.1","date":"2016-09-06T06:13:19.973Z"}],"readme":"z-router\n==\n\nMost of web applications need to resolve a pair of **method** (`GET`, `POST` or...) and **pathname** (starts with `/`) into **controller path** and **action name** with **params**. (like the Ruby on Rails!)\n\nFor node http server, then, this \"z-router\" resolve them simply. ;)\n\n## Installation\n```sh\n$ npm install z-router\n```\n\n## Usage\n\n#### Initialize\n\n```js\nvar ZRouter = require('z-router');\nvar router = ZRouter(routes, options);\n```\n\n`options`:\n- ctrlDir\n  - controllers directory path. default: `'./controllers'`\n\n\n`routes`:\n\n```js\nvar ns = ZRouter.namespace;\nvar routes = ns('root', {\n  '': 'index',\n  'info': 'info',\n  'contact': {GET: 'form', POST: 'contact'}\n}, [\n  ns('articles', {\n    '': 'index',\n    ':year/:month/:day/:number': 'show'\n  }),\n  ns('api', [\n    ns('v1', [\n      ns('users', {\n        '': {GET: 'index', POST: 'create'},\n        ':id': [{GET: 'show', PUT: 'update', DELETE: 'delete'},\n          ns('hobbies', {\n            '': {GET: 'index', POST: 'create'},\n            ':hobbyId': {DELETE: 'delete'}\n          })\n        ],\n        ':id/bar': 'bar'\n      })\n    ])\n  ])\n]);\n```\n\nZRouter.namespace(name [, actions] [, children])\n  - name &lt;String&gt;\n  - actions &lt;Array[String/Object[path:name]/namespaceObj]&gt; (option)\n    - alse ok as not array\n  - children &lt;Array[namespace]&gt; (option)\n\n#### Make controller modules\n\n```\n- /\n  |- package.json\n  `- controllers/\n     |- root.js\n     |- articles.js\n     `- api/\n        `- v1/\n           |- users.js\n           `- users\n              `- hobbies.js\n```\n\nex) root.js:\n```js\nexports.index = function(request, response, params) {\n  response.write('called: root#index');\n};\nexports.info = function(request, response, params) {\n  response.write('called: root#info');\n};\nexports.form = function(request, response, params) {\n  response.write('called: root#form');\n};\nexports.contact = function(request, response, params) {\n  response.write('called: root#contact');\n};\n```\n\n#### Routing\n\n```js\nvar route = router.route('GET', '/info');\nif( route && typeof route.controller == 'function' ) {\n  route.controller(request, response, route.params);\n}\n```\n\n`route` object has these properties:\n- method (`'GET'`, `'POST'`...)\n- pathname (`'/'`, `'/info'`, `'/api/v1/users/:id/edit'`...)\n- ctrlPath\n  - `/` or `/info` or `/contact` -> `'/root'`\n  - `/articles` or `/articles/2000/10/15/2` -> `'/articles'`\n  - `/api/v1/users` or `/api/v1/users/123` or... -> `'/api/v1/users'`\n- actionName\n  - `GET /` -> `'index'`\n  - `GET /contact` -> `'form'`\n  - `POST /contact` -> `'contact'`\n  - `PUT /api/v1/users/123` -> `'update'`\n- controller\n  - controller function\n- params\n  - `/articles/2000/10/15/2` -> `{year: '2000', month: '10', day: '15', number: '2'}`\n  - `/api/v1/users/123` -> `{id: '123'}`\n  - `/api/v1/users/123/hobbies/foobar` -> `{id: '123', hobbyId: 'foobar'}`\n\n#### Utils\n\ncheck routes:\n\n```js\nconsole.log(router.routesToString());\n```\n\n## Links\n\n- [node package](https://www.npmjs.com/package/z-router)\n- [github repo](https://github.com/ztrehagem/node-z-router)\n","created":"2016-08-31T18:25:38.221Z","modified":"2016-09-06T06:13:19.973Z","lastPublisher":{"name":"ztrehagem","email":"megahertz.556@gmail.com"},"owners":[{"name":"ztrehagem","email":"megahertz.556@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"z-router","_nodeVersion":"6.1.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/z-router-1.2.1.tgz_1473142398033_0.7836692640557885"},"_npmUser":{"name":"ztrehagem","email":"megahertz.556@gmail.com"},"_npmVersion":"3.9.6","_rev":"1-e6cf6f623935439b1259ed4989074abf","_shasum":"f2e2165863e7b134ce078080949670ad01f63091","author":{"name":"Shigeki Suwa"},"bugs":{"url":"https://github.com/ztrehagem/node-z-router/issues"},"directories":{},"dist-tags":{"latest":"1.2.1"},"dist":{"shasum":"f2e2165863e7b134ce078080949670ad01f63091","tarball":"http://registry.npmjs.org/z-router/-/z-router-1.2.1.tgz"},"maintainers":[{"name":"ztrehagem","email":"megahertz.556@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-09-06T06:13:19.973Z","created":"2016-08-31T18:25:38.221Z","0.0.1":"2016-08-31T18:25:38.221Z","1.0.0":"2016-09-01T06:06:07.146Z","1.1.0":"2016-09-03T08:25:38.724Z","1.2.0":"2016-09-06T06:00:25.380Z","1.2.1":"2016-09-06T06:13:19.973Z"}}}