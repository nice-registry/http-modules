{"name":"rest-template","version":"0.7.5","description":"HTTP client library inspired by the Spring Framework's RestTemplate","keywords":["rest","http","client","rest-template","spring"],"licenses":[{"type":"MIT","url":"http://www.opensource.org/licenses/mit-license.php"}],"repositories":[{"type":"git","url":"https://github.com/scothis/rest"}],"dependencies":{"when":"~1"},"devDependencies":{"curl":"https://github.com/cujojs/curl/tarball/dev","dojo":"https://github.com/dojo/dojo/tarball/1.7.2","poly":"https://github.com/cujojs/poly/tarball/0.4","wire":"https://github.com/cujojs/wire/tarball/0.8.0","buster":"","jshint":""},"main":"./rest","scripts":{"test":"jshint client dojo interceptor mime test util *.js && buster test -e node --color none --reporter specification","start":"buster static -e browser"},"readme":"Rest Template\n=============\n\n[![Build Status](https://secure.travis-ci.org/scothis/rest.png?branch=master,dev)](http://travis-ci.org/scothis/rest)\n\n\n...in progress...\n\n\nGetting Started\n---------------\n\nRest can be installed via NPM, or from source.\n\nTo install without source:\n\n    $ npm install rest-template\n\nFrom source:\n\n    $ npm install\n\nRest is designed to run in a browser environment, utilizing AMD modules, or within Node.js.  [curl](https://github.com/cujojs/curl) is highly recommended as an AMD loader, although any loader should work.\n\nAn ECMAScript 5 compatible environment is assumed.  Older browsers that do not support ES5 natively can be shimmed.  Any shim should work, although we've tested against cujo's [poly](https://github.com/cujojs/poly)\n\n\nUsage\n-----\n\nUsing Rest is easy.  The core clients provide limited functionality around the request and response lifecycle.  The input and response objects are normalized to support portability between browser and server environments.\n\nThe response from a client is a promise that will be resolved when the remote request is finished.\n\nThe core client behavior can be augmented with interceptors.  An interceptor wraps the client and transforms the request and response.  For example: an interceptor may authenticate a request, or reject the promise if an error is encountered.  Interceptors may be combined to create a client with the desired behavior.  A configured interceptor acts just like a client.\n\n\n### Making a basic request: ###\n\n    define(['rest'], function(client) {\n        client({ path: '/' }).then(function(response) {\n            console.log('response: ', response);\n        });\n    });\n\nIn this example, you can see that the request object is very simple, it just includes the path.  All of the attributes of a request are optional.\n\nThe response should look familiar as well, it contains all the fields you would expect, including the response headers (many clients ignore the headers).\n\n\n### Working with JSON: ###\n\nIf you're paying attention, you may have noticed that the response.entity in the previous example is a String.  Often we need to work with more complex data types.  For this, Rest supports a rich set of MIME type conversions with the `mime` interceptor.  The correct converter will automatically be chosen based on the Content-Type response header.  Custom converts can be registered for a MIME type, more on that later...\n\n    define(['rest/interceptor/mime'], function(mime) {\n        var client = mime();\n        client({ path: '/data.json' }).then(function(response) {\n            console.log('response: ', response);\n        });\n    });\n\nBefore an interceptor can be used, it needs to be configured.  In this case, we will accept the default configuration, and obtain a client.  Now when we see the response, the entity will be a JS object instead of a String.\n\n\n### Composing Interceptors: ###\n\n    define(['rest/interceptor/mime', 'rest/interceptor/errorCode'], function(mime, errorCode) {\n        var client = mime();\n        client = errorCode(client, { code: 500 });\n        client({ path: '/data.json' }).then(\n            function(response) {\n                console.log('response: ', response);\n            },\n            function(response) {\n                console.error('response error: ', response);\n            }\n        );\n    });\n\nIn this example, we take the client create by the `mime` interceptor, and wrap it in the `errorCode` interceptor.  The errorCode interceptor can accept a configuration object that indicates what status codes should be considered an error.  In this case we override the default value of <=400, to only reject with 500 or greater status code.\n\nSince the errorCode interceptor can reject the response promise, we also add a second handler function to receive the response for requests in error.\n\nClients can continue to be composed with interceptors as needed.  At any point the client as configured can be shared.  It is safe to share clients and allow other parts of your application to continue to compose other clients around the shared core.  Your client is protected from additional interceptors that other parts of the application may add.\n\n\n### Custom MIME Converters: ###\n\n    define(['rest/mime/registry'], function(registry) {\n       registry.register('application/vnd.com.example', {\n           read: function(str) {\n               var obj = str;\n               // do string to object conversions\n               return obj;\n           },\n           write: function(obj) {\n               var str = obj;\n               // do object to string conversions\n               return str;\n           }\n       });\n    });\n\nRegistering a custom converter is a simple as calling the register function on the mime registry with the type and converter.  A converter has just two methods: `read` and `write`.  Read converts a String to a more complex Object.  Write converts an Object back into a String to be sent to the server.  HTTP is fundamentally a text based protocol after all.\n\nBuilt in converters are available under `rest/mime/type/{type}`, as an example, JSON support is located at `rest/mime/type/application/json`.  You never need to know this as a consumer, but it's a good place to find examples.\n\n\nReporting Issues\n----------------\n\nPlease report issues on [GitHub](https://github.com/scothis/rest/issues).  Include a brief description of the error, detailed information about the runtime (including shims) and any error messages.\n\nFeature requests are also welcome.\n\n\nRunning the Tests\n-----------------\n\nThe test suite can be run in two different modes: in node, or in a browser.  We use Buster.JS as the test harness, buster will be installed by npm for the node tests.  For browser tests, you may need to run `npm install -g buster` to make the buster commands available.\n\nTo run the suite in node:\n\n    $ npm test\n\nTo run the suite in a browser:\n\n    $ buster server &\n    browse to http://localhost:1111/capture in the browser(s) you wish to test, tests can be run concurrently across multiple browsers\n\n    $ buster test -e browser\n\n    kill the server process or keep it in the background for further test runs\n\n\nThanks\n------\n\n* Arjen Poutsma - Creator of Spring's RestTemplate\n* Brian Cavalier - cujo.js lead\n* John Hann - cujo.js lead\n* VMware - for allowing this project to be open sourced\n\n\nChange Log\n----------\n\nNo releases yet, soon\n\n","versions":[{"number":"0.0.1","date":"2012-05-24T00:30:26.737Z"},{"number":"0.7.5","date":"2012-07-17T02:48:50.887Z"}],"created":"2012-05-24T00:30:26.287Z","modified":"2012-07-17T02:48:50.887Z","owners":[{"name":"scothis","email":"scothis@gmail.com"}],"other":{"_attachments":{},"_id":"rest-template","_rev":"1-c94fa621663639c9d92b8c76441432be","bugs":"https://github.com/scothis/rest/issues","directories":{},"dist-tags":{"latest":"0.7.5"},"dist":{"shasum":"47c2e31b1f5ff9f91c63a1a7f6735fdcf58c2c40","tarball":"http://registry.npmjs.org/rest-template/-/rest-template-0.7.5.tgz"},"maintainers":[{"name":"scothis","email":"scothis@gmail.com"}],"time":{"modified":"2012-07-17T02:48:50.887Z","created":"2012-05-24T00:30:26.287Z","0.0.1":"2012-05-24T00:30:26.737Z","0.7.5":"2012-07-17T02:48:50.887Z"}}}