{"name":"node-relay","version":"1.0.4","description":"A relay that proxies http servers across nats.","main":"index.js","dependencies":{"chalk":"^1.1.0","express":"^4.13.1","minimist":"^1.1.1","morgan":"^1.6.1","serve-index":"^1.7.1","shortid":"^2.2.2","socket.io":"^1.3.5","socket.io-client":"^1.3.5"},"devDependencies":{"body-parser":"^1.13.2","jshint":"^2.8.0","tap":"^1.4.1","tape":"^4.0.0"},"bin":{"relay":"./bin/relay"},"scripts":{"pretest":"jshint . --exclude ./node_modules","test":"NODE_ENV=test tap ./test/*.js","start":"./bin/relay start"},"repository":"https://github.com/djblue/node-relay","license":"MIT","gitHead":"98b5c5b589fd80c3a6b447ad96a1a9ff67287868","homepage":"https://github.com/djblue/node-relay#readme","readme":"# node-relay\n\n[![Build Status](https://travis-ci.org/djblue/node-relay.svg?branch=master)](https://travis-ci.org/djblue/node-relay)\n\nAn http relay that proxies http requests using socket.io to\nsignal clients that forward the request and push the results\nback to the relay.\n\n## heroku deploy\n\n[![Deploy](https://www.herokucdn.com/deploy/button.png)](https://heroku.com/deploy)\n\n\n## install\n\nwith npm do:\n\n    $ npm install -g node-relay\n\n## usage\n\nDefault environment variables for configuration:\n\n- `RELAY_TOKEN` - for both client and server.\n  - token to secure server.\n  - token for client to access server.\n- `RELAY_SERVER` - web address of relay server.\n- `PORT` - port for server to bind to; default is 3000.\n\nNOTE: command line parameters will overwrite environment\nvariable configuration.\n\n### start\n\nStart a relay server.\n\n    $ relay start [opts]\n\nOptions:\n\n- `--token='<tokenstring>'` - token to use for securing server.\n- `--port=<number>` - port for server to bind to; default is\n  3000.\n\n### share\n\nShare a directory through a relay server. Spins up a basic [serve-static](https://www.npmjs.com/package/serve-static) server and proxies it through the relay.\n\n    $ relay share [opts] <dir>\n\nNOTE: `<dir>` can be relative or absolute.\n\nOptions:\n\n- `--token='<tokenstring>'` - token to use for connecting to relay server.\n- `--relay='<relayaddr>'` - web address of relay server.\n\n### proxy\n\nProxy local server through a relay.\n\n    $ relay proxy <addr>\n\nOptions:\n\n- `--token='<tokenstring>'` - token to use for connecting to relay server.\n- `--relay='<relayaddr>'` - web address of relay server.\n\n### ping\n\nCheck if relay server is up; should respond with `pong`. Will\ndefault to `RELAY_SERVER` if addr is not specified.\n\n    $ relay ping <addr>\n\n## api\n\nRelaying `https://www.npmjs.com` to `http://localhost:3000`.\n\nFor the server do:\n\n```javascript\nvar server = require('node-relay').server;\nserver.start({\n  port: 3000,\n  token: 'randomstring'\n});\n```\n\nFor the client do:\n\n```javascript\nvar client = require('node-relay').client;\nclient.connect({\n  server 'https://www.npmjs.com',\n  relay: 'http://localhost:3000',\n  token: 'randomstring'\n});\n```\n\n\n## the magic\n\n- http request comes into the relay-server\n- relay-server notifies relay-client about request using\n  socket.io connection\n- relay-client starts http request to application server\n- relay-client pulls request body from relay-server and streams\n  it to application server\n- relay-client pushes application server response headers/body\n  to relay-server.\n- relay-server responds to http request with pushed info\n\nSo a single http request turns into three requests.\n\n## test\n\nTo run all the tests, do:\n\n    $ npm test\n","versions":[{"number":"1.0.0","date":"2015-09-10T23:23:44.468Z"},{"number":"1.0.1","date":"2015-09-14T03:09:44.349Z"},{"number":"1.0.2","date":"2015-09-14T03:21:54.417Z"},{"number":"1.0.3","date":"2015-09-14T04:22:16.057Z"},{"number":"1.0.4","date":"2015-11-05T20:12:54.317Z"}],"created":"2015-09-10T23:23:44.468Z","modified":"2015-11-05T20:12:54.317Z","lastPublisher":{"name":"djblue","email":"a.s.badahdah@gmail.com"},"owners":[{"name":"djblue","email":"a.s.badahdah@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"node-relay","_nodeVersion":"4.1.0","_npmUser":{"name":"djblue","email":"a.s.badahdah@gmail.com"},"_npmVersion":"2.14.3","_rev":"1-f4f0d4ded0dbd14df8d4e5759fa33dfd","_shasum":"de7db6f5963dfe8c1dee798811b42a8aa99cadc7","author":{"name":"a.s.badahdah@gmail.com"},"bugs":{"url":"https://github.com/djblue/node-relay/issues"},"directories":{},"dist-tags":{"latest":"1.0.4"},"dist":{"shasum":"de7db6f5963dfe8c1dee798811b42a8aa99cadc7","tarball":"http://registry.npmjs.org/node-relay/-/node-relay-1.0.4.tgz"},"maintainers":[{"name":"djblue","email":"a.s.badahdah@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-11-05T20:12:54.317Z","created":"2015-09-10T23:23:44.468Z","1.0.0":"2015-09-10T23:23:44.468Z","1.0.1":"2015-09-14T03:09:44.349Z","1.0.2":"2015-09-14T03:21:54.417Z","1.0.3":"2015-09-14T04:22:16.057Z","1.0.4":"2015-11-05T20:12:54.317Z"}}}