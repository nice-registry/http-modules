{"name":"level-http-recorder","version":"7.2.1","description":"A rudimentary middleware / handler that records http requests to a local level db","main":"index.js","scripts":{"test":"mocha"},"repository":"https://github.com/kessler/level-http-recorder","keywords":["leveldb","middleware"],"license":"MIT","devDependencies":{"chai":"^3.5.0","level-bytewise":"^1.0.0","mocha":"~1.17.1"},"dependencies":{},"gitHead":"b20f2509eec5ae5967cd585e5d17086116655d88","homepage":"https://github.com/kessler/level-http-recorder#readme","versions":[{"number":"0.0.1","date":"2014-03-04T20:19:13.959Z"},{"number":"0.0.2","date":"2014-03-04T20:23:06.085Z"},{"number":"1.0.0","date":"2015-04-08T01:04:51.235Z"},{"number":"1.0.1","date":"2015-04-08T01:12:37.225Z"},{"number":"2.0.0","date":"2015-04-12T22:50:50.079Z"},{"number":"2.0.1","date":"2015-04-12T23:34:01.816Z"},{"number":"2.0.2","date":"2015-04-12T23:46:05.074Z"},{"number":"2.0.3","date":"2015-04-13T00:41:04.554Z"},{"number":"2.0.4","date":"2015-04-13T02:31:36.317Z"},{"number":"3.0.0","date":"2015-04-18T10:42:03.316Z"},{"number":"4.0.0","date":"2016-05-20T12:17:18.000Z"},{"number":"4.0.1","date":"2016-05-22T03:21:21.776Z"},{"number":"4.0.2","date":"2016-05-22T04:21:54.004Z"},{"number":"4.1.0","date":"2016-05-24T18:14:38.698Z"},{"number":"5.0.0","date":"2016-06-08T22:21:45.153Z"},{"number":"7.0.0","date":"2016-06-19T17:30:13.876Z"},{"number":"7.1.0","date":"2016-06-19T19:43:03.836Z"},{"number":"7.2.0","date":"2017-06-04T21:50:10.887Z"},{"number":"7.2.1","date":"2017-06-05T20:20:36.606Z"}],"readme":"# level-http-recorder [![Build Status](https://secure.travis-ci.org/kessler/level-http-recorder.png?branch=master)](http://travis-ci.org/kessler/level-http-recorder) [![stable](http://badges.github.io/stability-badges/dist/stable.svg)](http://github.com/badges/stability-badges)\n\nA rudimentary middleware / handler that records http requests to a local level db.\n\nCompatible with various web frameworks that use standard middleware interface ```function (req, res, next) {}```\n\nThis module expects the given db to support:\n- levelup interface \n- bytewise key encoding\n- json value encoding\n\n## normal use:\n```js\nvar stack = require('stack')\nvar db = require('level-bytewise')('./mydb')\nvar http = require('http')\n\nvar levelHttpRecorder = require('level-http-recorder')(db)\n\nhttp.createServer(stack(levelHttpRecorder))\n\n```\n\n### modify before a request is persisted\n```javascript\nvar stack = require('stack')\nvar db = require('level-bytewise')('./mydb')\nvar http = require('http')\n\nvar levelHttpRecorder = require('level-http-recorder')(db, function (requestData, request) {\n    // do stuff to request data\n    // DO NOT modify request!\n    requestData.myField = 'foo'\n})\n\nhttp.createServer(stack(levelHttpRecorder))\n```\n\n### schema\nEvery recorded request will have the following fields, represented here as the field name: the field name used to populate the value from the request object\n\n```javascript\n    var result = {\n        ip: request.ip, // if request had an ip property, this will be it\n        requestId: [12312312312233,2] // the leveldb key of the request,\n        method: request.method,\n        httpVersion: request.httpVersion,\n        headers: request.headers,\n        url: request.url,\n        trailers: request.trailers,\n        time: Date.utc(),\n        query: {}, // a parsed query string\n        body: ... // if there is a body to the request and config.writeBody === true || request.writeBody === true - this field will hold the entire body. It is advisable to employ limit restrictions\n    }\n```\n","created":"2014-03-04T20:19:11.852Z","modified":"2017-06-05T20:20:36.606Z","lastPublisher":{"name":"kessler","email":"yanivk@gmail.com"},"owners":[{"name":"yaniv","email":"yanivk@gmail.com"},{"name":"kessler","email":"yanivk@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"level-http-recorder","_nodeVersion":"7.9.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/level-http-recorder-7.2.1.tgz_1496694035599_0.5963767715729773"},"_npmUser":{"name":"kessler","email":"yanivk@gmail.com"},"_npmVersion":"4.2.0","_rev":"3-4c6c53870e8414fd7e7791dffe182570","_shasum":"eb1942b259b52d2fe66a67dd4974200960d25ec7","author":{"name":"Yaniv Kessler"},"bugs":{"url":"https://github.com/kessler/level-http-recorder/issues"},"directories":{},"dist-tags":{"latest":"7.2.1"},"dist":{"shasum":"eb1942b259b52d2fe66a67dd4974200960d25ec7","tarball":"https://registry.npmjs.org/level-http-recorder/-/level-http-recorder-7.2.1.tgz"},"maintainers":[{"name":"yaniv","email":"yanivk@gmail.com"},{"name":"kessler","email":"yanivk@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-06-05T20:20:36.606Z","created":"2014-03-04T20:19:11.852Z","0.0.1":"2014-03-04T20:19:13.959Z","0.0.2":"2014-03-04T20:23:06.085Z","1.0.0":"2015-04-08T01:04:51.235Z","1.0.1":"2015-04-08T01:12:37.225Z","2.0.0":"2015-04-12T22:50:50.079Z","2.0.1":"2015-04-12T23:34:01.816Z","2.0.2":"2015-04-12T23:46:05.074Z","2.0.3":"2015-04-13T00:41:04.554Z","2.0.4":"2015-04-13T02:31:36.317Z","3.0.0":"2015-04-18T10:42:03.316Z","4.0.0":"2016-05-20T12:17:18.000Z","4.0.1":"2016-05-22T03:21:21.776Z","4.0.2":"2016-05-22T04:21:54.004Z","4.1.0":"2016-05-24T18:14:38.698Z","5.0.0":"2016-06-08T22:21:45.153Z","7.0.0":"2016-06-19T17:30:13.876Z","7.1.0":"2016-06-19T19:43:03.836Z","7.2.0":"2017-06-04T21:50:10.887Z","7.2.1":"2017-06-05T20:20:36.606Z"}}}