{"name":"notmodified","description":"set and validate http cache headers","version":"0.2.4","main":"./notmodified.js","scripts":{"test":"tap test.js"},"repository":"https://github.com/AndreasMadsen/notmodified","keywords":["not modified","304","cache","http"],"devDependencies":{"tap":"0.6.x"},"license":"MIT","gitHead":"3650a9a21a06acb3fdab9622810beb9a22c1e9aa","homepage":"https://github.com/AndreasMadsen/notmodified","versions":[{"number":"0.2.0","date":"2013-01-20T20:05:43.298Z"},{"number":"0.2.1","date":"2013-01-20T20:25:20.334Z"},{"number":"0.2.2","date":"2013-01-21T19:28:45.715Z"},{"number":"0.2.3","date":"2013-01-22T07:14:24.736Z"},{"number":"0.2.4","date":"2015-02-25T12:39:44.221Z"}],"readme":"#notmodified\n\n> set and validate http cache headers\n\n## Installation\n\n```sheel\nnpm install notmodified\n```\n\n## Example\n\n```javascript\nvar notmodified = require('notmodified');\nvar http = require('http');\n\nvar startTime = new Date();\n\nhttp.createServer(function (req, res) {\n  var valid = notmodified(req, res, {\n    'hash': 'string-value',\n    'mtime': startTime\n  });\n\n  if (valid) return res.end();\n\n  res.end('Big chunk of data there should be cached');\n}).listen();\n```\n\n## API documentation\n\n```javascript\nvar notmodified = requrie('notmodified');\nvar valid = notmodified(req, res, cache);\n```\n\n`requrie('notmodified')` returns a function where the first two arguments\nare the http `req` and `res` object. The next argument (`cache`) is an object\ncontaining the cache validation data.\n\nThe `notmodified` function returns a `valid` boolean. If `valid` is `true` the\nclient cache is valid and `res.statusCode` has been set to `304`. However\n`res.end()` should stil be called.\n\nThe `cache` object can have three optional properties:\n\n* `hash` this is the `ETag` value and must be a string. If its not set no `ETag`\n  header will be send. If the client sends a `if-none-match` but no `hash`\n  value is given `valid` will be `false`.\n\n* `mtime` is the `Last-Modified` value and must be `Date` object. Just as with\n  the `ETag` the header will only be send if `mtime` is specified and `valid`\n  will be `false` if the client send `If-Modified-Since` but no `mtime` was set.\n\n* `weak` this is an extension to the `ETag` header and must be a boolean. If\n  its not set it defaults to `false`. This indicated if the `ETag` is\n  byte-by-byte valid and if a `Range` request makes sence. Specifically if and\n  only if `true` `ETag` will be prefixed with `W/`.\n\n## License\n\n**The software is license under \"MIT\"**\n\n> Copyright (c) 2013 Andreas Madsen\n>\n> Permission is hereby granted, free of charge, to any person obtaining a copy\n> of this software and associated documentation files (the \"Software\"), to deal\n> in the Software without restriction, including without limitation the rights\n> to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n> copies of the Software, and to permit persons to whom the Software is\n> furnished to do so, subject to the following conditions:\n>\n> The above copyright notice and this permission notice shall be included in\n> all copies or substantial portions of the Software.\n>\n> THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n> IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n> FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n> AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n> LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n> OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n> THE SOFTWARE.\n","created":"2013-01-20T20:05:31.166Z","modified":"2015-02-25T12:39:44.221Z","lastPublisher":{"name":"andreasmadsen","email":"amwebdk@gmail.com"},"owners":[{"name":"andreasmadsen","email":"amwebdk@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"notmodified","_nodeVersion":"1.3.0","_npmUser":{"name":"andreasmadsen","email":"amwebdk@gmail.com"},"_npmVersion":"2.5.1","_rev":"1-4ca4f74e604a77e82366c1bb19201368","_shasum":"f0c490aa34d7fdd1220938969e83bcde86aaf9e8","author":{"name":"Andreas Madsen","email":"amwebdk@gmail.com"},"bugs":{"url":"https://github.com/AndreasMadsen/notmodified/issues"},"directories":{},"dist-tags":{"latest":"0.2.4"},"dist":{"shasum":"f0c490aa34d7fdd1220938969e83bcde86aaf9e8","tarball":"http://registry.npmjs.org/notmodified/-/notmodified-0.2.4.tgz"},"maintainers":[{"name":"andreasmadsen","email":"amwebdk@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2015-02-25T12:39:44.221Z","created":"2013-01-20T20:05:31.166Z","0.2.0":"2013-01-20T20:05:43.298Z","0.2.1":"2013-01-20T20:25:20.334Z","0.2.2":"2013-01-21T19:28:45.715Z","0.2.3":"2013-01-22T07:14:24.736Z","0.2.4":"2015-02-25T12:39:44.221Z"}}}