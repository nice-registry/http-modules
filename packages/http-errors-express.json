{"name":"http-errors-express","version":"3.1.0","description":"Express middleware for handling errors created with the http-errors package.","main":"lib/index.js","scripts":{"pretest":"npm run lint","build":"babel ./src --out-dir ./lib --copy-files","lint":"eslint src/ test/","prepublish":"npm run build","preversion":"npm test","test":"babel-tape-runner test/*.js"},"repository":"https://github.com/blockai/http-errors-express","homepage":"https://github.com/blockai/http-errors-express","keywords":["rest","express","errors","middleware"],"license":"MIT","devDependencies":{"babel-cli":"^6.7.7","babel-plugin-transform-object-rest-spread":"^6.6.5","babel-preset-es2015":"^6.6.0","babel-tape-runner":"^2.0.1","blue-tape":"^0.2.0","eslint":"^2.8.0","eslint-config-airbnb":"^8.0.0","eslint-plugin-import":"^1.6.1","express":"^4.13.4","http-errors":"^1.4.0","supertest":"^1.2.0","supertest-as-promised":"^3.1.0"},"gitHead":"ac5a4d4bec1031d84c57706081fdef0e823bcb2f","versions":[{"number":"1.4.1","date":"2016-05-02T23:31:33.250Z"},{"number":"2.0.0","date":"2016-10-23T00:11:35.122Z"},{"number":"2.0.1","date":"2016-10-27T04:57:47.744Z"},{"number":"3.0.0","date":"2017-06-14T23:30:22.267Z"},{"number":"3.0.1","date":"2017-06-14T23:53:52.469Z"},{"number":"3.1.0","date":"2017-06-15T00:09:18.562Z"}],"readme":"# http-errors-express\n\n[![Build Status](https://travis-ci.org/binded/http-errors-express.svg?branch=master)](https://travis-ci.org/binded/http-errors-express)\n\n[Express](http://expressjs.com) middleware for handling errors generated or compatible with the [http-errors](https://github.com/jshttp/http-errors) module. Sends errors to client using JSON, for example:\n\n```javascript\nimport createError from 'http-errors'\n\n// ...\n\napp.post('/pay', (req, res, next) => {\n  next(createError(402, 'Your balance is too low.', {\n    detail: {\n      currentBalance: 100,\n      price: 150,\n    },\n  }))\n})\n\n// ...\n```\n\nwould send the following JSON response payload to the client:\n\n```json\n{\n  \"error\": {\n    \"name\": \"PaymentRequiredError\",\n    \"message\": \"Your balance is too low.\",\n    \"detail\": {\n      \"currentBalance\": 100,\n      \"price\": 150\n    }\n  }\n}\n```\n\nSee [./test/index.js](./test/index.js) for more examples.\n\n## Install\n\n```\nnpm install --save http-errors-express\n```\n\n## Usage\n\n**httpErrors(opts)**\n\nAll options are optional.\n\n- `opts.before` function with `(err, req, isExposed, cb)` signature that can\n    be used to log errors for example. Defaults to logging with `console.error`\n    for unexposed errors. Can ignore the `cb` and instead return a\n    promise.\n- `opts.formatError` function with `(err, req, isExposed)` signature which formats errors\n    before passing to `res.json`\n\nReturns an Express middleware. The HTTP response is only sent after the\n`before` function's callback is called. This is useful if we want to\ninclude an error ID received from a remote error logging service (e.g.\nservice) as part of the response.\n\nIf an exposed error has a `detail` property, it will by default be\nincluded as part of the JSON response.\n\n```javascript\nimport express from 'express'\nimport httpErrors from 'http-errors-express'\n\nconst app = express()\n// ...\n// This should be the last middleware\napp.use(httpErrors())\n```\n\nSee [./test/index.js](./test/index.js) for more examples.\n","created":"2016-05-02T23:31:33.250Z","modified":"2017-06-15T00:09:18.562Z","lastPublisher":{"name":"olalonde","email":"olalonde@gmail.com"},"owners":[{"name":"olalonde","email":"olalonde@gmail.com"}],"other":{"_attachments":{},"_id":"http-errors-express","_nodeVersion":"8.0.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/http-errors-express-3.1.0.tgz_1497485358422_0.00437204958871007"},"_npmUser":{"name":"olalonde","email":"olalonde@gmail.com"},"_npmVersion":"5.0.0","_rev":"6-faaca77cceec37509c9eebbb63718f28","author":{"name":"Olivier Lalonde","email":"olalonde@gmail.com"},"bugs":{"url":"https://github.com/blockai/http-errors-express/issues"},"directories":{},"dist-tags":{"latest":"3.1.0"},"dist":{"integrity":"sha512-MJv96RZdIyCBDO7sLckmoJdNckU+do0OjczeRdxdCfFKqn7lqoySlLBrpAni3Y5xEOXn/XyWuEuroA1BmXytig==","shasum":"8abcbd7ff446f304b7059e7e5c8bb3b377259672","tarball":"https://registry.npmjs.org/http-errors-express/-/http-errors-express-3.1.0.tgz"},"maintainers":[{"name":"olalonde","email":"olalonde@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-06-15T00:09:18.562Z","created":"2016-05-02T23:31:33.250Z","1.4.1":"2016-05-02T23:31:33.250Z","2.0.0":"2016-10-23T00:11:35.122Z","2.0.1":"2016-10-27T04:57:47.744Z","3.0.0":"2017-06-14T23:30:22.267Z","3.0.1":"2017-06-14T23:53:52.469Z","3.1.0":"2017-06-15T00:09:18.562Z"}}}