{"name":"http-piper","version":"1.0.1","description":"Node.js Middleware to provide pipelining procedures for each URL segment","main":"index.js","scripts":{"test":"mocha test/test.js"},"license":"ISC","repository":"https://github.com/fmsouza/piper","devDependencies":{"expect":"^1.20.2","mocha":"^3.0.2"},"dependencies":{"url":"^0.11.0"},"gitHead":"314007e55f9cfaf8de30952f2469bc1257ba127b","homepage":"https://github.com/fmsouza/piper#readme","versions":[{"number":"1.0.0","date":"2016-09-06T01:51:41.751Z"},{"number":"1.0.1","date":"2016-09-06T03:13:07.585Z"}],"readme":"# HTTP Piper (pre-alpha)\nNode.js Middleware to provide pipelining procedures for each URL segment\n\n## Installation\n`npm install http-piper`\n\n\n## Example\n\n```javascript\nconst http = require('http');\nconst piper = require('http-piper');\n\nfunction incrementor(req, res, body) {\n    body.value = parseInt(body.value) + 1;\n    return body;\n}\n\nfunction multiplier(req, res, body) {\n    body.value = parseInt(body.a) * parseInt(body.b);\n    delete body.a; delete body.b;\n    return body;\n}\n\nfunction decrementor(req, res, body) {\n    body.value = parseInt(body.value) - 1;\n    return body;\n}\n\npiper.pipe('/multiply', multiplier);\npiper.pipe('/increment', incrementor, { depends: ['multiply'] });\npiper.pipe('/decrement', decrementor, { depends: ['increment'] });\n\nserver = http.createServer(piper);\nserver.listen(8080, 'localhost');\n\nhttp.get(`http://localhost:8080/multiply/increment/?a=5&b=7`, (res) => {\n    var body = '';\n    res.on('data', (chunk) => body += chunk);\n    res.on('end', function() {\n        // res.statusCode === 200\n        // body === \"{ 'value': 36 }\"\n    });\n});\n\n// '/increment' pipe depending on '/multiply'\nhttp.get(`http://localhost:8080/increment/?value=20`, (res) => {\n    var body = '';\n    res.on('data', (chunk) => body += chunk);\n    res.on('end', function() {\n        // res.statusCode === 400\n        // body === \"{ 'status': 'PiperError', 'message': 'This URL is not allowed.' }\"\n    });\n});\n\n// '/decrement' pipe depending on '/increment' which depends on '/multiply'\nhttp.get(`http://localhost:8080/multiply/increment/decrement/?a=5&b=4`, (res) => {\n    var body = '';\n    res.on('data', (chunk) => body += chunk);\n    res.on('end', function() {\n        // res.statusCode === 400\n        // body === \"{ 'value': 20 }\"\n    });\n});\n```\n\n> Currently it's under heavy development and is completely unstable.\n","created":"2016-09-06T01:51:41.751Z","modified":"2016-09-06T03:13:07.585Z","lastPublisher":{"name":"fredamsouza","email":"fredericoamsouza@gmail.com"},"owners":[{"name":"fredamsouza","email":"fredericoamsouza@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"http-piper","_nodeVersion":"6.5.0","_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/http-piper-1.0.1.tgz_1473131585573_0.2048860110808164"},"_npmUser":{"name":"fredamsouza","email":"fredericoamsouza@gmail.com"},"_npmVersion":"3.10.3","_rev":"1-28ab980fd691840439f2db71d1f9fc3d","_shasum":"5b9d36c4ba2a92d6b905e6f8dcbb6bfc4c3ef1a7","author":{"name":"Fred Souza","url":"fredericoamsouza@gmail.com"},"bugs":{"url":"https://github.com/fmsouza/piper/issues"},"directories":{},"dist-tags":{"latest":"1.0.1"},"dist":{"shasum":"5b9d36c4ba2a92d6b905e6f8dcbb6bfc4c3ef1a7","tarball":"http://registry.npmjs.org/http-piper/-/http-piper-1.0.1.tgz"},"maintainers":[{"name":"fredamsouza","email":"fredericoamsouza@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-09-06T03:13:07.585Z","created":"2016-09-06T01:51:41.751Z","1.0.0":"2016-09-06T01:51:41.751Z","1.0.1":"2016-09-06T03:13:07.585Z"}}}