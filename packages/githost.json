{"name":"githost","version":"1.4.5","description":"HTTP Git sever, powered by koa","main":"./lib/index.js","scripts":{"test":"mocha --harmony --compilers coffee:coffee-script/register test/*_test.coffee"},"repository":"https://github.com/RobinQu/githost","license":"MIT","homepage":"https://github.com/RobinQu/githost","dependencies":{"bluebird":"^2.9.34","debug":"~2.2.0","git-side-band-message":"0.0.3","koa":"~0.21.0","koa-router":"~5.1.2","lodash":"^3.10.0","mkdirp":"^0.5.1","through2":"~2.0.0"},"devDependencies":{"chai":"~3.2.0","coffee-script":"~1.9.3","eslint":"^0.24.1","mocha":"~2.2.5","sinon":"~1.15.4","supertest":"~1.0.1"},"gitHead":"2de9442c7d0c1eabff08276d091ca49b8797e3b3","versions":[{"number":"1.0.0","date":"2015-07-29T01:32:40.823Z"},{"number":"1.0.1","date":"2015-07-29T07:23:54.634Z"},{"number":"1.1.0","date":"2015-07-29T12:23:26.865Z"},{"number":"1.1.1","date":"2015-07-30T08:15:48.483Z"},{"number":"1.3.0","date":"2015-08-05T07:20:11.317Z"},{"number":"1.3.1","date":"2015-08-06T07:44:43.750Z"},{"number":"1.4.1","date":"2015-08-16T14:46:36.039Z"},{"number":"1.4.2","date":"2015-08-18T11:03:41.552Z"},{"number":"1.4.3","date":"2015-11-19T06:13:26.722Z"},{"number":"1.4.4","date":"2016-03-21T06:33:35.767Z"},{"number":"1.4.5","date":"2016-03-21T07:27:34.314Z"}],"readme":"# GitHost\n\nHTTP Git sever, powered by koa\n\n\n## Usage\n\nDepends on `git` CLI currently. It will use something like `libgit` in the future.\n\n### Basics\n\nStart GitHost server,using `githost.repo(options)`\n\n```\nvar githost = require('githost');\n\ngithost.repo().listen(8080, function () {\n  console.log('git server is up and running at port 8080');\n});\n```\n\nUsing git commands, like:\n\n```\ngit push http://localhost:8080/myGroup/myRepo.git master\n```\n\nOptions:\n\n* `options.root`: {String} root directory of repo\n* `options.delegate`: {HostDelegate} repo delegate object\n* `options.autoCreate`: {Boolean} create an empty repo if not found\n* `options.checkout`: {Boolean} checkout the files instead of using a bare repo\n\n\n### Delegate\n\n```\nvar githost = require('githost');\n\nvar delegate = githost.HostDelegate.create({\n\n  //message to append\n  message: function(event, write, end) {\n    //event.repo.name\n    //event.repo.group\n    //event.type === 'reply'\n\n    //write to client\n    write('hello, world');\n    end();\n  },\n\n  //interceptor for events\n  intercept: function(event) {\n    //event.repo.name\n    //event.repo.group\n    //event.repo.type is one of 'fetch', 'push', 'tag', 'info'\n\n\n    //returns a yieldable to determine if this event should be intercepted\n    return Promise.resolve({ok: true});\n  }\n});\n\nvar app = githost.repo({delegate: delegate});\napp.listen(7070);\n```\n\n\n### Embbeded to another koa app\n\n```\nvar mount = require('koa-mount');\nvar app = require('koa');\nvar githost = require('githost');\n\napp.use(mount('/git', githost.repo()));\n//Or\n// githost.repo(app, options);\n\napp.use(function *() {\n  if(this.path.indexOf('/git') === -1) {\n    this.body = 'outside git repo';\n  }\n});\n\napp.listen(8080);\n```\n\n## Remarks\n\n* inspired by substack/pushover\n","created":"2015-07-29T01:32:40.823Z","modified":"2016-03-21T07:27:34.314Z","lastPublisher":{"name":"robinqu","email":"robinqu@gmail.com"},"owners":[{"name":"robinqu","email":"robinqu@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"githost","_nodeVersion":"4.2.2","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/githost-1.4.5.tgz_1458545251881_0.6241615817416459"},"_npmUser":{"name":"robinqu","email":"robinqu@gmail.com"},"_npmVersion":"2.14.7","_rev":"1-404cc756cd0d64215879287064bf0200","_shasum":"94f0e05eead8ddd02ffad2779e35d6071ea012eb","author":"","bugs":{"url":"https://github.com/RobinQu/githost/issues"},"directories":{},"dist-tags":{"latest":"1.4.5"},"dist":{"shasum":"94f0e05eead8ddd02ffad2779e35d6071ea012eb","tarball":"http://registry.npmjs.org/githost/-/githost-1.4.5.tgz"},"maintainers":[{"name":"robinqu","email":"robinqu@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2016-03-21T07:27:34.314Z","created":"2015-07-29T01:32:40.823Z","1.0.0":"2015-07-29T01:32:40.823Z","1.0.1":"2015-07-29T07:23:54.634Z","1.1.0":"2015-07-29T12:23:26.865Z","1.1.1":"2015-07-30T08:15:48.483Z","1.3.0":"2015-08-05T07:20:11.317Z","1.3.1":"2015-08-06T07:44:43.750Z","1.4.1":"2015-08-16T14:46:36.039Z","1.4.2":"2015-08-18T11:03:41.552Z","1.4.3":"2015-11-19T06:13:26.722Z","1.4.4":"2016-03-21T06:33:35.767Z","1.4.5":"2016-03-21T07:27:34.314Z"}}}