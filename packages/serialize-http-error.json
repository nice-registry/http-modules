{"name":"serialize-http-error","version":"1.0.0","description":"Prepare an Error for JSON serialization","main":"index.js","files":[],"scripts":{"clean":"rimraf npm-debug.log coverage","lint":"eslint index.js test","lint:fix":"npm run lint -- --fix","release":"npm outdated --long && xyz --edit --repo git@github.com:Avaq/serialize-http-error.git --tag 'X.Y.Z' --increment","test":"npm run test:all && npm run test:coverage && codecov","test:all":"npm run lint && npm run test:unit","test:unit":"_mocha --ui bdd --reporter list --check-leaks --full-trace test/**.test.js","test:coverage":"npm run clean && istanbul cover --report html _mocha -- --ui bdd --reporter dot --check-leaks --bail test/**.test.js"},"repository":"https://github.com/Avaq/serialize-http-error","license":"MIT","homepage":"https://github.com/Avaq/serialize-http-error","devDependencies":{"chai":"^3.5.0","codecov":"^2.1.0","eslint":"^3.19.0","eslint-config-warp":"^1.2.0","istanbul":"^0.4.5","jsverify":"^0.8.2","mocha":"^3.2.0","rimraf":"^2.6.1","xyz":"^2.1.0"},"gitHead":"42874bc0a4435112ea2143a7f01761546219202e","versions":[{"number":"0.0.0","date":"2017-04-05T15:01:12.863Z"},{"number":"1.0.0","date":"2017-04-05T15:06:07.433Z"}],"readme":"# Serialize HTTP Error\n\n[![NPM Version](https://badge.fury.io/js/serialize-http-error.svg)](https://www.npmjs.com/package/serialize-http-error)\n[![Build Status](https://travis-ci.org/Avaq/serialize-http-error.svg?branch=master)](https://travis-ci.org/Avaq/serialize-http-error)\n[![Code Coverage](https://codecov.io/gh/Avaq/serialize-http-error/branch/master/graph/badge.svg)](https://codecov.io/gh/Avaq/serialize-http-error)\n\nSerializes any input (preferrably an Error) to a plain old JavaScript Object\nwhich has the following guarantees:\n\n1. The error will be exposed if:\n\n    - The `NODE_ENV` is `\"development\"`, or;\n    - The [`expose`](#expose) option is `true`, or;\n    - the `expose` property is `true`, or;\n    - the `status` property contains a number less than `500`.\n\n2. Has at least a `name` property and a `message` property, both *always* Strings.\n   They default to `\"Error\"` and `\"Something went wrong\"`\n\n3. Other enumerable properties are copied under the following conditions:\n\n    - The error is exposed, and;\n    - the property is safe for `JSON.stringify` (unless [`unsafe`](#unsafe)).\n\n## Usage\n\n```js\nconst serializeHttpError = require('serialize-http-error');\nconst app = require('express')();\n\napp.use((err, req, res, next) => {\n  res.status(err.status || 500);\n  res.json(serializeHttpError(err));\n});\n```\n\n## Options\n\nThe second argument to `serializeHttpError` may be an object with options, eg:\n\n```js\nserializeHttpError(err, {\n  unsafe: true,\n  flat: true,\n  expose: false\n});\n```\n\n### `unsafe`\n\n> `false`\n\nIf set to `true`, all enumerable properties, even recursive ones, will be\ncopied. This allows for customized resolution of these properties, for example\nby using the `replacer` argument in `JSON.stringify`.\n\n### `flat`\n\n> `false`\n\nBy default, nested Error objects are also serialized. If set to `true`, they\nwill be left intact.\n\n### `expose`\n\n> `process.NODE_ENV === 'development'`\n\nIf set to `true`, *all* errors will be exposed. If set to false, only exposable\nerrors are exposed.\n\n### `defaultName`\n\n> `'Error'`\n\nThe default name to use for values which don't have a name, or errors which\nmay not be exposed.\n\n### `defaultMessage`\n\n> `'Something went wrong'`\n\nThe default message to use for values which don't have a message, or errors\nwhich may not be exposed.\n","created":"2017-04-05T15:01:12.863Z","modified":"2017-04-05T15:06:07.433Z","lastPublisher":{"name":"avaq","email":"aldwin.vlasblom@gmail.com"},"owners":[{"name":"avaq","email":"aldwin.vlasblom@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"serialize-http-error","_nodeVersion":"6.5.0","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/serialize-http-error-1.0.0.tgz_1491404766604_0.3727677932474762"},"_npmUser":{"name":"avaq","email":"aldwin.vlasblom@gmail.com"},"_npmVersion":"3.8.6","_rev":"2-eaf4eb4b78e905af9afa3d0aec6998b4","_shasum":"27a2a171ba7951acfc75efe2a91639470cf0bd11","author":{"name":"Aldwin Vlasblom","email":"aldwin.vlasblom@gmail.com","url":"https://github.com/Avaq"},"bugs":{"url":"https://github.com/Avaq/serialize-http-error/issues"},"directories":{},"dist-tags":{"latest":"1.0.0"},"dist":{"shasum":"27a2a171ba7951acfc75efe2a91639470cf0bd11","tarball":"https://registry.npmjs.org/serialize-http-error/-/serialize-http-error-1.0.0.tgz"},"maintainers":[{"name":"avaq","email":"aldwin.vlasblom@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-04-05T15:06:07.433Z","created":"2017-04-05T15:01:12.863Z","0.0.0":"2017-04-05T15:01:12.863Z","1.0.0":"2017-04-05T15:06:07.433Z"}}}