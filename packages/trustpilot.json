{"name":"trustpilot","version":"2.2.0","description":"HTTP client for Trustpilot","homepage":"https://github.com/trustpilot/node-trustpilot","repository":"https://github.com/trustpilot/node-trustpilot","license":"MIT","keywords":["API","Trustpilot","reviews","review"],"main":"./src/client.js","scripts":{"start":"node src/client.js","test":"gulp test"},"dependencies":{"request-promise":"1.0.2"},"devDependencies":{"babel-eslint":"^7.2.1","chai":"^3.2.0","chai-as-promised":"^5.1.0","eslint-config-trustpilot":"^1.7.0","eslint-plugin-babel":"^4.1.1","gulp":"^3.9.0","gulp-eslint":"^3.0.1","gulp-mocha":"^2.1.3","mocha":"^2.3.2"},"gitHead":"ad457bd51874697b48794535011f76be7b606867","readme":"# trustpilot\r\n\r\n[![Build Status](https://travis-ci.org/trustpilot/node-trustpilot.svg?branch=master)](https://travis-ci.org/trustpilot/node-trustpilot) [![npm](https://img.shields.io/npm/v/trustpilot.svg)](https://www.npmjs.com/package/trustpilot)\r\n\r\nThis a node API wrapper for accessing the Trustpilot APIs. You can learn all about the Trustpilot API at [https://developers.trustpilot.com/](https://developers.trustpilot.com/).\r\n\r\n## Installation\r\n\r\nThis module is built using Node.js `v4.0.x`.\r\n\r\nIf you are not using version 4 of Node, you'll have to transpile the code down to ES5 yourself.\r\n\r\nInstall using `npm install trustpilot`\r\n\r\n## Usage\r\n\r\nThe trustpilot module is Promise based. It provides [request-promise](https://github.com/request/request-promise) objects with sane defaults.\r\n\r\n### Basic Usage\r\n\r\n```js\r\nlet Trustpilot = require('trustpilot');\r\n\r\nlet client = new Trustpilot(\r\n  {\r\n    apiKey: 'YOUR-API-KEY',\r\n    secret: 'YOUR-SECRET',\r\n    username: 'YOUR-TRUSTPILOT-B2B-USERNAME',\r\n    password: 'YOUR-TRUSTPILOT-B2B-PASSWORD'\r\n  });\r\n\r\n// For basic calls authentified by API key, use client.apiRequest\r\nclient.apiRequest('/v1/resources/images')\r\n  .then((response) => {\r\n    // handle the response\r\n  })\r\n  .catch((error) => {\r\n    // handle the error\r\n  });\r\n```\r\n\r\n### Usage with OAuth\r\n\r\nFor calls authentified by OAuth token, use the `authenticate()` promise, which resolves with a `request-promise`\r\nobject with everything you need.\r\n\r\n```js\r\nclient.authenticate((rp) => {\r\n  return rp(`/v1/private/business-units/${YOUR_BUSINESS_UNIT_ID}/reviews`)\r\n})\r\n  .then((response) => {\r\n    // handle the response\r\n  })\r\n  .catch((error) => {\r\n    // handle the error\r\n  });\r\n```\r\n\r\n### Invitations API\r\n\r\nThe Invitations API methods have a different base URL. Here are two ways you can access them.\r\n\r\n1. Knowing that `authenticate()` promises you a `request-promise` object, you can use `.defaults()` to override the base URL.\r\n\r\n```js\r\nclient.authenticate((rp) => {\r\n  return rp.defaults({\r\n    baseUrl: 'https://invitations-api.trustpilot.com'\r\n  })(AN-INVITATIONS-API-ENDPOINT)\r\n})\r\n```\r\n\r\n2. If you only need to access the Invitations API, just initialize your client with the Invitations API base URL.\r\n```js\r\nlet Trustpilot = require('trustpilot');\r\n\r\nlet client = new Trustpilot(\r\n  {\r\n    apiKey: 'YOUR-API-KEY',\r\n    secret: 'YOUR-SECRET',\r\n    username: 'YOUR-TRUSTPILOT-B2B-USERNAME',\r\n    password: 'YOUR-TRUSTPILOT-B2B-PASSWORD'\r\n    baseUrl: 'https://invitations-api.trustpilot.com'\r\n  });\r\n```\r\n","versions":[{"number":"0.0.1","date":"2015-10-23T14:01:04.757Z"},{"number":"1.0.0","date":"2015-11-02T12:04:53.313Z"},{"number":"1.0.1","date":"2015-11-24T10:06:56.741Z"},{"number":"1.0.2","date":"2016-08-12T08:38:59.858Z"},{"number":"1.1.0","date":"2017-03-09T15:57:03.932Z"},{"number":"2.0.0","date":"2017-04-04T09:50:51.862Z"},{"number":"2.1.0","date":"2017-04-19T12:42:08.613Z"},{"number":"2.2.0","date":"2017-06-15T08:18:24.244Z"}],"created":"2015-10-23T14:01:04.757Z","modified":"2017-06-15T08:18:24.244Z","lastPublisher":{"name":"trustpilot","email":"dev.accounts@trustpilot.com"},"owners":[{"name":"trustpilot","email":"dev.accounts@trustpilot.com"}],"other":{"_attachments":{},"_from":".","_id":"trustpilot","_nodeVersion":"6.9.1","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/trustpilot-2.2.0.tgz_1497514703207_0.7113204672932625"},"_npmUser":{"name":"trustpilot","email":"dev.accounts@trustpilot.com"},"_npmVersion":"3.10.8","_rev":"5-592aa76b8a844db6e5ff41dd01a55397","_shasum":"98b71405af8e97dbd0fd1c144f2c5dc1452bbaa6","author":{"name":"Trustpilot"},"bugs":{"url":"https://github.com/trustpilot/node-trustpilot/issues"},"directories":{},"dist-tags":{"latest":"2.2.0"},"dist":{"shasum":"98b71405af8e97dbd0fd1c144f2c5dc1452bbaa6","tarball":"https://registry.npmjs.org/trustpilot/-/trustpilot-2.2.0.tgz"},"maintainers":[{"name":"trustpilot","email":"dev.accounts@trustpilot.com"}],"readmeFilename":"README.md","time":{"modified":"2017-06-15T08:18:24.244Z","created":"2015-10-23T14:01:04.757Z","0.0.1":"2015-10-23T14:01:04.757Z","1.0.0":"2015-11-02T12:04:53.313Z","1.0.1":"2015-11-24T10:06:56.741Z","1.0.2":"2016-08-12T08:38:59.858Z","1.1.0":"2017-03-09T15:57:03.932Z","2.0.0":"2017-04-04T09:50:51.862Z","2.1.0":"2017-04-19T12:42:08.613Z","2.2.0":"2017-06-15T08:18:24.244Z"}}}